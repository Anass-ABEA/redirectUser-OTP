(self.webpackChunkotp_application_angular=self.webpackChunkotp_application_angular||[]).push([[179],{325:($a,qa,se)=>{"use strict";function ke(e){return"function"==typeof e}function Yn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Xs=Yn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function eo(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ae{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ke(r))try{r()}catch(o){t=o instanceof Xs?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{In(o)}catch(c){t=t??[],c instanceof Xs?t=[...t,...c.errors]:t.push(c)}}if(t)throw new Xs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)In(t);else{if(t instanceof ae){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&eo(n,t)}remove(t){const{_finalizers:n}=this;n&&eo(n,t),t instanceof ae&&t._removeParent(this)}}ae.EMPTY=(()=>{const e=new ae;return e.closed=!0,e})();const gr=ae.EMPTY;function Li(e){return e instanceof ae||e&&"closed"in e&&ke(e.remove)&&ke(e.add)&&ke(e.unsubscribe)}function In(e){ke(e)?e():e.unsubscribe()}const nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ii={setTimeout(e,t,...n){const{delegate:r}=ii;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ii;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Bn(e){ii.setTimeout(()=>{const{onUnhandledError:t}=nn;if(!t)throw e;t(e)})}function to(){}const za=no("C",void 0,void 0);function no(e,t,n){return{kind:e,value:t,error:n}}let mr=null;function ki(e){if(nn.useDeprecatedSynchronousErrorHandling){const t=!mr;if(t&&(mr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=mr;if(mr=null,n)throw r}}else e()}class io extends ae{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Li(t)&&t.add(this)):this.destination=Jn}static create(t,n,r){return new Kt(t,n,r)}next(t){this.isStopped?so(function Re(e){return no("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?so(function K(e){return no("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?so(za,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ji=Function.prototype.bind;function Qn(e,t){return ji.call(e,t)}class rn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){si(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){si(r)}else si(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){si(n)}}}class Kt extends io{constructor(t,n,r){let i;if(super(),ke(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&nn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Qn(t.next,o),error:t.error&&Qn(t.error,o),complete:t.complete&&Qn(t.complete,o)}):i=t}this.destination=new rn(i)}}function si(e){nn.useDeprecatedSynchronousErrorHandling?function ro(e){nn.useDeprecatedSynchronousErrorHandling&&mr&&(mr.errorThrown=!0,mr.error=e)}(e):Bn(e)}function so(e,t){const{onStoppedNotification:n}=nn;n&&ii.setTimeout(()=>n(e,t))}const Jn={closed:!0,next:to,error:function Ml(e){throw e},complete:to},oo="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xn(e){return e}function Ka(e){return 0===e.length?Xn:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let ft=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Pl(e){return e&&e instanceof io||function Bi(e){return e&&ke(e.next)&&ke(e.error)&&ke(e.complete)}(e)&&Li(e)}(n)?n:new Kt(n,r,i);return ki(()=>{const{operator:c,source:f}=this;o.add(c?c.call(o,f):f?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ga(r))((i,o)=>{const c=new Kt({next:f=>{try{n(f)}catch(d){o(d),c.unsubscribe()}},error:o,complete:i});this.subscribe(c)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[oo](){return this}pipe(...n){return Ka(n)(this)}toPromise(n){return new(n=Ga(n))((r,i)=>{let o;this.subscribe(c=>o=c,c=>i(c),()=>r(o))})}}return e.create=t=>new e(t),e})();function Ga(e){var t;return null!==(t=e??nn.Promise)&&void 0!==t?t:Promise}const Ol=Yn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let mn=(()=>{class e extends ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Wa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ol}next(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?gr:(this.currentObservers=null,o.push(n),new ae(()=>{this.currentObservers=null,eo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ft;return n.source=this,n}}return e.create=(t,n)=>new Wa(t,n),e})();class Wa extends mn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:gr}}function Za(e){return ke(e?.lift)}function dt(e){return t=>{if(Za(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(e,t,n,r,i){return new Ll(e,t,n,r,i)}class Ll extends io{constructor(t,n,r,i,o,c){super(t),this.onFinalize=o,this.shouldUnsubscribe=c,this._next=n?function(f){try{n(f)}catch(d){t.error(d)}}:super._next,this._error=i?function(f){try{i(f)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function We(e,t){return dt((n,r)=>{let i=0;n.subscribe(ht(r,o=>{r.next(e.call(t,o,i++))}))})}function er(e){return this instanceof er?(this.v=e,this):new er(e)}function Xa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function lo(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(c){return new Promise(function(f,d){!function i(o,c,f,d){Promise.resolve(d).then(function(D){o({value:D,done:f})},c)}(f,d,(c=e[o](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ho=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function eu(e){return ke(e?.then)}function po(e){return ke(e[oo])}function tu(e){return Symbol.asyncIterator&&ke(e?.[Symbol.asyncIterator])}function nu(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ru=function nf(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function iu(e){return ke(e?.[ru])}function su(e){return function Ja(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(B){r[B]&&(i[B]=function(U){return new Promise(function(Z,J){o.push([B,U,Z,J])>1||f(B,U)})})}function f(B,U){try{!function d(B){B.value instanceof er?Promise.resolve(B.value.v).then(D,A):N(o[0][2],B)}(r[B](U))}catch(Z){N(o[0][3],Z)}}function D(B){f("next",B)}function A(B){f("throw",B)}function N(B,U){B(U),o.shift(),o.length&&f(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield er(n.read());if(i)return yield er(void 0);yield yield er(r)}}finally{n.releaseLock()}})}function ou(e){return ke(e?.getReader)}function sn(e){if(e instanceof ft)return e;if(null!=e){if(po(e))return function rf(e){return new ft(t=>{const n=e[oo]();if(ke(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ho(e))return function sf(e){return new ft(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(eu(e))return function af(e){return new ft(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Bn)})}(e);if(tu(e))return au(e);if(iu(e))return function uf(e){return new ft(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(ou(e))return function cf(e){return au(su(e))}(e)}throw nu(e)}function au(e){return new ft(t=>{(function lf(e,t){var n,r,i,o;return function Ya(e,t,n,r){return new(n||(n=Promise))(function(o,c){function f(A){try{D(r.next(A))}catch(N){c(N)}}function d(A){try{D(r.throw(A))}catch(N){c(N)}}function D(A){A.done?o(A.value):function i(o){return o instanceof n?o:new n(function(c){c(o)})}(A.value).then(f,d)}D((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Xa(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Hn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function St(e,t,n=1/0){return ke(t)?St((r,i)=>We((o,c)=>t(r,o,i,c))(sn(e(r,i))),n):("number"==typeof t&&(n=t),dt((r,i)=>function ff(e,t,n,r,i,o,c,f){const d=[];let D=0,A=0,N=!1;const B=()=>{N&&!d.length&&!D&&t.complete()},U=J=>D<r?Z(J):d.push(J),Z=J=>{o&&t.next(J),D++;let te=!1;sn(n(J,A++)).subscribe(ht(t,ie=>{i?.(ie),o?U(ie):t.next(ie)},()=>{te=!0},void 0,()=>{if(te)try{for(D--;d.length&&D<r;){const ie=d.shift();c?Hn(t,c,()=>Z(ie)):Z(ie)}B()}catch(ie){t.error(ie)}}))};return e.subscribe(ht(t,U,()=>{N=!0,B()})),()=>{f?.()}}(r,i,e,n)))}function Br(e=1/0){return St(Xn,e)}const An=new ft(e=>e.complete());function yr(e){return e[e.length-1]}function oi(e){return function hf(e){return e&&ke(e.schedule)}(yr(e))?e.pop():void 0}function cu(e,t=0){return dt((n,r)=>{n.subscribe(ht(r,i=>Hn(r,e,()=>r.next(i),t),()=>Hn(r,e,()=>r.complete(),t),i=>Hn(r,e,()=>r.error(i),t)))})}function lu(e,t=0){return dt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function fu(e,t){if(!e)throw new Error("Iterable cannot be null");return new ft(n=>{Hn(n,t,()=>{const r=e[Symbol.asyncIterator]();Hn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function bt(e,t){return t?function wf(e,t){if(null!=e){if(po(e))return function gf(e,t){return sn(e).pipe(lu(t),cu(t))}(e,t);if(ho(e))return function mf(e,t){return new ft(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(eu(e))return function Hr(e,t){return sn(e).pipe(lu(t),cu(t))}(e,t);if(tu(e))return fu(e,t);if(iu(e))return function vf(e,t){return new ft(n=>{let r;return Hn(n,t,()=>{r=e[ru](),Hn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(c){return void n.error(c)}o?n.complete():n.next(i)},0,!0)}),()=>ke(r?.return)&&r.return()})}(e,t);if(ou(e))return function yf(e,t){return fu(su(e),t)}(e,t)}throw nu(e)}(e,t):sn(e)}class on extends mn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Ee(...e){return bt(e,oi(e))}function At(e={}){const{connector:t=(()=>new mn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let c,f,d,D=0,A=!1,N=!1;const B=()=>{f?.unsubscribe(),f=void 0},U=()=>{B(),c=d=void 0,A=N=!1},Z=()=>{const J=c;U(),J?.unsubscribe()};return dt((J,te)=>{D++,!N&&!A&&B();const ie=d=d??t();te.add(()=>{D--,0===D&&!N&&!A&&(f=go(Z,i))}),ie.subscribe(te),!c&&D>0&&(c=new Kt({next:X=>ie.next(X),error:X=>{N=!0,B(),f=go(U,n,X),ie.error(X)},complete:()=>{A=!0,B(),f=go(U,r),ie.complete()}}),sn(J).subscribe(c))})(o)}}function go(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Kt({next:()=>{r.unsubscribe(),e()}});return sn(t(...n)).subscribe(r)}function _n(e,t){return dt((n,r)=>{let i=null,o=0,c=!1;const f=()=>c&&!i&&r.complete();n.subscribe(ht(r,d=>{i?.unsubscribe();let D=0;const A=o++;sn(e(d,A)).subscribe(i=ht(r,N=>r.next(t?t(d,N,A,D++):N),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function mo(e,t){return e===t}function $e(e){for(let t in e)if(e[t]===$e)return t;throw Error("Could not find renamed property on target object.")}function pt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(pt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ai(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Vi=$e({__forward_ref__:$e});function Rt(e){return e.__forward_ref__=Rt,e.toString=function(){return pt(this())},e}function fe(e){return vo(e)?e():e}function vo(e){return"function"==typeof e&&e.hasOwnProperty(Vi)&&e.__forward_ref__===Rt}function ui(e){return e&&!!e.\u0275providers}class oe extends Error{constructor(t,n){super(function ci(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function xe(e){return"string"==typeof e?e:null==e?"":String(e)}function du(e,t){throw new oe(-201,!1)}function an(e,t){null==e&&function De(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ye(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function nr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ui(e){return pu(e,Me)||pu(e,gu)}function pu(e,t){return e.hasOwnProperty(t)?e[t]:null}function $i(e){return e&&(e.hasOwnProperty(wo)||e.hasOwnProperty(Af))?e[wo]:null}const Me=$e({\u0275prov:$e}),wo=$e({\u0275inj:$e}),gu=$e({ngInjectableDef:$e}),Af=$e({ngInjectorDef:$e});var Te=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Te||{});let Do;function Lt(e){const t=Do;return Do=e,t}function vu(e,t,n){const r=Ui(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Te.Optional?null:void 0!==t?t:void du(pt(e))}const Ne=globalThis;class he{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yt={},xo="__NG_DI_FLAG__",qi="ngTempTokenPath",Vr=/\n/gm,ot="__source";let He;function wt(e){const t=He;return He=e,t}function Rf(e,t=Te.Default){if(void 0===He)throw new oe(-203,!1);return null===He?vu(e,void 0,t):He.get(e,t&Te.Optional?null:void 0,t)}function ve(e,t=Te.Default){return(function mu(){return Do}()||Rf)(fe(e),t)}function re(e,t=Te.Default){return ve(e,zi(t))}function zi(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Du(e){const t=[];for(let n=0;n<e.length;n++){const r=fe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new oe(900,!1);let i,o=Te.Default;for(let c=0;c<r.length;c++){const f=r[c],d=Mf(f);"number"==typeof d?-1===d?i=f.token:o|=d:i=f}t.push(ve(i,o))}else t.push(ve(r))}return t}function di(e,t){return e[xo]=t,e.prototype[xo]=t,e}function Mf(e){return e[xo]}function vn(e){return{toString:e}.toString()}var Ki=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ki||{}),kt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(kt||{});const yn={},Oe=[],rt=$e({\u0275cmp:$e}),Qe=$e({\u0275dir:$e}),Io=$e({\u0275pipe:$e}),Eu=$e({\u0275mod:$e}),Vn=$e({\u0275fac:$e}),Dr=$e({__NG_ELEMENT_ID__:$e}),Su=$e({__NG_ENV_ID__:$e});function Ao(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function _o(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],c=n[r++],f=n[r++];e.setAttribute(t,c,f,o)}else{const o=i,c=n[++r];Fo(o)?e.setProperty(t,o,c):e.setAttribute(t,o,c),r++}}return r}function bu(e){return 3===e||4===e||6===e}function Fo(e){return 64===e.charCodeAt(0)}function rr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||hi(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function hi(e,t,n,r,i){let o=0,c=e.length;if(-1===t)c=-1;else for(;o<e.length;){const f=e[o++];if("number"==typeof f){if(f===t){c=-1;break}if(f>t){c=o-1;break}}}for(;o<e.length;){const f=e[o];if("number"==typeof f)break;if(f===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==c&&(e.splice(c,0,t),o=c+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Gi="ng-template";function To(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const c=e[r++];if(n&&"class"===o&&-1!==Ao(c.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function pi(e){return 4===e.type&&e.value!==Gi}function Cu(e,t,n){return t===(4!==e.type||n?e.value:Gi)}function Ro(e,t,n){let r=4;const i=e.attrs||[],o=function Pf(e){for(let t=0;t<e.length;t++)if(bu(e[t]))return t;return e.length}(i);let c=!1;for(let f=0;f<t.length;f++){const d=t[f];if("number"!=typeof d){if(!c)if(4&r){if(r=2|1&r,""!==d&&!Cu(e,d,n)||""===d&&1===t.length){if(cn(r))return!1;c=!0}}else{const D=8&r?d:t[++f];if(8&r&&null!==e.attrs){if(!To(e.attrs,D,n)){if(cn(r))return!1;c=!0}continue}const N=Mo(8&r?"class":d,i,pi(e),n);if(-1===N){if(cn(r))return!1;c=!0;continue}if(""!==D){let B;B=N>o?"":i[N+1].toLowerCase();const U=8&r?B:null;if(U&&-1!==Ao(U,D,0)||2&r&&D!==B){if(cn(r))return!1;c=!0}}}}else{if(!c&&!cn(r)&&!cn(d))return!1;if(c&&cn(d))continue;c=!1,r=d|1&r}}return cn(r)||c}function cn(e){return 0==(1&e)}function Mo(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const c=t[i];if(c===e)return i;if(3===c||6===c)o=!0;else{if(1===c||2===c){let f=t[++i];for(;"string"==typeof f;)f=t[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=o?1:2}return-1}return function xu(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function gi(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ro(e,t[r],n))return!0;return!1}function Wi(e,t){return e?":not("+t.trim()+")":t}function Of(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const f=e[++n];i+="["+c+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!cn(c)&&(t+=Wi(o,i),i=""),r=c,o=o||!cn(r);n++}return""!==i&&(t+=Wi(o,i)),t}function wn(e){return vn(()=>{const t=Fu(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ki.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||kt.Emulated,styles:e.styles||Oe,_:null,schemas:e.schemas||null,tView:null,id:""};jf(n);const r=e.dependencies;return n.directiveDefs=vi(r,!1),n.pipeDefs=vi(r,!0),n.id=function Bf(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Au(e){return le(e)||Ft(e)}function _u(e){return null!==e}function ir(e){return vn(()=>({type:e.type,bootstrap:e.bootstrap||Oe,declarations:e.declarations||Oe,imports:e.imports||Oe,exports:e.exports||Oe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function mi(e,t){if(null==e)return yn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function it(e){return vn(()=>{const t=Fu(e);return jf(t),t})}function le(e){return e[rt]||null}function Ft(e){return e[Qe]||null}function jt(e){return e[Io]||null}function Bt(e,t){const n=e[Eu]||null;if(!n&&!0===t)throw new Error(`Type ${pt(e)} does not have '\u0275mod' property.`);return n}function Fu(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||yn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Oe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mi(e.inputs,t),outputs:mi(e.outputs)}}function jf(e){e.features?.forEach(t=>t(e))}function vi(e,t){if(!e)return null;const n=t?jt:Au;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(_u)}const s=0,a=1,u=2,l=3,h=4,g=5,m=6,v=7,E=8,b=9,_=10,x=11,w=12,y=13,I=14,S=15,F=16,C=17,M=18,P=19,k=20,O=21,G=22,Y=23,T=24,R=25,j=1,V=2,z=7,$=9,W=11;function ce(e){return Array.isArray(e)&&"object"==typeof e[j]}function ue(e){return Array.isArray(e)&&!0===e[j]}function Ae(e){return 0!=(4&e.flags)}function Se(e){return e.componentOffset>-1}function je(e){return 1==(1&e.flags)}function _e(e){return!!e.template}function Dt(e){return 0!=(512&e[u])}function yi(e,t){return e.hasOwnProperty(Vn)?e[Vn]:null}let Nt=null,Tu=!1;function Tn(e){const t=Nt;return Nt=e,t}const kg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Bg(e){if(!Oo(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Ug(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Vg(e){e.dirty=!0,function Hg(e){if(void 0===e.liveConsumerNode)return;const t=Tu;Tu=!0;try{for(const n of e.liveConsumerNode)n.dirty||Vg(n)}finally{Tu=t}}(e),e.consumerMarkedDirty?.(e)}function Vf(e){return e&&(e.nextProducerIndex=0),Tn(e)}function Uf(e,t){if(Tn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Oo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ru(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ug(e){Qi(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Bg(n),r!==n.version))return!0}return!1}function $g(e){if(Qi(e),Oo(e))for(let t=0;t<e.producerNode.length;t++)Ru(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ru(e,t){if(function zg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Qi(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Ru(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Qi(i),i.producerIndexOfThis[r]=t}}function Oo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Qi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Kg=null;const Yg=()=>{},hS=(()=>({...kg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Yg}))();class pS{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function zr(){return Qg}function Qg(e){return e.type.prototype.ngOnChanges&&(e.setInput=mS),gS}function gS(){const e=Xg(this),t=e?.current;if(t){const n=e.previous;if(n===yn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function mS(e,t,n,r){const i=this.declaredInputs[n],o=Xg(e)||function vS(e,t){return e[Jg]=t}(e,{previous:yn,current:null}),c=o.current||(o.current={}),f=o.previous,d=f[i];c[i]=new pS(d&&d.currentValue,t,f===yn),e[r]=t}zr.ngInherit=!0;const Jg="__ngSimpleChanges__";function Xg(e){return e[Jg]||null}const sr=function(e,t,n){};function Je(e){for(;Array.isArray(e);)e=e[s];return e}function Mu(e,t){return Je(t[e])}function ln(e,t){return Je(t[e.index])}function nm(e,t){return e.data[t]}function Dn(e,t){const n=t[e];return ce(n)?n:n[s]}function Kr(e,t){return null==t?null:e[t]}function rm(e){e[C]=0}function bS(e){1024&e[u]||(e[u]|=1024,sm(e,1))}function im(e){1024&e[u]&&(e[u]&=-1025,sm(e,-1))}function sm(e,t){let n=e[l];if(null===n)return;n[g]+=t;let r=n;for(n=n[l];null!==n&&(1===t&&1===r[g]||-1===t&&0===r[g]);)n[g]+=t,r=n,n=n[l]}const be={lFrame:mm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function um(){return be.bindingsEnabled}function ee(){return be.lFrame.lView}function Le(){return be.lFrame.tView}function wi(e){return be.lFrame.contextLView=e,e[E]}function Di(e){return be.lFrame.contextLView=null,e}function Pt(){let e=cm();for(;null!==e&&64===e.type;)e=e.parent;return e}function cm(){return be.lFrame.currentTNode}function or(e,t){const n=be.lFrame;n.currentTNode=e,n.isParent=t}function Gf(){return be.lFrame.isParent}function Wf(){be.lFrame.isParent=!1}function es(){return be.lFrame.bindingIndex++}function OS(e,t){const n=be.lFrame;n.bindingIndex=n.bindingRootIndex=e,Zf(t)}function Zf(e){be.lFrame.currentDirectiveIndex=e}function hm(){return be.lFrame.currentQueryIndex}function Qf(e){be.lFrame.currentQueryIndex=e}function kS(e){const t=e[a];return 2===t.type?t.declTNode:1===t.type?e[m]:null}function pm(e,t,n){if(n&Te.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Te.Host||(i=kS(o),null===i||(o=o[I],10&i.type))););if(null===i)return!1;t=i,e=o}const r=be.lFrame=gm();return r.currentTNode=t,r.lView=e,!0}function Jf(e){const t=gm(),n=e[a];be.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gm(){const e=be.lFrame,t=null===e?null:e.child;return null===t?mm(e):t}function mm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function vm(){const e=be.lFrame;return be.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ym=vm;function Xf(){const e=vm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qt(){return be.lFrame.selectedIndex}function Ei(e){be.lFrame.selectedIndex=e}function st(){const e=be.lFrame;return nm(e.tView,e.selectedIndex)}let Dm=!0;function Nu(){return Dm}function Gr(e){Dm=e}function Pu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:f,ngAfterViewInit:d,ngAfterViewChecked:D,ngOnDestroy:A}=o;c&&(e.contentHooks??=[]).push(-n,c),f&&((e.contentHooks??=[]).push(n,f),(e.contentCheckHooks??=[]).push(n,f)),d&&(e.viewHooks??=[]).push(-n,d),D&&((e.viewHooks??=[]).push(n,D),(e.viewCheckHooks??=[]).push(n,D)),null!=A&&(e.destroyHooks??=[]).push(n,A)}}function Ou(e,t,n){Em(e,t,3,n)}function Lu(e,t,n,r){(3&e[u])===n&&Em(e,t,n,r)}function ed(e,t){let n=e[u];(3&n)===t&&(n&=8191,n+=1,e[u]=n)}function Em(e,t,n,r){const o=r??-1,c=t.length-1;let f=0;for(let d=void 0!==r?65535&e[C]:0;d<c;d++)if("number"==typeof t[d+1]){if(f=t[d],null!=r&&f>=r)break}else t[d]<0&&(e[C]+=65536),(f<o||-1==o)&&(zS(e,n,t,d),e[C]=(4294901760&e[C])+d+2),d++}function Sm(e,t){sr(4,e,t);const n=Tn(null);try{t.call(e)}finally{Tn(n),sr(5,e,t)}}function zS(e,t,n,r){const i=n[r]<0,o=n[r+1],f=e[i?-n[r]:n[r]];i?e[u]>>13<e[C]>>16&&(3&e[u])===t&&(e[u]+=8192,Sm(f,o)):Sm(f,o)}const ts=-1;class ko{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function nd(e){return e!==ts}function jo(e){return 32767&e}function Bo(e,t){let n=function ZS(e){return e>>16}(e),r=t;for(;n>0;)r=r[I],n--;return r}let rd=!0;function ku(e){const t=rd;return rd=e,t}const bm=255,Cm=5;let YS=0;const ar={};function ju(e,t){const n=xm(e,t);if(-1!==n)return n;const r=t[a];r.firstCreatePass&&(e.injectorIndex=t.length,id(r.data,e),id(t,null),id(r.blueprint,null));const i=Bu(e,t),o=e.injectorIndex;if(nd(i)){const c=jo(i),f=Bo(i,t),d=f[a].data;for(let D=0;D<8;D++)t[o+D]=f[c+D]|d[c+D]}return t[o+8]=i,o}function id(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xm(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Nm(i),null===r)return ts;if(n++,i=i[I],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ts}function sd(e,t,n){!function QS(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Dr)&&(r=n[Dr]),null==r&&(r=n[Dr]=YS++);const i=r&bm;t.data[e+(i>>Cm)]|=1<<i}(e,t,n)}function Im(e,t,n){if(n&Te.Optional||void 0!==e)return e;du()}function Am(e,t,n,r){if(n&Te.Optional&&void 0===r&&(r=null),!(n&(Te.Self|Te.Host))){const i=e[b],o=Lt(void 0);try{return i?i.get(t,r,n&Te.Optional):vu(t,r,n&Te.Optional)}finally{Lt(o)}}return Im(r,0,n)}function _m(e,t,n,r=Te.Default,i){if(null!==e){if(2048&t[u]&&!(r&Te.Self)){const c=function r2(e,t,n,r,i){let o=e,c=t;for(;null!==o&&null!==c&&2048&c[u]&&!(512&c[u]);){const f=Fm(o,c,n,r|Te.Self,ar);if(f!==ar)return f;let d=o.parent;if(!d){const D=c[k];if(D){const A=D.get(n,ar,r);if(A!==ar)return A}d=Nm(c),c=c[I]}o=d}return i}(e,t,n,r,ar);if(c!==ar)return c}const o=Fm(e,t,n,r,ar);if(o!==ar)return o}return Am(t,n,r,i)}function Fm(e,t,n,r,i){const o=function e2(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Dr)?e[Dr]:void 0;return"number"==typeof t?t>=0?t&bm:n2:t}(n);if("function"==typeof o){if(!pm(t,e,r))return r&Te.Host?Im(i,0,r):Am(t,n,r,i);try{let c;if(c=o(r),null!=c||r&Te.Optional)return c;du()}finally{ym()}}else if("number"==typeof o){let c=null,f=xm(e,t),d=ts,D=r&Te.Host?t[S][m]:null;for((-1===f||r&Te.SkipSelf)&&(d=-1===f?Bu(e,t):t[f+8],d!==ts&&Rm(r,!1)?(c=t[a],f=jo(d),t=Bo(d,t)):f=-1);-1!==f;){const A=t[a];if(Tm(o,f,A.data)){const N=XS(f,t,n,c,r,D);if(N!==ar)return N}d=t[f+8],d!==ts&&Rm(r,t[a].data[f+8]===D)&&Tm(o,f,t)?(c=A,f=jo(d),t=Bo(d,t)):f=-1}}return i}function XS(e,t,n,r,i,o){const c=t[a],f=c.data[e+8],A=Hu(f,c,n,null==r?Se(f)&&rd:r!=c&&0!=(3&f.type),i&Te.Host&&o===f);return null!==A?Si(t,c,A,f):ar}function Hu(e,t,n,r,i){const o=e.providerIndexes,c=t.data,f=1048575&o,d=e.directiveStart,A=o>>20,B=i?f+A:e.directiveEnd;for(let U=r?f:f+A;U<B;U++){const Z=c[U];if(U<d&&n===Z||U>=d&&Z.type===n)return U}if(i){const U=c[d];if(U&&_e(U)&&U.type===n)return d}return null}function Si(e,t,n,r){let i=e[n];const o=t.data;if(function KS(e){return e instanceof ko}(i)){const c=i;c.resolving&&function tr(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new oe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Be(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():xe(e)}(o[n]));const f=ku(c.canSeeViewProviders);c.resolving=!0;const D=c.injectImpl?Lt(c.injectImpl):null;pm(e,r,Te.Default);try{i=e[n]=c.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function qS(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const c=Qg(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==D&&Lt(D),ku(f),c.resolving=!1,ym()}}return i}function Tm(e,t,n){return!!(n[t+(e>>Cm)]&1<<e)}function Rm(e,t){return!(e&Te.Self||e&Te.Host&&t)}class Jt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _m(this._tNode,this._lView,t,zi(r),n)}}function n2(){return new Jt(Pt(),ee())}function od(e){return vo(e)?()=>{const t=od(fe(e));return t&&t()}:yi(e)}function Nm(e){const t=e[a],n=t.type;return 2===n?t.declTNode:1===n?e[m]:null}const rs="__parameters__";function ss(e,t,n){return vn(()=>{const r=function ad(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const c=new i(...o);return f.annotation=c,f;function f(d,D,A){const N=d.hasOwnProperty(rs)?d[rs]:Object.defineProperty(d,rs,{value:[]})[rs];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(c),d}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function as(e,t){e.forEach(n=>Array.isArray(n)?as(n,t):t(n))}function Om(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Uu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function En(e,t,n){let r=us(e,t);return r>=0?e[1|r]=n:(r=~r,function l2(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ud(e,t){const n=us(e,t);if(n>=0)return e[1|n]}function us(e,t){return function Lm(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),c=e[o<<n];if(t===c)return o<<n;c>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const qu=di(ss("Optional"),8),zu=di(ss("SkipSelf"),4);function Yu(e){return 128==(128&e.flags)}var Wr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Wr||{});const R2=/^>|^->|<!--|-->|--!>|<!-$/g,M2=/(<|>)/g,N2="\u200b$1\u200b";const hd=new Map;let P2=0;const gd="__ngContext__";function $t(e,t){ce(t)?(e[gd]=t[P],function L2(e){hd.set(e[P],e)}(t)):e[gd]=t}let md;function vd(e,t){return md(e,t)}function zo(e){const t=e[l];return ue(t)?t[l]:t}function nv(e){return iv(e[w])}function rv(e){return iv(e[h])}function iv(e){for(;null!==e&&!ue(e);)e=e[h];return e}function fs(e,t,n,r,i){if(null!=r){let o,c=!1;ue(r)?o=r:ce(r)&&(c=!0,r=r[s]);const f=Je(r);0===e&&null!==n?null==i?uv(t,n,f):bi(t,n,f,i||null,!0):1===e&&null!==n?bi(t,n,f,i||null,!0):2===e?function rc(e,t,n){const r=tc(e,t);r&&function tb(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,f,c):3===e&&t.destroyNode(f),null!=o&&function ib(e,t,n,r,i){const o=n[z];o!==Je(n)&&fs(t,e,r,o,i);for(let f=W;f<n.length;f++){const d=n[f];Go(d[a],d,e,t,r,o)}}(t,e,o,n,i)}}function yd(e,t){return e.createComment(function Wm(e){return e.replace(R2,t=>t.replace(M2,N2))}(t))}function Xu(e,t,n){return e.createElement(t,n)}function ov(e,t){const n=e[$],r=n.indexOf(t);im(t),n.splice(r,1)}function ec(e,t){if(e.length<=W)return;const n=W+t,r=e[n];if(r){const i=r[F];null!==i&&i!==e&&ov(i,r),t>0&&(e[n-1][h]=r[h]);const o=Uu(e,W+t);!function G2(e,t){Go(e,t,t[x],2,null,null),t[s]=null,t[m]=null}(r[a],r);const c=o[M];null!==c&&c.detachView(o[a]),r[l]=null,r[h]=null,r[u]&=-129}return r}function wd(e,t){if(!(256&t[u])){const n=t[x];t[Y]&&$g(t[Y]),t[T]&&$g(t[T]),n.destroyNode&&Go(e,t,n,3,null,null),function Y2(e){let t=e[w];if(!t)return Dd(e[a],e);for(;t;){let n=null;if(ce(t))n=t[w];else{const r=t[W];r&&(n=r)}if(!n){for(;t&&!t[h]&&t!==e;)ce(t)&&Dd(t[a],t),t=t[l];null===t&&(t=e),ce(t)&&Dd(t[a],t),n=t&&t[h]}t=n}}(t)}}function Dd(e,t){if(!(256&t[u])){t[u]&=-129,t[u]|=256,function eb(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof ko)){const o=n[r+1];if(Array.isArray(o))for(let c=0;c<o.length;c+=2){const f=i[o[c]],d=o[c+1];sr(4,f,d);try{d.call(f)}finally{sr(5,f,d)}}else{sr(4,i,o);try{o.call(i)}finally{sr(5,i,o)}}}}}(e,t),function X2(e,t){const n=e.cleanup,r=t[v];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const c=n[o+3];c>=0?r[c]():r[-c].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[v]=null);const i=t[O];if(null!==i){t[O]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[a].type&&t[x].destroy();const n=t[F];if(null!==n&&ue(t[l])){n!==t[l]&&ov(n,t);const r=t[M];null!==r&&r.detachView(e)}!function k2(e){hd.delete(e[P])}(t)}}function Ed(e,t,n){return function av(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[s];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===kt.None||o===kt.Emulated)return null}return ln(r,n)}}(e,t.parent,n)}function bi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function uv(e,t,n){e.appendChild(t,n)}function cv(e,t,n,r,i){null!==r?bi(e,t,n,r,i):uv(e,t,n)}function tc(e,t){return e.parentNode(t)}let Sd,Id,dv=function fv(e,t,n){return 40&e.type?ln(e,n):null};function nc(e,t,n,r){const i=Ed(e,r,t),o=t[x],f=function lv(e,t,n){return dv(e,t,n)}(r.parent||t[m],r,t);if(null!=i)if(Array.isArray(n))for(let d=0;d<n.length;d++)cv(o,i,n[d],f,!1);else cv(o,i,n,f,!1);void 0!==Sd&&Sd(o,r,t,n,i)}function Ko(e,t){if(null!==t){const n=t.type;if(3&n)return ln(t,e);if(4&n)return bd(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Ko(e,r);{const i=e[t.index];return ue(i)?bd(-1,i):Je(i)}}if(32&n)return vd(t,e)()||Je(e[t.index]);{const r=pv(e,t);return null!==r?Array.isArray(r)?r[0]:Ko(zo(e[S]),r):Ko(e,t.next)}}return null}function pv(e,t){return null!==t?e[S][m].projection[t.projection]:null}function bd(e,t){const n=W+e+1;if(n<t.length){const r=t[n],i=r[a].firstChild;if(null!==i)return Ko(r,i)}return t[z]}function Cd(e,t,n,r,i,o,c){for(;null!=n;){const f=r[n.index],d=n.type;if(c&&0===t&&(f&&$t(Je(f),r),n.flags|=2),32!=(32&n.flags))if(8&d)Cd(e,t,n.child,r,i,o,!1),fs(t,e,i,f,o);else if(32&d){const D=vd(n,r);let A;for(;A=D();)fs(t,e,i,A,o);fs(t,e,i,f,o)}else 16&d?mv(e,t,r,n,i,o):fs(t,e,i,f,o);n=c?n.projectionNext:n.next}}function Go(e,t,n,r,i,o){Cd(n,r,e.firstChild,t,i,o,!1)}function mv(e,t,n,r,i,o){const c=n[S],d=c[m].projection[r.projection];if(Array.isArray(d))for(let D=0;D<d.length;D++)fs(t,e,i,d[D],o);else{let D=d;const A=c[l];Yu(r)&&(D.flags|=128),Cd(e,t,D,A,i,o,!0)}}function vv(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function yv(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&_o(e,t,r),null!==i&&vv(e,t,i),null!==o&&function ob(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}class Sv{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Qo=new he("ENVIRONMENT_INITIALIZER"),Mv=new he("INJECTOR",-1),Nv=new he("INJECTOR_DEF_TYPES");class Md{get(t,n=yt){if(n===yt){const r=new Error(`NullInjectorError: No provider for ${pt(t)}!`);throw r.name="NullInjectorError",r}return n}}function Nb(...e){return{\u0275providers:Ov(0,e),\u0275fromNgModule:!0}}function Ov(e,...t){const n=[],r=new Set;let i;const o=c=>{n.push(c)};return as(t,c=>{const f=c;ac(f,o,[],r)&&(i||=[],i.push(f))}),void 0!==i&&Lv(i,o),n}function Lv(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Nd(i,o=>{t(o,r)})}}function ac(e,t,n,r){if(!(e=fe(e)))return!1;let i=null,o=$i(e);const c=!o&&le(e);if(o||c){if(c&&!c.standalone)return!1;i=e}else{const d=e.ngModule;if(o=$i(d),!o)return!1;i=d}const f=r.has(i);if(c){if(f)return!1;if(r.add(i),c.dependencies){const d="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const D of d)ac(D,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!f){let D;r.add(i);try{as(o.imports,A=>{ac(A,t,n,r)&&(D||=[],D.push(A))})}finally{}void 0!==D&&Lv(D,t)}if(!f){const D=yi(i)||(()=>new i);t({provide:i,useFactory:D,deps:Oe},i),t({provide:Nv,useValue:i,multi:!0},i),t({provide:Qo,useValue:()=>ve(i),multi:!0},i)}const d=o.providers;if(null!=d&&!f){const D=e;Nd(d,A=>{t(A,D)})}}}return i!==e&&void 0!==e.providers}function Nd(e,t){for(let n of e)ui(n)&&(n=n.\u0275providers),Array.isArray(n)?Nd(n,t):t(n)}const Pb=$e({provide:String,useValue:$e});function Pd(e){return null!==e&&"object"==typeof e&&Pb in e}function Ci(e){return"function"==typeof e}const Od=new he("Set Injector scope."),uc={},Lb={};let Ld;function cc(){return void 0===Ld&&(Ld=new Md),Ld}class Mn{}class gs extends Mn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jd(t,c=>this.processProvider(c)),this.records.set(Mv,ms(void 0,this)),i.has("environment")&&this.records.set(Mn,ms(void 0,this));const o=this.records.get(Od);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Nv.multi,Oe,Te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=wt(this),r=Lt(void 0);try{return t()}finally{wt(n),Lt(r)}}get(t,n=yt,r=Te.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Su))return t[Su](this);r=zi(r);const o=wt(this),c=Lt(void 0);try{if(!(r&Te.SkipSelf)){let d=this.records.get(t);if(void 0===d){const D=function Vb(e){return"function"==typeof e||"object"==typeof e&&e instanceof he}(t)&&Ui(t);d=D&&this.injectableDefInScope(D)?ms(kd(t),uc):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&Te.Self?cc():this.parent).get(t,n=r&Te.Optional&&n===yt?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[qi]=f[qi]||[]).unshift(pt(t)),o)throw f;return function _t(e,t,n,r){const i=e[qi];throw t[ot]&&i.unshift(t[ot]),e.message=function un(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=pt(t);if(Array.isArray(t))i=t.map(pt).join(" -> ");else if("object"==typeof t){let o=[];for(let c in t)if(t.hasOwnProperty(c)){let f=t[c];o.push(c+":"+("string"==typeof f?JSON.stringify(f):pt(f)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Vr,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[qi]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{Lt(c),wt(o)}}resolveInjectorInitializers(){const t=wt(this),n=Lt(void 0);try{const i=this.get(Qo.multi,Oe,Te.Self);for(const o of i)o()}finally{wt(t),Lt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(pt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(t){let n=Ci(t=fe(t))?t:fe(t&&t.provide);const r=function jb(e){return Pd(e)?ms(void 0,e.useValue):ms(function Bv(e,t,n){let r;if(Ci(e)){const i=fe(e);return yi(i)||kd(i)}if(Pd(e))r=()=>fe(e.useValue);else if(function jv(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Du(e.deps||[]));else if(function kv(e){return!(!e||!e.useExisting)}(e))r=()=>ve(fe(e.useExisting));else{const i=fe(e&&(e.useClass||e.provide));if(!function Bb(e){return!!e.deps}(e))return yi(i)||kd(i);r=()=>new i(...Du(e.deps))}return r}(e),uc)}(t);if(Ci(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ms(void 0,uc,!0),i.factory=()=>Du(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===uc&&(n.value=Lb,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Hb(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=fe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function kd(e){const t=Ui(e),n=null!==t?t.factory:yi(e);if(null!==n)return n;if(e instanceof he)throw new oe(204,!1);if(e instanceof Function)return function kb(e){const t=e.length;if(t>0)throw function Uo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new oe(204,!1);const n=function If(e){return e&&(e[Me]||e[gu])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new oe(204,!1)}function ms(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function jd(e,t){for(const n of e)Array.isArray(n)?jd(n,t):n&&ui(n)?jd(n.\u0275providers,t):t(n)}const lc=new he("AppId",{providedIn:"root",factory:()=>Ub}),Ub="ng",Hv=new he("Platform Initializer"),vs=new he("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vv=new he("CSP nonce",{providedIn:"root",factory:()=>function hs(){if(void 0!==Id)return Id;if(typeof document<"u")return document;throw new oe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Uv=(e,t,n)=>null;function Kd(e,t,n=!1){return Uv(e,t,n)}class Jb{}class zv{}class eC{resolveComponentFactory(t){throw function Xb(e){const t=Error(`No component factory found for ${pt(e)}.`);return t.ngComponent=e,t}(t)}}let mc=(()=>{class e{static#e=this.NULL=new eC}return e})();function tC(){return Ds(Pt(),ee())}function Ds(e,t){return new Yr(ln(e,t))}let Yr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=tC}return e})();function nC(e){return e instanceof Yr?e.nativeElement:e}class Gv{}let iC=(()=>{class e{static#e=this.\u0275prov=ye({token:e,providedIn:"root",factory:()=>null})}return e})();class yc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sC=new yc("16.2.12"),Zd={};function Qv(e,t=null,n=null,r){const i=Jv(e,t,n,r);return i.resolveInjectorInitializers(),i}function Jv(e,t=null,n=null,r,i=new Set){const o=[n||Oe,Nb(e)];return r=r||("object"==typeof e?void 0:pt(e)),new gs(o,t||cc(),r||null,i)}let Nn=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=yt;static#t=this.NULL=new Md;static create(n,r){if(Array.isArray(n))return Qv({name:""},r,n,"");{const i=n.name??"";return Qv({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=ye({token:e,providedIn:"any",factory:()=>ve(Mv)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Qd(e){return e.ngOriginalError}class Ar{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Qd(t);for(;n&&Qd(n);)n=Qd(n);return n||null}}function Xd(e){return t=>{setTimeout(e,void 0,t)}}const xt=class dC extends mn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),c=r;if(t&&"object"==typeof t){const d=t;i=d.next?.bind(d),o=d.error?.bind(d),c=d.complete?.bind(d)}this.__isAsync&&(o=Xd(o),i&&(i=Xd(i)),c&&(c=Xd(c)));const f=super.subscribe({next:i,error:o,complete:c});return t instanceof ae&&t.add(f),f}};function e0(...e){}class Xe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function hC(){const e="function"==typeof Ne.requestAnimationFrame;let t=Ne[e?"requestAnimationFrame":"setTimeout"],n=Ne[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function mC(e){const t=()=>{!function gC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ne,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,th(e),e.isCheckStableRunning=!0,eh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),th(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,c,f)=>{if(function yC(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(f))return n.invokeTask(i,o,c,f);try{return t0(e),n.invokeTask(i,o,c,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),n0(e)}},onInvoke:(n,r,i,o,c,f,d)=>{try{return t0(e),n.invoke(i,o,c,f,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),n0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,th(e),eh(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xe.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(Xe.isInAngularZone())throw new oe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,c=o.scheduleEventTask("NgZoneEvent: "+i,t,pC,e0,e0);try{return o.runTask(c,n,r)}finally{o.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const pC={};function eh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function th(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function t0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function n0(e){e._nesting--,eh(e)}class vC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xt,this.onMicrotaskEmpty=new xt,this.onStable=new xt,this.onError=new xt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const r0=new he("",{providedIn:"root",factory:s0});function s0(){const e=re(Xe);let t=!0;return function Df(...e){const t=oi(e),n=function pf(e,t){return"number"==typeof yr(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?sn(r[0]):Br(n)(bt(r,t)):An}(new ft(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new ft(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const c=e.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),c.unsubscribe()}}).pipe(At()))}function _r(e){return e instanceof Function?e():e}let nh=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ye({token:e,providedIn:"root",factory:()=>new e})}return e})();function ea(e){for(;e;){e[u]|=64;const t=zo(e);if(Dt(e)&&!t)return e;e=t}return null}const l0=new he("",{providedIn:"root",factory:()=>!1});let Dc=null;function p0(e,t){return e[t]??v0()}function g0(e,t){const n=v0();n.producerNode?.length&&(e[t]=Dc,n.lView=e,Dc=m0())}const _C={...kg,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ea(e.lView)},lView:null};function m0(){return Object.create(_C)}function v0(){return Dc??=m0(),Dc}const Ie={};function dn(e){y0(Le(),ee(),Qt()+e,!1)}function y0(e,t,n,r){if(!r)if(3==(3&t[u])){const o=e.preOrderCheckHooks;null!==o&&Ou(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Lu(t,o,0,n)}Ei(n)}function we(e,t=Te.Default){const n=ee();return null===n?ve(e,t):_m(Pt(),n,fe(e),t)}function Ec(e,t,n,r,i,o,c,f,d,D,A){const N=t.blueprint.slice();return N[s]=i,N[u]=140|r,(null!==D||e&&2048&e[u])&&(N[u]|=2048),rm(N),N[l]=N[I]=e,N[E]=n,N[_]=c||e&&e[_],N[x]=f||e&&e[x],N[b]=d||e&&e[b]||null,N[m]=o,N[P]=function O2(){return P2++}(),N[G]=A,N[k]=D,N[S]=2==t.type?e[S]:N,N}function bs(e,t,n,r,i){let o=e.data[t];if(null===o)o=function rh(e,t,n,r,i){const o=cm(),c=Gf(),d=e.data[t]=function LC(e,t,n,r,i,o){let c=t?t.injectorIndex:-1,f=0;return function Xi(){return null!==be.skipHydrationRootTNode}()&&(f|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:f,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=d),null!==o&&(c?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d,d.prev=o)),d}(e,t,n,r,i),function PS(){return be.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const c=function Lo(){const e=be.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===c?-1:c.injectorIndex}return or(o,!0),o}function ta(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function D0(e,t,n,r,i){const o=p0(t,Y),c=Qt(),f=2&r;try{Ei(-1),f&&t.length>R&&y0(e,t,R,!1),sr(f?2:0,i);const D=f?o:null,A=Vf(D);try{null!==D&&(D.dirty=!1),n(r,i)}finally{Uf(D,A)}}finally{f&&null===t[Y]&&g0(t,Y),Ei(c),sr(f?3:1,i)}}function ih(e,t,n){if(Ae(t)){const r=Tn(null);try{const o=t.directiveEnd;for(let c=t.directiveStart;c<o;c++){const f=e.data[c];f.contentQueries&&f.contentQueries(1,n[c],c)}}finally{Tn(r)}}}function sh(e,t,n){um()&&(function $C(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Se(n)&&function YC(e,t,n){const r=ln(t,e),i=E0(n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const f=Sc(e,Ec(e,i,null,c,r,t,null,e[_].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=f}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ju(n,t),$t(r,t);const c=n.initialInputs;for(let f=i;f<o;f++){const d=e.data[f],D=Si(t,e,f,n);$t(D,t),null!==c&&QC(0,f-i,D,d,0,c),_e(d)&&(Dn(n.index,t)[E]=Si(t,e,f,n))}}(e,t,n,ln(n,t)),64==(64&n.flags)&&I0(e,t,n))}function oh(e,t,n=ln){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const c=r[o+1],f=-1===c?n(t,e):e[c];e[i++]=f}}}function E0(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ah(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ah(e,t,n,r,i,o,c,f,d,D,A){const N=R+r,B=N+i,U=function TC(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ie);return n}(N,B),Z="function"==typeof D?D():D;return U[a]={type:e,blueprint:U,template:n,queries:null,viewQuery:f,declTNode:t,data:U.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:d,consts:Z,incompleteFirstPass:!1,ssrId:A}}let S0=e=>null;function b0(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?C0(n,t,i,o):r.hasOwnProperty(i)&&C0(n,t,r[i],o)}return n}function C0(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function uh(e,t,n,r){if(um()){const i=null===r?null:{"":-1},o=function zC(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const c=n[o];if(gi(t,c.selectors,!1))if(r||(r=[]),_e(c))if(null!==c.findHostDirectiveDefs){const f=[];i=i||new Map,c.findHostDirectiveDefs(c,f,i),r.unshift(...f,c),ch(e,t,f.length)}else r.unshift(c),ch(e,t,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(e,n);let c,f;null===o?c=f=null:[c,f]=o,null!==c&&x0(e,t,n,c,i,f),i&&function KC(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new oe(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=rr(n.mergedAttrs,n.attrs)}function x0(e,t,n,r,i,o){for(let D=0;D<r.length;D++)sd(ju(n,t),e,r[D].type);!function WC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let D=0;D<r.length;D++){const A=r[D];A.providersResolver&&A.providersResolver(A)}let c=!1,f=!1,d=ta(e,t,r.length,null);for(let D=0;D<r.length;D++){const A=r[D];n.mergedAttrs=rr(n.mergedAttrs,A.hostAttrs),ZC(e,n,t,d,A),GC(d,A,i),null!==A.contentQueries&&(n.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=64);const N=A.type.prototype;!c&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!f&&(N.ngOnChanges||N.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),f=!0),d++}!function kC(e,t,n){const i=t.directiveEnd,o=e.data,c=t.attrs,f=[];let d=null,D=null;for(let A=t.directiveStart;A<i;A++){const N=o[A],B=n?n.get(N):null,Z=B?B.outputs:null;d=b0(N.inputs,A,d,B?B.inputs:null),D=b0(N.outputs,A,D,Z);const J=null===d||null===c||pi(t)?null:JC(d,A,c);f.push(J)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=f,t.inputs=d,t.outputs=D}(e,n,o)}function I0(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,c=function LS(){return be.lFrame.currentDirectiveIndex}();try{Ei(o);for(let f=r;f<i;f++){const d=e.data[f],D=t[f];Zf(f),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&qC(d,D)}}finally{Ei(-1),Zf(c)}}function qC(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ch(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function GC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;_e(t)&&(n[""]=e)}}function ZC(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=yi(i.type)),c=new ko(o,_e(i),we);e.blueprint[r]=c,n[r]=c,function VC(e,t,n,r,i){const o=i.hostBindings;if(o){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const f=~t.index;(function UC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=f&&c.push(f),c.push(n,r,o)}}(e,t,r,ta(e,n,i.hostVars,Ie),i)}function ur(e,t,n,r,i,o){const c=ln(e,t);!function lh(e,t,n,r,i,o,c){if(null==o)e.removeAttribute(t,i,n);else{const f=null==c?xe(o):c(o,r||"",i);e.setAttribute(t,i,f,n)}}(t[x],c,o,e.value,n,r,i)}function QC(e,t,n,r,i,o){const c=o[t];if(null!==c)for(let f=0;f<c.length;)A0(r,n,c[f++],c[f++],c[f++])}function A0(e,t,n,r,i){const o=Tn(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(i=c[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Tn(o)}}function JC(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const c=e[o];for(let f=0;f<c.length;f+=2)if(c[f]===t){r.push(o,c[f+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function _0(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function F0(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const c=e.data[o];Qf(n[r]),c.contentQueries(2,t[o],o)}}}function Sc(e,t){return e[w]?e[y][h]=t:e[w]=t,e[y]=t,t}function fh(e,t,n){Qf(0);const r=Tn(null);try{t(e,n)}finally{Tn(r)}}function T0(e){return e[v]||(e[v]=[])}function R0(e){return e.cleanup||(e.cleanup=[])}function N0(e,t){const n=e[b],r=n?n.get(Ar,null):null;r&&r.handleError(t)}function dh(e,t,n,r,i){for(let o=0;o<n.length;){const c=n[o++],f=n[o++];A0(e.data[c],t[c],r,f,i)}}function XC(e,t){const n=Dn(t,e),r=n[a];!function ex(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[s];null!==i&&null===n[G]&&(n[G]=Kd(i,n[b])),hh(r,n,n[E])}function hh(e,t,n){Jf(t);try{const r=e.viewQuery;null!==r&&fh(1,r,n);const i=e.template;null!==i&&D0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&F0(e,t),e.staticViewQueries&&fh(2,e.viewQuery,n);const o=e.components;null!==o&&function tx(e,t){for(let n=0;n<t.length;n++)XC(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[u]&=-5,Xf()}}let P0=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,c=function dS(e,t,n){const r=Object.create(hS);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=c=>{r.cleanupFn=c};return r.ref={notify:()=>Vg(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Ug(r))return;r.hasRun=!0;const c=Vf(r);try{r.cleanupFn(),r.cleanupFn=Yg,r.fn(i)}finally{Uf(r,c)}},cleanup:()=>r.cleanupFn()},r.ref}(n,D=>{this.all.has(D)&&this.queue.set(D,o)},i);let f;this.all.add(c),c.notify();const d=()=>{c.cleanup(),f?.(),this.all.delete(c),this.queue.delete(c)};return f=r?.onDestroy(d),{destroy:d}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ye({token:e,providedIn:"root",factory:()=>new e})}return e})();function bc(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let c=0;c<t.length;c++){const f=t[c];"number"==typeof f?o=f:1==o?i=ai(i,f):2==o&&(r=ai(r,f+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function na(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Je(o)),ue(o)&&O0(o,r);const c=n.type;if(8&c)na(e,t,n.child,r);else if(32&c){const f=vd(n,t);let d;for(;d=f();)r.push(d)}else if(16&c){const f=pv(t,n);if(Array.isArray(f))r.push(...f);else{const d=zo(t[S]);na(d[a],d,f,r,!0)}}n=i?n.projectionNext:n.next}return r}function O0(e,t){for(let n=W;n<e.length;n++){const r=e[n],i=r[a].firstChild;null!==i&&na(r[a],r,i,t)}e[z]!==e[s]&&t.push(e[z])}function Cc(e,t,n,r=!0){const i=t[_],o=i.rendererFactory,c=i.afterRenderEventManager;o.begin?.(),c?.begin();try{L0(e,t,e.template,n)}catch(d){throw r&&N0(t,d),d}finally{o.end?.(),i.effectManager?.flush(),c?.end()}}function L0(e,t,n,r){const i=t[u];if(256!=(256&i)){t[_].effectManager?.flush(),Jf(t);try{rm(t),function fm(e){return be.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&D0(e,t,n,2,r);const c=3==(3&i);if(c){const D=e.preOrderCheckHooks;null!==D&&Ou(t,D,null)}else{const D=e.preOrderHooks;null!==D&&Lu(t,D,0,null),ed(t,0)}if(function ix(e){for(let t=nv(e);null!==t;t=rv(t)){if(!t[V])continue;const n=t[$];for(let r=0;r<n.length;r++){bS(n[r])}}}(t),k0(t,2),null!==e.contentQueries&&F0(e,t),c){const D=e.contentCheckHooks;null!==D&&Ou(t,D)}else{const D=e.contentHooks;null!==D&&Lu(t,D,1),ed(t,1)}!function FC(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=p0(t,T);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Ei(~o);else{const c=o,f=n[++i],d=n[++i];OS(f,c),r.dirty=!1;const D=Vf(r);try{d(2,t[c])}finally{Uf(r,D)}}}}finally{null===t[T]&&g0(t,T),Ei(-1)}}(e,t);const f=e.components;null!==f&&B0(t,f,0);const d=e.viewQuery;if(null!==d&&fh(2,d,r),c){const D=e.viewCheckHooks;null!==D&&Ou(t,D)}else{const D=e.viewHooks;null!==D&&Lu(t,D,2),ed(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[u]&=-73,im(t)}finally{Xf()}}}function k0(e,t){for(let n=nv(e);null!==n;n=rv(n))for(let r=W;r<n.length;r++)j0(n[r],t)}function sx(e,t,n){j0(Dn(t,e),n)}function j0(e,t){if(!function ES(e){return 128==(128&e[u])}(e))return;const n=e[a],r=e[u];if(80&r&&0===t||1024&r||2===t)L0(n,e,n.template,e[E]);else if(e[g]>0){k0(e,1);const i=n.components;null!==i&&B0(e,i,1)}}function B0(e,t,n){for(let r=0;r<t.length;r++)sx(e,t[r],n)}class ra{get rootNodes(){const t=this._lView,n=t[a];return na(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[E]}set context(t){this._lView[E]=t}get destroyed(){return 256==(256&this._lView[u])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[l];if(ue(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(ec(t,r),Uu(n,r))}this._attachedToViewContainer=!1}wd(this._lView[a],this._lView)}onDestroy(t){!function om(e,t){if(256==(256&e[u]))throw new oe(911,!1);null===e[O]&&(e[O]=[]),e[O].push(t)}(this._lView,t)}markForCheck(){ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[u]&=-129}reattach(){this._lView[u]|=128}detectChanges(){Cc(this._lView[a],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Z2(e,t){Go(e,t,t[x],2,null,null)}(this._lView[a],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=t}}class ox extends ra{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Cc(t[a],t,t[E],!1)}checkNoChanges(){}get context(){return null}}class H0 extends mc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=le(t);return new ia(n,this.ngModule)}}function V0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class ux{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=zi(r);const i=this.injector.get(t,Zd,r);return i!==Zd||n===Zd?i:this.parentInjector.get(t,n,r)}}class ia extends zv{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=V0(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return V0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Lf(e){return e.map(Of).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Mn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const c=o?new ux(t,o):t,f=c.get(Gv,null);if(null===f)throw new oe(407,!1);const N={rendererFactory:f,sanitizer:c.get(iC,null),effectManager:c.get(P0,null),afterRenderEventManager:c.get(nh,null)},B=f.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",Z=r?function RC(e,t,n,r){const o=r.get(l0,!1)||n===kt.ShadowDom,c=e.selectRootElement(t,o);return function MC(e){S0(e)}(c),c}(B,r,this.componentDef.encapsulation,c):Xu(B,U,function ax(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(U)),ie=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let X=null;null!==Z&&(X=Kd(Z,c,!0));const me=ah(0,null,null,1,0,null,null,null,null,null,null),Ce=Ec(null,me,null,ie,null,null,N,B,c,null,X);let Pe,gn;Jf(Ce);try{const kr=this.componentDef;let Js,mg=null;kr.findHostDirectiveDefs?(Js=[],mg=new Map,kr.findHostDirectiveDefs(kr,Js,mg),Js.push(kr)):Js=[kr];const r5=function lx(e,t){const n=e[a],r=R;return e[r]=t,bs(n,r,2,"#host",null)}(Ce,Z),i5=function fx(e,t,n,r,i,o,c){const f=i[a];!function dx(e,t,n,r){for(const i of e)t.mergedAttrs=rr(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(bc(t,t.mergedAttrs,!0),null!==n&&yv(r,n,t))}(r,e,t,c);let d=null;null!==t&&(d=Kd(t,i[b]));const D=o.rendererFactory.createRenderer(t,n);let A=16;n.signals?A=4096:n.onPush&&(A=64);const N=Ec(i,E0(n),null,A,i[e.index],e,o,D,null,null,d);return f.firstCreatePass&&ch(f,e,r.length-1),Sc(i,N),i[e.index]=N}(r5,Z,kr,Js,Ce,N,B);gn=nm(me,R),Z&&function px(e,t,n,r){if(r)_o(e,n,["ng-version",sC.full]);else{const{attrs:i,classes:o}=function Iu(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!cn(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&_o(e,n,i),o&&o.length>0&&vv(e,n,o.join(" "))}}(B,kr,Z,r),void 0!==n&&function gx(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(gn,this.ngContentSelectors,n),Pe=function hx(e,t,n,r,i,o){const c=Pt(),f=i[a],d=ln(c,i);x0(f,i,c,n,null,r);for(let A=0;A<n.length;A++)$t(Si(i,f,c.directiveStart+A,c),i);I0(f,i,c),d&&$t(d,i);const D=Si(i,f,c.directiveStart+c.componentOffset,c);if(e[E]=i[E]=D,null!==o)for(const A of o)A(D,t);return ih(f,c,e),D}(i5,kr,Js,mg,Ce,[mx]),hh(me,Ce,null)}finally{Xf()}return new cx(this.componentType,Pe,Ds(gn,Ce),Ce,gn)}}class cx extends Jb{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ox(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;dh(o[a],o,i,t,n),this.previousInputValues.set(t,n),ea(Dn(this._tNode.index,o))}}get injector(){return new Jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function mx(){const e=Pt();Pu(ee()[a],e)}function Ic(e){return!!function ph(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function qt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function _c(e,t,n,r){const i=ee();return qt(i,es(),t)&&(Le(),ur(st(),i,e,t,n,r)),_c}function Qr(e,t,n,r,i,o,c,f){const d=ee(),D=Le(),A=e+R,N=D.firstCreatePass?function zx(e,t,n,r,i,o,c,f,d){const D=t.consts,A=bs(t,e,4,c||null,Kr(D,f));uh(t,n,A,Kr(D,d)),Pu(t,A);const N=A.tView=ah(2,A,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,D,null);return null!==t.queries&&(t.queries.template(t,A),N.queries=t.queries.embeddedTView(A)),A}(A,D,d,t,n,r,i,o,c):D.data[A];or(N,!1);const B=o1(D,d,N,e);Nu()&&nc(D,d,B,N),$t(B,d),Sc(d,d[A]=_0(B,d,B,N)),je(N)&&sh(D,d,N),null!=c&&oh(d,N,f)}let o1=function a1(e,t,n,r){return Gr(!0),t[x].createComment("")};function bn(e,t,n){const r=ee();return qt(r,es(),t)&&function Sn(e,t,n,r,i,o,c,f){const d=ln(t,n);let A,D=t.inputs;!f&&null!=D&&(A=D[r])?(dh(e,n,A,r,i),Se(t)&&function BC(e,t){const n=Dn(t,e);16&n[u]||(n[u]|=64)}(n,t.index)):3&t.type&&(r=function jC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=c?c(i,t.value||"",r):i,o.setProperty(d,r,i))}(Le(),st(),r,e,t,r[x],n,!1),bn}function Dh(e,t,n,r,i){const c=i?"class":"style";dh(e,n,t.inputs[c],c,r)}function ut(e,t,n,r){const i=ee(),o=Le(),c=R+e,f=i[x],d=o.firstCreatePass?function Yx(e,t,n,r,i,o){const c=t.consts,d=bs(t,e,2,r,Kr(c,i));return uh(t,n,d,Kr(c,o)),null!==d.attrs&&bc(d,d.attrs,!1),null!==d.mergedAttrs&&bc(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(c,o,i,t,n,r):o.data[c],D=u1(o,i,d,f,t,e);i[c]=D;const A=je(d);return or(d,!0),yv(f,D,d),32!=(32&d.flags)&&Nu()&&nc(o,i,D,d),0===function xS(){return be.lFrame.elementDepthCount}()&&$t(D,i),function IS(){be.lFrame.elementDepthCount++}(),A&&(sh(o,i,d),ih(o,d,i)),null!==r&&oh(i,d),ut}function ct(){let e=Pt();Gf()?Wf():(e=e.parent,or(e,!1));const t=e;(function _S(e){return be.skipHydrationRootTNode===e})(t)&&function MS(){be.skipHydrationRootTNode=null}(),function AS(){be.lFrame.elementDepthCount--}();const n=Le();return n.firstCreatePass&&(Pu(n,e),Ae(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function GS(e){return 0!=(8&e.flags)}(t)&&Dh(n,t,ee(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function WS(e){return 0!=(16&e.flags)}(t)&&Dh(n,t,ee(),t.stylesWithoutHost,!1),ct}function ca(e,t,n,r){return ut(e,t,n,r),ct(),ca}let u1=(e,t,n,r,i,o)=>(Gr(!0),Xu(r,i,function wm(){return be.lFrame.currentNamespace}()));function Mc(e,t,n){const r=ee(),i=Le(),o=e+R,c=i.firstCreatePass?function Xx(e,t,n,r,i){const o=t.consts,c=Kr(o,r),f=bs(t,e,8,"ng-container",c);return null!==c&&bc(f,c,!0),uh(t,n,f,Kr(o,i)),null!==t.queries&&t.queries.elementStart(t,f),f}(o,i,r,t,n):i.data[o];or(c,!0);const f=l1(i,r,c,e);return r[o]=f,Nu()&&nc(i,r,f,c),$t(f,r),je(c)&&(sh(i,r,c),ih(i,c,r)),null!=n&&oh(r,c),Mc}function Nc(){let e=Pt();const t=Le();return Gf()?Wf():(e=e.parent,or(e,!1)),t.firstCreatePass&&(Pu(t,e),Ae(e)&&t.queries.elementEnd(e)),Nc}let l1=(e,t,n,r)=>(Gr(!0),yd(t[x],""));function Pc(){return ee()}function Oc(e){return!!e&&"function"==typeof e.then}function f1(e){return!!e&&"function"==typeof e.subscribe}function lr(e,t,n,r){const i=ee(),o=Le(),c=Pt();return function h1(e,t,n,r,i,o,c){const f=je(r),D=e.firstCreatePass&&R0(e),A=t[E],N=T0(t);let B=!0;if(3&r.type||c){const J=ln(r,t),te=c?c(J):J,ie=N.length,X=c?Ce=>c(Je(Ce[r.index])):r.index;let me=null;if(!c&&f&&(me=function nI(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const c=i[o];if(c===n&&i[o+1]===r){const f=t[v],d=i[o+2];return f.length>d?f[d]:null}"string"==typeof c&&(o+=2)}return null}(e,t,i,r.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=o,me.__ngLastListenerFn__=o,B=!1;else{o=g1(r,t,A,o,!1);const Ce=n.listen(te,i,o);N.push(o,Ce),D&&D.push(i,X,ie,ie+1)}}else o=g1(r,t,A,o,!1);const U=r.outputs;let Z;if(B&&null!==U&&(Z=U[i])){const J=Z.length;if(J)for(let te=0;te<J;te+=2){const Pe=t[Z[te]][Z[te+1]].subscribe(o),gn=N.length;N.push(o,Pe),D&&D.push(i,r.index,gn,-(gn+1))}}}(o,i,i[x],c,e,t,r),lr}function p1(e,t,n,r){try{return sr(6,t,n),!1!==n(r)}catch(i){return N0(e,i),!1}finally{sr(7,t,n)}}function g1(e,t,n,r,i){return function o(c){if(c===Function)return r;ea(e.componentOffset>-1?Dn(e.index,t):t);let d=p1(t,n,r,c),D=o.__ngNextListenerFn__;for(;D;)d=p1(t,n,D,c)&&d,D=D.__ngNextListenerFn__;return i&&!1===d&&c.preventDefault(),d}}function Cn(e=1){return function jS(e){return(be.lFrame.contextLView=function BS(e,t){for(;e>0;)t=t[I],e--;return t}(e,be.lFrame.contextLView))[E]}(e)}function Lc(e,t){return e<<17|t<<2}function Jr(e){return e>>17&32767}function Sh(e){return 2|e}function Ii(e){return(131068&e)>>2}function bh(e,t){return-131069&e|t<<2}function Ch(e){return 1|e}function x1(e,t,n,r,i){const o=e[n+1],c=null===t;let f=r?Jr(o):Ii(o),d=!1;for(;0!==f&&(!1===d||c);){const A=e[f+1];fI(e[f],t)&&(d=!0,e[f+1]=r?Ch(A):Sh(A)),f=r?Jr(A):Ii(A)}d&&(e[n+1]=r?Sh(o):Ch(o))}function fI(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&us(e,t)>=0}function kc(e,t){return function qn(e,t,n,r){const i=ee(),o=Le(),c=function xr(e){const t=be.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function P1(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Qt()],c=function N1(e,t){return t>=e.expandoStartIndex}(e,n);(function j1(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!c&&(t=!1),t=function DI(e,t,n,r){const i=function Yf(e){const t=be.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=la(n=xh(null,e,t,n,r),t.attrs,r),o=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==i)if(n=xh(i,e,t,n,r),null===o){let d=function EI(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ii(r))return e[Jr(r)]}(e,t,r);void 0!==d&&Array.isArray(d)&&(d=xh(null,e,t,d[1],r),d=la(d,t.attrs,r),function SI(e,t,n,r){e[Jr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,d))}else o=function bI(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=la(r,e[o].hostAttrs,n);return la(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function cI(e,t,n,r,i,o){let c=o?t.classBindings:t.styleBindings,f=Jr(c),d=Ii(c);e[r]=n;let A,D=!1;if(Array.isArray(n)?(A=n[1],(null===A||us(n,A)>0)&&(D=!0)):A=n,i)if(0!==d){const B=Jr(e[f+1]);e[r+1]=Lc(B,f),0!==B&&(e[B+1]=bh(e[B+1],r)),e[f+1]=function aI(e,t){return 131071&e|t<<17}(e[f+1],r)}else e[r+1]=Lc(f,0),0!==f&&(e[f+1]=bh(e[f+1],r)),f=r;else e[r+1]=Lc(d,0),0===f?f=r:e[d+1]=bh(e[d+1],r),d=r;D&&(e[r+1]=Sh(e[r+1])),x1(e,A,r,!0),x1(e,A,r,!1),function lI(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&us(o,t)>=0&&(n[r+1]=Ch(n[r+1]))}(t,A,e,r,o),c=Lc(f,d),o?t.classBindings=c:t.styleBindings=c}(i,o,t,n,c,r)}}(o,e,c,r),t!==Ie&&qt(i,c,t)&&function L1(e,t,n,r,i,o,c,f){if(!(3&t.type))return;const d=e.data,D=d[f+1],A=function uI(e){return 1==(1&e)}(D)?k1(d,t,n,i,Ii(D),c):void 0;jc(A)||(jc(o)||function oI(e){return 2==(2&e)}(D)&&(o=k1(d,null,n,i,f,c)),function sb(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Wr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wr.Important),e.setStyle(n,r,i,o))}}(r,c,Mu(Qt(),n),i,o))}(o,o.data[Qt()],i,i[x],e,i[c+1]=function AI(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=pt(function Zr(e){return e instanceof Sv?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,c)}(e,t,null,!0),kc}function xh(e,t,n,r,i){let o=null;const c=n.directiveEnd;let f=n.directiveStylingLast;for(-1===f?f=n.directiveStart:f++;f<c&&(o=t[f],r=la(r,o.hostAttrs,i),o!==e);)f++;return null!==e&&(n.directiveStylingLast=f),r}function la(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?i=c:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),En(e,c,!!n||t[++o]))}return void 0===e?null:e}function k1(e,t,n,r,i,o){const c=null===t;let f;for(;i>0;){const d=e[i],D=Array.isArray(d),A=D?d[1]:d,N=null===A;let B=n[i+1];B===Ie&&(B=N?Oe:void 0);let U=N?ud(B,r):A===r?B:void 0;if(D&&!jc(U)&&(U=ud(d,r)),jc(U)&&(f=U,c))return f;const Z=e[i+1];i=c?Jr(Z):Ii(Z)}if(null!==t){let d=o?t.residualClasses:t.residualStyles;null!=d&&(f=ud(d,r))}return f}function jc(e){return void 0!==e}function Ot(e,t=""){const n=ee(),r=Le(),i=e+R,o=r.firstCreatePass?bs(r,i,1,t,null):r.data[i],c=B1(r,n,o,t,e);n[i]=c,Nu()&&nc(r,n,c,o),or(o,!1)}let B1=(e,t,n,r,i)=>(Gr(!0),function Ju(e,t){return e.createText(t)}(t[x],r));function Bc(e){return Ps("",e,""),Bc}function Ps(e,t,n){const r=ee(),i=function xs(e,t,n,r){return qt(e,es(),n)?t+xe(n)+r:Ie}(r,e,t,n);return i!==Ie&&function Fr(e,t,n){const r=Mu(t,e);!function sv(e,t,n){e.setValue(t,n)}(e[x],r,n)}(r,Qt(),i),Ps}const Ls="en-US";let ay=Ls;class _i{}class Ny{}class Mh extends _i{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new H0(this);const i=Bt(t);this._bootstrapComponents=_r(i.bootstrap),this._r3Injector=Jv(t,n,[{provide:_i,useValue:this},{provide:mc,useValue:this.componentFactoryResolver},...r],pt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Nh extends Ny{constructor(t){super(),this.moduleType=t}create(t){return new Mh(this.moduleType,t,[])}}class Py extends _i{constructor(t){super(),this.componentFactoryResolver=new H0(this),this.instance=null;const n=new gs([...t.providers,{provide:_i,useValue:this},{provide:mc,useValue:this.componentFactoryResolver}],t.parent||cc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ph(e,t,n=null){return new Py({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let JA=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ov(0,n.type),i=r.length>0?Ph([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ye({token:e,providedIn:"environment",factory:()=>new e(ve(Mn))})}return e})();function Oy(e){e.getStandaloneInjector=t=>t.get(JA).getOrCreateStandaloneInjector(e)}function C_(){return this._results[Symbol.iterator]()}class Lh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new xt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Lh.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=C_)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Rn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function u2(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function I_(e,t,n,r=!0){const i=t[a];if(function Q2(e,t,n,r){const i=W+r,o=n.length;r>0&&(n[i-1][h]=t),r<o-W?(t[h]=n[i],Om(n,W+r,t)):(n.push(t),t[h]=null),t[l]=n;const c=t[F];null!==c&&n!==c&&function J2(e,t){const n=e[$];t[S]!==t[l][l][S]&&(e[V]=!0),null===n?e[$]=[t]:n.push(t)}(c,t);const f=t[M];null!==f&&f.insertView(e),t[u]|=128}(i,t,e,n),r){const o=bd(n,e),c=t[x],f=tc(c,e[z]);null!==f&&function W2(e,t,n,r,i,o){r[s]=i,r[m]=t,Go(e,r,n,1,i,o)}(i,e[m],c,t,f,o)}}let Tr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=F_}return e})();const A_=Tr,__=class extends A_{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function x_(e,t,n,r){const i=t.tView,f=Ec(e,i,n,4096&e[u]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);f[F]=e[t.index];const D=e[M];return null!==D&&(f[M]=D.createEmbeddedView(i)),hh(i,f,n),f}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new ra(i)}};function F_(){return qc(Pt(),ee())}function qc(e,t){return 4&e.type?new __(t,e,Ds(e,t)):null}let Kn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=O_}return e})();function O_(){return Xy(Pt(),ee())}const L_=Kn,Qy=class extends L_{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ds(this._hostTNode,this._hostLView)}get injector(){return new Jt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bu(this._hostTNode,this._hostLView);if(nd(t)){const n=Bo(t,this._hostLView),r=jo(t);return new Jt(n[a].data[r+8],n)}return new Jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Jy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-W}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const f=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(f,i,false),f}createComponent(t,n,r,i,o){const c=t&&!function Vo(e){return"function"==typeof e}(t);let f;if(c)f=n;else{const J=n||{};f=J.index,r=J.injector,i=J.projectableNodes,o=J.environmentInjector||J.ngModuleRef}const d=c?t:new ia(le(t)),D=r||this.parentInjector;if(!o&&null==d.ngModule){const te=(c?D:this.parentInjector).get(Mn,null);te&&(o=te)}le(d.componentType??{});const U=d.create(D,i,null,o);return this.insertImpl(U.hostView,f,false),U}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function SS(e){return ue(e[l])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const D=i[l],A=new Qy(D,D[m],D[l]);A.detach(A.indexOf(t))}}const c=this._adjustIndex(n),f=this._lContainer;return I_(f,i,c,!r),t.attachToViewContainerRef(),Om(kh(f),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Jy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ec(this._lContainer,n);r&&(Uu(kh(this._lContainer),n),wd(r[a],r))}detach(t){const n=this._adjustIndex(t,-1),r=ec(this._lContainer,n);return r&&null!=Uu(kh(this._lContainer),n)?new ra(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Jy(e){return e[8]}function kh(e){return e[8]||(e[8]=[])}function Xy(e,t){let n;const r=t[e.index];return ue(r)?n=r:(n=_0(r,t,null,e),t[e.index]=n,Sc(t,n)),ew(n,t,e,r),new Qy(n,e,t)}let ew=function tw(e,t,n,r){if(e[z])return;let i;i=8&n.type?Je(r):function k_(e,t){const n=e[x],r=n.createComment(""),i=ln(t,e);return bi(n,tc(n,i),r,function nb(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[z]=i};class jh{constructor(t){this.queryList=t,this.matches=null}clone(){return new jh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const c=n.getByIndex(o);i.push(this.queries[c.indexInDeclarationView].clone())}return new Bh(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==uw(t,n).matches&&this.queries[n].setDirty()}}class nw{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Hh{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Hh(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Vh{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Vh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,H_(n,o)),this.matchTNodeWithReadOption(t,n,Hu(n,t,o,!1,!1))}else r===Tr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Hu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Yr||i===Kn||i===Tr&&4&n.type)this.addMatch(n.index,-2);else{const o=Hu(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function H_(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function U_(e,t,n,r){return-1===n?function V_(e,t){return 11&e.type?Ds(e,t):4&e.type?qc(e,t):null}(t,e):-2===n?function $_(e,t,n){return n===Yr?Ds(t,e):n===Tr?qc(t,e):n===Kn?Xy(t,e):void 0}(e,t,r):Si(e,e[a],n,t)}function rw(e,t,n,r){const i=t[M].queries[r];if(null===i.matches){const o=e.data,c=n.matches,f=[];for(let d=0;d<c.length;d+=2){const D=c[d];f.push(D<0?null:U_(t,o[D],c[d+1],n.metadata.read))}i.matches=f}return i.matches}function Uh(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const c=rw(e,t,i,n);for(let f=0;f<o.length;f+=2){const d=o[f];if(d>0)r.push(c[f/2]);else{const D=o[f+1],A=t[-d];for(let N=W;N<A.length;N++){const B=A[N];B[F]===B[l]&&Uh(B[a],B,D,r)}if(null!==A[$]){const N=A[$];for(let B=0;B<N.length;B++){const U=N[B];Uh(U[a],U,D,r)}}}}}return r}function $h(e){const t=ee(),n=Le(),r=hm();Qf(r+1);const i=uw(n,r);if(e.dirty&&function DS(e){return 4==(4&e[u])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Uh(n,t,r,[]):rw(n,t,i,r);e.reset(o,nC),e.notifyOnChanges()}return!0}return!1}function iw(e,t,n){const r=Le();r.firstCreatePass&&(function aw(e,t,n){null===e.queries&&(e.queries=new Hh),e.queries.track(new Vh(t,n))}(r,new nw(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function ow(e,t,n){const r=new Lh(4==(4&n));(function OC(e,t,n,r){const i=T0(t);i.push(n),e.firstCreatePass&&R0(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[M]&&(t[M]=new Bh),t[M].queries.push(new jh(r))}(r,ee(),t)}function uw(e,t){return e.queries.getByIndex(t)}const Yh=new he("Application Initializer");let Qh=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=re(Yh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Oc(o))n.push(o);else if(f1(o)){const c=new Promise((f,d)=>{o.subscribe({complete:f,error:d})});n.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xw=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Rr=new he("LocaleId",{providedIn:"root",factory:()=>re(Rr,Te.Optional|Te.SkipSelf)||function hF(){return typeof $localize<"u"&&$localize.locale||Ls}()});let Iw=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new on(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class mF{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Aw=(()=>{class e{compileModuleSync(n){return new Nh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=_r(Bt(n).declarations).reduce((c,f)=>{const d=le(f);return d&&c.push(new ia(d)),c},[]);return new mF(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Rw=new he(""),Wc=new he("");let np,ep=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,np||(function jF(e){np=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(ve(Xe),ve(tp),ve(Wc))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})(),tp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return np?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Xr=null;const Mw=new he("AllowMultipleToken"),rp=new he("PlatformDestroyListeners"),ip=new he("appBootstrapListener");class Pw{constructor(t,n){this.name=t,this.token=n}}function Lw(e,t,n=[]){const r=`Platform: ${t}`,i=new he(r);return(o=[])=>{let c=sp();if(!c||c.injector.get(Mw,!1)){const f=[...n,...o,{provide:i,useValue:!0}];e?e(f):function VF(e){if(Xr&&!Xr.get(Mw,!1))throw new oe(400,!1);(function Nw(){!function aS(e){Kg=e}(()=>{throw new oe(600,!1)})})(),Xr=e;const t=e.get(jw);(function Ow(e){e.get(Hv,null)?.forEach(n=>n())})(e)}(function kw(e=[],t){return Nn.create({name:t,providers:[{provide:Od,useValue:"platform"},{provide:rp,useValue:new Set([()=>Xr=null])},...e]})}(f,r))}return function $F(e){const t=sp();if(!t)throw new oe(401,!1);return t}()}}function sp(){return Xr?.get(jw)??null}let jw=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function qF(e="zone.js",t){return"noop"===e?new vC:"zone.js"===e?new Xe(t):e}(r?.ngZone,function Bw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function QA(e,t,n){return new Mh(e,t,n)}(n.moduleType,this.injector,function qw(e){return[{provide:Xe,useFactory:e},{provide:Qo,multi:!0,useFactory:()=>{const t=re(KF,{optional:!0});return()=>t.initialize()}},{provide:$w,useFactory:zF},{provide:r0,useFactory:s0}]}(()=>i)),c=o.injector.get(Ar,null);return i.runOutsideAngular(()=>{const f=i.onError.subscribe({next:d=>{c.handleError(d)}});o.onDestroy(()=>{Zc(this._modules,o),f.unsubscribe()})}),function Hw(e,t,n){try{const r=n();return Oc(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(c,i,()=>{const f=o.injector.get(Qh);return f.runInitializers(),f.donePromise.then(()=>(function uy(e){an(e,"Expected localeId to be defined"),"string"==typeof e&&(ay=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Rr,Ls)||Ls),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=Vw({},r);return function BF(e,t,n){const r=new Nh(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Bs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new oe(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(rp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(ve(Nn))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Vw(e,t){return Array.isArray(t)?t.reduce(Vw,e):{...e,...t}}let Bs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=re($w),this.zoneIsStable=re(r0),this.componentTypes=[],this.components=[],this.isStable=re(Iw).hasPendingTasks.pipe(_n(n=>n?Ee(!1):this.zoneIsStable),function Ef(e,t=Xn){return e=e??mo,dt((n,r)=>{let i,o=!0;n.subscribe(ht(r,c=>{const f=t(c);(o||!e(i,f))&&(o=!1,i=f,r.next(c))}))})}(),At()),this._injector=re(Mn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof zv;if(!this._injector.get(Qh).done)throw!i&&function Er(e){const t=le(e)||Ft(e)||jt(e);return null!==t&&t.standalone}(n),new oe(405,!1);let c;c=i?n:this._injector.get(mc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const f=function HF(e){return e.isBoundToModule}(c)?void 0:this._injector.get(_i),D=c.create(Nn.NULL,[],r||c.selector,f),A=D.location.nativeElement,N=D.injector.get(Rw,null);return N?.registerApplication(A),D.onDestroy(()=>{this.detachView(D.hostView),Zc(this.components,D),N?.unregisterApplication(A)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ip,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new oe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Zc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $w=new he("",{providedIn:"root",factory:()=>re(Ar).handleError.bind(void 0)});function zF(){const e=re(Xe),t=re(Ar);return n=>e.runOutsideAngular(()=>t.handleError(n))}let KF=(()=>{class e{constructor(){this.zone=re(Xe),this.applicationRef=re(Bs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let op=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=WF}return e})();function WF(e){return function ZF(e,t,n){if(Se(e)&&!n){const r=Dn(e.index,t);return new ra(r,r)}return 47&e.type?new ra(t[S],t):null}(Pt(),ee(),16==(16&e))}class Ww{constructor(){}supports(t){return Ic(t)}create(t){return new tT(t)}}const eT=(e,t)=>t;class tT{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||eT}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const c=!r||n&&n.currentIndex<Yw(r,i,o)?n:r,f=Yw(c,i,o),d=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)i++;else{o||(o=[]);const D=f-i,A=d-i;if(D!=A){for(let B=0;B<D;B++){const U=B<o.length?o[B]:o[B]=0,Z=U+B;A<=Z&&Z<D&&(o[B]=U+1)}o[c.previousIndex]=A-D}}f!==d&&t(c,f,d)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ic(t))throw new oe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let f=0;f<this.length;f++)o=t[f],c=this._trackByFn(f,o),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,o,c,f)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,c,f),r=!0),n=n._next}else i=0,function Ax(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,f=>{c=this._trackByFn(i,f),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,f,c,i)),Object.is(n.item,f)||this._addIdentityChange(n,f)):(n=this._mismatch(n,f,c,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new nT(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Zw),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class nT{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rT{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Zw{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new rT,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yw(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Jw(){return new Jc([new Ww])}let Jc=(()=>{class e{static#e=this.\u0275prov=ye({token:e,providedIn:"root",factory:Jw});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Jw()),deps:[[e,new zu,new qu]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new oe(901,!1)}}return e})();const uT=Lw(null,"core",[]);let cT=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(ve(Bs))};static#t=this.\u0275mod=ir({type:e});static#n=this.\u0275inj=nr({})}return e})(),hp=null;function Hs(){return hp}class bT{}const On=new he("DocumentToken");let pp=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:function(){return re(xT)},providedIn:"platform"})}return e})();const CT=new he("Location Initialized");let xT=(()=>{class e extends pp{constructor(){super(),this._doc=re(On),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hs().getBaseHref(this._doc)}onPopState(n){const r=Hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function gp(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function uD(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Mr(e){return e&&"?"!==e[0]?"?"+e:e}let Ti=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:function(){return re(lD)},providedIn:"root"})}return e})();const cD=new he("appBaseHref");let lD=(()=>{class e extends Ti{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??re(On).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return gp(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Mr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const c=this.prepareExternalUrl(i+Mr(o));this._platformLocation.pushState(n,r,c)}replaceState(n,r,i,o){const c=this.prepareExternalUrl(i+Mr(o));this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(ve(pp),ve(cD,8))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IT=(()=>{class e extends Ti{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=gp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let c=this.prepareExternalUrl(i+Mr(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(n,r,c)}replaceState(n,r,i,o){let c=this.prepareExternalUrl(i+Mr(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(ve(pp),ve(cD,8))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})(),mp=(()=>{class e{constructor(n){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function FT(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(uD(fD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Mr(r))}normalize(n){return e.stripTrailingSlash(function _T(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,fD(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Mr;static#t=this.joinWithSlash=gp;static#n=this.stripTrailingSlash=uD;static#r=this.\u0275fac=function(r){return new(r||e)(ve(Ti))};static#i=this.\u0275prov=ye({token:e,factory:function(){return function AT(){return new mp(ve(Ti))}()},providedIn:"root"})}return e})();function fD(e){return e.replace(/\/index.html$/,"")}class mR{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let SD=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mR(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const f=r.get(o);r.move(f,c),bD(f,i)}});for(let i=0,o=r.length;i<o;i++){const f=r.get(i).context;f.index=i,f.count=o,f.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{bD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(we(Kn),we(Tr),we(Jc))};static#t=this.\u0275dir=it({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function bD(e,t){e.context.$implicit=t.item}let Ap=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new vR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){CD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){CD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(we(Kn),we(Tr))};static#t=this.\u0275dir=it({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class vR{constructor(){this.$implicit=null,this.ngIf=null}}function CD(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${pt(t)}'.`)}let UR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ir({type:e});static#n=this.\u0275inj=nr({})}return e})();function _D(e){return"server"===e}let KR=(()=>{class e{static#e=this.\u0275prov=ye({token:e,providedIn:"root",factory:()=>new GR(ve(On),window)})}return e})();class GR{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function WR(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class yM extends bT{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pp extends yM{static makeCurrent(){!function ST(e){hp||(hp=e)}(new Pp)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function wM(){return Ca=Ca||document.querySelector("base"),Ca?Ca.getAttribute("href"):null}();return null==n?null:function DM(e){dl=dl||document.createElement("a"),dl.setAttribute("href",e);const t=dl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function hR(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let dl,Ca=null,SM=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})();const Op=new he("EventManagerPlugins");let ND=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new oe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(ve(Op),ve(Xe))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})();class PD{constructor(t){this._doc=t}}const Lp="ng-app-id";let OD=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_D(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Lp}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Lp),o;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Lp,this.appId),c}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,c=o.get(r)?.elements;c?c.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(ve(On),ve(lc),ve(Vv,8),ve(vs))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})();const kp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jp=/%COMP%/g,IM=new he("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function kD(e,t){return t.map(n=>n.replace(jp,e))}let jD=(()=>{class e{constructor(n,r,i,o,c,f,d,D=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=f,this.ngZone=d,this.nonce=D,this.rendererByCompId=new Map,this.platformIsServer=_D(f),this.defaultRenderer=new Bp(n,c,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kt.ShadowDom&&(r={...r,encapsulation:kt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof HD?i.applyToHost(n):i instanceof Hp&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const c=this.doc,f=this.ngZone,d=this.eventManager,D=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(r.encapsulation){case kt.Emulated:o=new HD(d,D,r,this.appId,A,c,f,N);break;case kt.ShadowDom:return new TM(d,D,n,r,c,f,this.nonce,N);default:o=new Hp(d,D,r,A,c,f,N)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(ve(ND),ve(OD),ve(lc),ve(IM),ve(On),ve(vs),ve(Xe),ve(Vv))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})();class Bp{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(kp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(BD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(BD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new oe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=kp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=kp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Wr.DashCase|Wr.Important)?t.style.setProperty(n,r,i&Wr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Wr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Hs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function BD(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class TM extends Bp{constructor(t,n,r,i,o,c,f,d){super(t,o,c,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=kD(i.id,i.styles);for(const A of D){const N=document.createElement("style");f&&N.setAttribute("nonce",f),N.textContent=A,this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Hp extends Bp{constructor(t,n,r,i,o,c,f,d){super(t,o,c,f),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=d?kD(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class HD extends Hp{constructor(t,n,r,i,o,c,f,d){const D=i+"-"+r.id;super(t,n,r,o,c,f,d,D),this.contentAttr=function AM(e){return"_ngcontent-%COMP%".replace(jp,e)}(D),this.hostAttr=function _M(e){return"_nghost-%COMP%".replace(jp,e)}(D)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let RM=(()=>{class e extends PD{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(ve(On))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})();const VD=["alt","control","meta","shift"],MM={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let PM=(()=>{class e extends PD{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),c=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hs().onAndCancel(n,o.domEventName,c))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),VD.forEach(D=>{const A=r.indexOf(D);A>-1&&(r.splice(A,1),c+=D+".")}),c+=o,0!=r.length||0===o.length)return null;const d={};return d.domEventName=i,d.fullKey=c,d}static matchEventFullKeyCode(n,r){let i=MM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),VD.forEach(c=>{c!==i&&(0,NM[c])(n)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(ve(On))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})();const jM=Lw(uT,"browser",[{provide:vs,useValue:"browser"},{provide:Hv,useValue:function OM(){Pp.makeCurrent()},multi:!0},{provide:On,useFactory:function kM(){return function lb(e){Id=e}(document),document},deps:[]}]),BM=new he(""),qD=[{provide:Wc,useClass:class EM{addToWindow(t){Ne.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new oe(5103,!1);return o},Ne.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ne.getAllAngularRootElements=()=>t.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let o=i.length,c=!1;const f=function(d){c=c||d,o--,0==o&&r(c)};i.forEach(d=>{d.whenStable(f)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Hs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Rw,useClass:ep,deps:[Xe,tp,Wc]},{provide:ep,useClass:ep,deps:[Xe,tp,Wc]}],zD=[{provide:Od,useValue:"root"},{provide:Ar,useFactory:function LM(){return new Ar},deps:[]},{provide:Op,useClass:RM,multi:!0,deps:[On,Xe,vs]},{provide:Op,useClass:PM,multi:!0,deps:[On]},jD,OD,ND,{provide:Gv,useExisting:jD},{provide:class ZR{},useClass:SM,deps:[]},[]];let HM=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:lc,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(ve(BM,12))};static#t=this.\u0275mod=ir({type:e});static#n=this.\u0275inj=nr({providers:[...zD,...qD],imports:[UR,cT]})}return e})(),KD=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(ve(On))};static#t=this.\u0275prov=ye({token:e,factory:function(r){let i=null;return i=r?new r:function UM(){return new KD(ve(On))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:WM}=Array,{getPrototypeOf:ZM,prototype:YM,keys:QM}=Object;const{isArray:e4}=Array;function Up(...e){const t=oi(e),n=function uu(e){return ke(yr(e))?e.pop():void 0}(e),{args:r,keys:i}=function JM(e){if(1===e.length){const t=e[0];if(WM(t))return{args:t,keys:null};if(function XM(e){return e&&"object"==typeof e&&ZM(e)===YM}(t)){const n=QM(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return bt([],t);const o=new ft(function i4(e,t,n=Xn){return r=>{YD(t,()=>{const{length:i}=e,o=new Array(i);let c=i,f=i;for(let d=0;d<i;d++)YD(t,()=>{const D=bt(e[d],t);let A=!1;D.subscribe(ht(r,N=>{o[d]=N,A||(A=!0,f--),f||r.next(n(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,t,i?c=>function r4(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,c):Xn));return n?o.pipe(function n4(e){return We(t=>function t4(e,t){return e4(t)?e(...t):e(t)}(e,t))}(n)):o}function YD(e,t,n){e?Hn(n,e,t):t()}const hl=Yn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function $p(...e){return function s4(){return Br(1)}()(bt(e,oi(e)))}function QD(e){return new ft(t=>{sn(e()).subscribe(t)})}function xa(e,t){const n=ke(e)?e:()=>e,r=i=>i.error(n());return new ft(t?i=>t.schedule(r,0,i):r)}function qp(){return dt((e,t)=>{let n=null;e._refCount++;const r=ht(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class JD extends ft{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Za(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ae;const n=this.getSubject();t.add(this.source.subscribe(ht(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ae.EMPTY)}return t}refCount(){return qp()(this)}}function Us(e){return e<=0?()=>An:dt((t,n)=>{let r=0;t.subscribe(ht(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ti(e,t){return dt((n,r)=>{let i=0;n.subscribe(ht(r,o=>e.call(t,o,i++)&&r.next(o)))})}function pl(e){return dt((t,n)=>{let r=!1;t.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function XD(e=a4){return dt((t,n)=>{let r=!1;t.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function a4(){return new hl}function Ri(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ti((i,o)=>e(i,o,r)):Xn,Us(1),n?pl(t):XD(()=>new hl))}function Ia(e,t){return ke(t)?St(e,t,1):St(e,1)}function zt(e,t,n){const r=ke(e)||t||n?{next:e,error:t,complete:n}:e;return r?dt((i,o)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe(ht(o,d=>{var D;null===(D=r.next)||void 0===D||D.call(r,d),o.next(d)},()=>{var d;f=!1,null===(d=r.complete)||void 0===d||d.call(r),o.complete()},d=>{var D;f=!1,null===(D=r.error)||void 0===D||D.call(r,d),o.error(d)},()=>{var d,D;f&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(D=r.finalize)||void 0===D||D.call(r)}))}):Xn}function Mi(e){return dt((t,n)=>{let o,r=null,i=!1;r=t.subscribe(ht(n,void 0,void 0,c=>{o=sn(e(c,Mi(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function zp(e){return e<=0?()=>An:dt((t,n)=>{let r=[];t.subscribe(ht(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Kp(e){return dt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Fe="primary",Aa=Symbol("RouteTitle");class h4{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function $s(e){return new h4(e)}function p4(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],f=e[o];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function hr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eE(e[i],t[i]))return!1;return!0}function eE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function tE(e){return e.length>0?e[e.length-1]:null}function ni(e){return function GM(e){return!!e&&(e instanceof ft||ke(e.lift)&&ke(e.subscribe))}(e)?e:Oc(e)?bt(Promise.resolve(e)):Ee(e)}const m4={exact:function iE(e,t,n){if(!Ni(e.segments,t.segments)||!gl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!iE(e.children[r],t.children[r],n))return!1;return!0},subset:sE},nE={exact:function v4(e,t){return hr(e,t)},subset:function y4(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>eE(e[n],t[n]))},ignored:()=>!0};function rE(e,t,n){return m4[n.paths](e.root,t.root,n.matrixParams)&&nE[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function sE(e,t,n){return oE(e,t,t.segments,n)}function oE(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Ni(i,n)||t.hasChildren()||!gl(i,n,r))}if(e.segments.length===n.length){if(!Ni(e.segments,n)||!gl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!sE(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Ni(e.segments,i)&&gl(e.segments,i,r)&&e.children[Fe])&&oE(e.children[Fe],t,o,r)}}function gl(e,t,n){return t.every((r,i)=>nE[n](e[i].parameters,r.parameters))}class qs{constructor(t=new Ge([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$s(this.queryParams)),this._queryParamMap}toString(){return E4.serialize(this)}}class Ge{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ml(this)}}class _a{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=$s(this.parameters)),this._parameterMap}toString(){return cE(this)}}function Ni(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Fa=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:function(){return new Gp},providedIn:"root"})}return e})();class Gp{parse(t){const n=new M4(t);return new qs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ta(t.root,!0)}`,r=function C4(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${vl(n)}=${vl(i)}`).join("&"):`${vl(n)}=${vl(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function S4(e){return encodeURI(e)}(t.fragment)}`:""}`}}const E4=new Gp;function ml(e){return e.segments.map(t=>cE(t)).join("/")}function Ta(e,t){if(!e.hasChildren())return ml(e);if(t){const n=e.children[Fe]?Ta(e.children[Fe],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Fe&&r.push(`${i}:${Ta(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function D4(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Fe&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Fe&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Fe?[Ta(e.children[Fe],!1)]:[`${i}:${Ta(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Fe]?`${ml(e)}/${n[0]}`:`${ml(e)}/(${n.join("//")})`}}function aE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vl(e){return aE(e).replace(/%3B/gi,";")}function Wp(e){return aE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yl(e){return decodeURIComponent(e)}function uE(e){return yl(e.replace(/\+/g,"%20"))}function cE(e){return`${Wp(e.path)}${function b4(e){return Object.keys(e).map(t=>`;${Wp(t)}=${Wp(e[t])}`).join("")}(e.parameters)}`}const x4=/^[^\/()?;#]+/;function Zp(e){const t=e.match(x4);return t?t[0]:""}const I4=/^[^\/()?;=#]+/,_4=/^[^=?&#]+/,T4=/^[^&#]+/;class M4{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Fe]=new Ge(t,n)),r}parseSegment(){const t=Zp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(t),new _a(yl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function A4(e){const t=e.match(I4);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Zp(this.remaining);i&&(r=i,this.capture(r))}t[yl(n)]=yl(r)}parseQueryParam(t){const n=function F4(e){const t=e.match(_4);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const c=function R4(e){const t=e.match(T4);return t?t[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=uE(n),o=uE(r);if(t.hasOwnProperty(i)){let c=t[i];Array.isArray(c)||(c=[c],t[i]=c),c.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Zp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new oe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Fe);const c=this.parseChildren();n[o]=1===Object.keys(c).length?c[Fe]:new Ge([],c),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new oe(4011,!1)}}function lE(e){return e.segments.length>0?new Ge([],{[Fe]:e}):e}function fE(e){const t={};for(const r of Object.keys(e.children)){const o=fE(e.children[r]);if(r===Fe&&0===o.segments.length&&o.hasChildren())for(const[c,f]of Object.entries(o.children))t[c]=f;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function N4(e){if(1===e.numberOfChildren&&e.children[Fe]){const t=e.children[Fe];return new Ge(e.segments.concat(t.segments),t.children)}return e}(new Ge(e.segments,t))}function Pi(e){return e instanceof qs}function dE(e){let t;const i=lE(function n(o){const c={};for(const d of o.children){const D=n(d);c[d.outlet]=D}const f=new Ge(o.url,c);return o===e&&(t=f),f}(e.root));return t??i}function hE(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return Yp(i,i,i,n,r);const o=function O4(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new gE(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return Object.entries(o.outlets).forEach(([d,D])=>{f[d]="string"==typeof D?D.split("/"):D}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((f,d)=>{0==d&&"."===f||(0==d&&""===f?n=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new gE(n,t,r)}(t);if(o.toRoot())return Yp(i,i,new Ge([],{}),n,r);const c=function L4(e,t,n){if(e.isAbsolute)return new Dl(t,!0,0);if(!n)return new Dl(t,!1,NaN);if(null===n.parent)return new Dl(n,!0,0);const r=wl(e.commands[0])?0:1;return function k4(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new oe(4005,!1);i=r.segments.length}return new Dl(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),f=c.processChildren?Ma(c.segmentGroup,c.index,o.commands):mE(c.segmentGroup,c.index,o.commands);return Yp(i,c.segmentGroup,f,n,r)}function wl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ra(e){return"object"==typeof e&&null!=e&&e.outlets}function Yp(e,t,n,r,i){let c,o={};r&&Object.entries(r).forEach(([d,D])=>{o[d]=Array.isArray(D)?D.map(A=>`${A}`):`${D}`}),c=e===t?n:pE(e,t,n);const f=lE(fE(c));return new qs(f,o,i)}function pE(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:pE(o,t,n)}),new Ge(e.segments,r)}class gE{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&wl(r[0]))throw new oe(4003,!1);const i=r.find(Ra);if(i&&i!==tE(r))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dl{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function mE(e,t,n){if(e||(e=new Ge([],{})),0===e.segments.length&&e.hasChildren())return Ma(e,t,n);const r=function B4(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const c=e.segments[i],f=n[r];if(Ra(f))break;const d=`${f}`,D=r<n.length-1?n[r+1]:null;if(i>0&&void 0===d)break;if(d&&D&&"object"==typeof D&&void 0===D.outlets){if(!yE(d,D,c))return o;r+=2}else{if(!yE(d,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Ge(e.segments.slice(0,r.pathIndex),{});return o.children[Fe]=new Ge(e.segments.slice(r.pathIndex),e.children),Ma(o,0,i)}return r.match&&0===i.length?new Ge(e.segments,{}):r.match&&!e.hasChildren()?Qp(e,t,n):r.match?Ma(e,0,i):Qp(e,t,n)}function Ma(e,t,n){if(0===n.length)return new Ge(e.segments,{});{const r=function j4(e){return Ra(e[0])?e[0].outlets:{[Fe]:e}}(n),i={};if(Object.keys(r).some(o=>o!==Fe)&&e.children[Fe]&&1===e.numberOfChildren&&0===e.children[Fe].segments.length){const o=Ma(e.children[Fe],t,n);return new Ge(e.segments,o.children)}return Object.entries(r).forEach(([o,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[o]=mE(e.children[o],t,c))}),Object.entries(e.children).forEach(([o,c])=>{void 0===r[o]&&(i[o]=c)}),new Ge(e.segments,i)}}function Qp(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Ra(o)){const d=H4(o.outlets);return new Ge(r,d)}if(0===i&&wl(n[0])){r.push(new _a(e.segments[t].path,vE(n[0]))),i++;continue}const c=Ra(o)?o.outlets[Fe]:`${o}`,f=i<n.length-1?n[i+1]:null;c&&f&&wl(f)?(r.push(new _a(c,vE(f))),i+=2):(r.push(new _a(c,{})),i++)}return new Ge(r,{})}function H4(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Qp(new Ge([],{}),0,r))}),t}function vE(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function yE(e,t,n){return e==n.path&&hr(t,n.parameters)}const Na="imperative";class pr{constructor(t,n){this.id=t,this.url=n}}class El extends pr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends pr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pa extends pr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zs extends pr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Sl extends pr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wE extends pr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V4 extends pr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U4 extends pr{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $4 extends pr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q4 extends pr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z4{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K4{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class G4{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W4{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z4{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y4{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DE{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jp{}class Xp{constructor(t){this.url=t}}class Q4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Oa,this.attachRef=null}}let Oa=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Q4,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class EE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=eg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=eg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=tg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return tg(t,this._root).map(n=>n.value)}}function eg(e,t){if(e===t.value)return t;for(const n of t.children){const r=eg(e,n);if(r)return r}return null}function tg(e,t){if(e===t.value)return[t];for(const n of t.children){const r=tg(e,n);if(r.length)return r.unshift(t),r}return[]}class Or{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ks(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class SE extends EE{constructor(t,n){super(t),this.snapshot=n,ng(this,t)}toString(){return this.snapshot.toString()}}function bE(e,t){const n=function J4(e,t){const c=new bl([],{},{},"",{},Fe,t,null,{});return new xE("",new Or(c,[]))}(0,t),r=new on([new _a("",{})]),i=new on({}),o=new on({}),c=new on({}),f=new on(""),d=new Oi(r,i,c,f,o,Fe,t,n.root);return d.snapshot=n.root,new SE(new Or(d,[]),n)}class Oi{constructor(t,n,r,i,o,c,f,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=c,this.component=f,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(We(D=>D[Aa]))??Ee(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(We(t=>$s(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(We(t=>$s(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CE(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function X4(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class bl{get title(){return this.data?.[Aa]}constructor(t,n,r,i,o,c,f,d,D){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.routeConfig=d,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$s(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$s(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xE extends EE{constructor(t,n){super(n),this.url=t,ng(this,n)}toString(){return IE(this._root)}}function ng(e,t){t.value._routerState=e,t.children.forEach(n=>ng(e,n))}function IE(e){const t=e.children.length>0?` { ${e.children.map(IE).join(", ")} } `:"";return`${e.value}${t}`}function rg(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,hr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),hr(t.params,n.params)||e.paramsSubject.next(n.params),function g4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!hr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),hr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ig(e,t){const n=hr(e.params,t.params)&&function w4(e,t){return Ni(e,t)&&e.every((n,r)=>hr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||ig(e.parent,t.parent))}let sg=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fe,this.activateEvents=new xt,this.deactivateEvents=new xt,this.attachEvents=new xt,this.detachEvents=new xt,this.parentContexts=re(Oa),this.location=re(Kn),this.changeDetector=re(op),this.environmentInjector=re(Mn),this.inputBinder=re(Cl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=n;const i=this.location,c=n.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,d=new eN(n,f,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zr]})}return e})();class eN{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Oi?this.route:t===Oa?this.childContexts:this.parent.get(t,n)}}const Cl=new he("");let AE=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Up([r.queryParams,r.params,r.data]).pipe(_n(([o,c,f],d)=>(f={...o,...c,...f},0===d?Ee(f):Promise.resolve(f)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const c=function ET(e){const t=le(e);if(!t)return null;const n=new ia(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(c)for(const{templateName:f}of c.inputs)n.activatedComponentRef.setInput(f,o[f]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})();function La(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function nN(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return La(e,r,i);return La(e,r)})}(e,t,n);return new Or(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(f=>La(e,f)),c}}const r=function rN(e){return new Oi(new on(e.url),new on(e.params),new on(e.queryParams),new on(e.fragment),new on(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>La(e,o));return new Or(r,i)}}const og="ngNavigationCancelingError";function _E(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Pi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=FE(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function FE(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[og]=!0,r.cancellationCode=t,n&&(r.url=n),r}function TE(e){return e&&e[og]}let RE=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=wn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Oy],decls:1,vars:0,template:function(r,i){1&r&&ca(0,"router-outlet")},dependencies:[sg],encapsulation:2})}return e})();function ag(e){const t=e.children&&e.children.map(ag),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Fe&&(n.component=RE),n}function Zn(e){return e.outlet||Fe}function ka(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class fN{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),rg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Ks(n);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(t,n,c.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ks(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:f})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ks(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Ks(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Y4(o.value.snapshot))}),t.children.length&&this.forwardEvent(new W4(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(rg(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,c.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),rg(f.route.value),this.activateChildRoutes(t,null,c.children)}else{const f=ka(i.snapshot);c.attachRef=null,c.route=i,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,r)}}class ME{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xl{constructor(t,n){this.component=t,this.route=n}}function dN(e,t,n){const r=e._root;return ja(r,t?t._root:null,n,[r.value])}function Gs(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function xf(e){return null!==Ui(e)}(e)?t.get(e):e:r}function ja(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ks(t);return e.children.forEach(c=>{(function pN(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,c=t?t.value:null,f=n?n.getContext(e.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const d=function gN(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ni(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ni(e.url,t.url)||!hr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ig(e,t)||!hr(e.queryParams,t.queryParams);default:return!ig(e,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new ME(r)):(o.data=c.data,o._resolvedData=c._resolvedData),ja(e,t,o.component?f?f.children:null:n,r,i),d&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new xl(f.outlet.component,c))}else c&&Ba(t,f,i),i.canActivateChecks.push(new ME(r)),ja(e,null,o.component?f?f.children:null:n,r,i)})(c,o[c.value.outlet],n,r.concat([c.value]),i),delete o[c.value.outlet]}),Object.entries(o).forEach(([c,f])=>Ba(f,n.getContext(c),i)),i}function Ba(e,t,n){const r=Ks(e),i=e.value;Object.entries(r).forEach(([o,c])=>{Ba(c,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new xl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Ha(e){return"function"==typeof e}function NE(e){return e instanceof hl||"EmptyError"===e?.name}const Il=Symbol("INITIAL_VALUE");function Ws(){return _n(e=>Up(e.map(t=>t.pipe(Us(1),function o4(...e){const t=oi(e);return dt((n,r)=>{(t?$p(e,n,t):$p(e,n)).subscribe(r)})}(Il)))).pipe(We(t=>{for(const n of t)if(!0!==n){if(n===Il)return Il;if(!1===n||n instanceof qs)return n}return!0}),ti(t=>t!==Il),Us(1)))}function PE(e){return function Nl(...e){return Ka(e)}(zt(t=>{if(Pi(t))throw _E(0,t)}),We(t=>!0===t))}class Al{constructor(t){this.segmentGroup=t||null}}class OE{constructor(t){this.urlTree=t}}function Zs(e){return xa(new Al(e))}function LE(e){return xa(new OE(e))}class ON{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new oe(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ee(r);if(i.numberOfChildren>1||!i.children[Fe])return xa(new oe(4e3,!1));i=i.children[Fe]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new qs(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);r[i]=n[f]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let c={};return Object.entries(n.children).forEach(([f,d])=>{c[f]=this.createSegmentGroup(t,d,r,i)}),new Ge(o,c)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new oe(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LN(e,t,n,r,i){const o=cg(e,t,n);return o.matched?(r=function sN(e,t){return e.providers&&!e._injector&&(e._injector=Ph(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function MN(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Ee(i.map(c=>{const f=Gs(c,e);return ni(function EN(e){return e&&Ha(e.canMatch)}(f)?f.canMatch(t,n):e.runInContext(()=>f(t,n)))})).pipe(Ws(),PE()):Ee(!0)}(r,t,n).pipe(We(c=>!0===c?o:{...ug}))):Ee(o)}function cg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...ug}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||p4)(n,e,t);if(!i)return{...ug};const o={};Object.entries(i.posParams??{}).forEach(([f,d])=>{o[f]=d.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function kE(e,t,n,r){return n.length>0&&function BN(e,t,n){return n.some(r=>_l(e,t,r)&&Zn(r)!==Fe)}(e,n,r)?{segmentGroup:new Ge(t,jN(r,new Ge(n,e.children))),slicedSegments:[]}:0===n.length&&function HN(e,t,n){return n.some(r=>_l(e,t,r))}(e,n,r)?{segmentGroup:new Ge(e.segments,kN(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ge(e.segments,e.children),slicedSegments:n}}function kN(e,t,n,r,i){const o={};for(const c of r)if(_l(e,n,c)&&!i[Zn(c)]){const f=new Ge([],{});o[Zn(c)]=f}return{...i,...o}}function jN(e,t){const n={};n[Fe]=t;for(const r of e)if(""===r.path&&Zn(r)!==Fe){const i=new Ge([],{});n[Zn(r)]=i}return n}function _l(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class qN{constructor(t,n,r,i,o,c,f){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=c,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new ON(this.urlSerializer,this.urlTree)}noMatchError(t){return new oe(4002,!1)}recognize(){const t=kE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Fe).pipe(Mi(n=>{if(n instanceof OE)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Al?this.noMatchError(n):n}),We(n=>{const r=new bl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fe,this.rootComponentType,null,{}),i=new Or(r,n),o=new xE("",i),c=function P4(e,t,n=null,r=null){return hE(dE(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(o._root),{state:o,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Fe).pipe(Mi(r=>{throw r instanceof Al?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=CE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return bt(i).pipe(Ia(o=>{const c=r.children[o],f=function cN(e,t){const n=e.filter(r=>Zn(r)===t);return n.push(...e.filter(r=>Zn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,f,c,o)}),function c4(e,t){return dt(function u4(e,t,n,r,i){return(o,c)=>{let f=n,d=t,D=0;o.subscribe(ht(c,A=>{const N=D++;d=f?e(d,A,N):(f=!0,A),r&&c.next(d)},i&&(()=>{f&&c.next(d),c.complete()})))}}(e,t,arguments.length>=2,!0))}((o,c)=>(o.push(...c),o)),pl(null),function l4(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ti((i,o)=>e(i,o,r)):Xn,zp(1),n?pl(t):XD(()=>new hl))}(),St(o=>{if(null===o)return Zs(r);const c=jE(o);return function zN(e){e.sort((t,n)=>t.value.outlet===Fe?-1:n.value.outlet===Fe?1:t.value.outlet.localeCompare(n.value.outlet))}(c),Ee(c)}))}processSegment(t,n,r,i,o,c){return bt(n).pipe(Ia(f=>this.processSegmentAgainstRoute(f._injector??t,n,f,r,i,o,c).pipe(Mi(d=>{if(d instanceof Al)return Ee(null);throw d}))),Ri(f=>!!f),Mi(f=>{if(NE(f))return function UN(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?Ee([]):Zs(r);throw f}))}processSegmentAgainstRoute(t,n,r,i,o,c,f){return function VN(e,t,n,r){return!!(Zn(e)===r||r!==Fe&&_l(t,n,e))&&("**"===e.path||cg(t,e,n).matched)}(r,i,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,c,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,c):Zs(i):Zs(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LE(o):this.applyRedirects.lineralizeSegments(r,o).pipe(St(c=>{const f=new Ge(c,{});return this.processSegment(t,n,f,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,c){const{matched:f,consumedSegments:d,remainingSegments:D,positionalParamSegments:A}=cg(n,i,o);if(!f)return Zs(n);const N=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,A);return i.redirectTo.startsWith("/")?LE(N):this.applyRedirects.lineralizeSegments(i,N).pipe(St(B=>this.processSegment(t,r,n,B.concat(D),c,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,c){let f;if("**"===r.path){const d=i.length>0?tE(i).parameters:{};f=Ee({snapshot:new bl(i,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BE(r),Zn(r),r.component??r._loadedComponent??null,r,HE(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else f=LN(n,r,i,t).pipe(We(({matched:d,consumedSegments:D,remainingSegments:A,parameters:N})=>d?{snapshot:new bl(D,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BE(r),Zn(r),r.component??r._loadedComponent??null,r,HE(r)),consumedSegments:D,remainingSegments:A}:null));return f.pipe(_n(d=>null===d?Zs(n):this.getChildConfig(t=r._injector??t,r,i).pipe(_n(({routes:D})=>{const A=r._loadedInjector??t,{snapshot:N,consumedSegments:B,remainingSegments:U}=d,{segmentGroup:Z,slicedSegments:J}=kE(n,B,U,D);if(0===J.length&&Z.hasChildren())return this.processChildren(A,D,Z).pipe(We(ie=>null===ie?null:[new Or(N,ie)]));if(0===D.length&&0===J.length)return Ee([new Or(N,[])]);const te=Zn(r)===o;return this.processSegment(A,D,Z,J,te?Fe:o,!0).pipe(We(ie=>[new Or(N,ie)]))}))))}getChildConfig(t,n,r){return n.children?Ee({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function RN(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Ee(!0):Ee(i.map(c=>{const f=Gs(c,e);return ni(function vN(e){return e&&Ha(e.canLoad)}(f)?f.canLoad(t,n):e.runInContext(()=>f(t,n)))})).pipe(Ws(),PE())}(t,n,r).pipe(St(i=>i?this.configLoader.loadChildren(t,n).pipe(zt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function PN(e){return xa(FE(!1,3))}())):Ee({routes:[],injector:t})}}function KN(e){const t=e.value.routeConfig;return t&&""===t.path}function jE(e){const t=[],n=new Set;for(const r of e){if(!KN(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=jE(r.children);t.push(new Or(r.value,i))}return t.filter(r=>!n.has(r))}function BE(e){return e.data||{}}function HE(e){return e.resolve||{}}function VE(e){return"string"==typeof e.title||null===e.title}function lg(e){return _n(t=>{const n=e(t);return n?bt(n).pipe(We(()=>t)):Ee(t)})}const Ys=new he("ROUTES");let fg=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=re(Aw)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ni(n.loadComponent()).pipe(We(UE),zt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Kp(()=>{this.componentLoaders.delete(n)})),i=new JD(r,()=>new mn).pipe(qp());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function XN(e,t,n,r){return ni(e.loadChildren()).pipe(We(UE),St(i=>i instanceof Ny||Array.isArray(i)?Ee(i):bt(t.compileModuleAsync(i))),We(i=>{r&&r(e);let o,c,f=!1;return Array.isArray(i)?(c=i,!0):(o=i.create(n).injector,c=o.get(Ys,[],{optional:!0,self:!0}).flat()),{routes:c.map(ag),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Kp(()=>{this.childrenLoaders.delete(r)})),c=new JD(o,()=>new mn).pipe(qp());return this.childrenLoaders.set(r,c),c}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function UE(e){return function eP(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Fl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mn,this.transitionAbortSubject=new mn,this.configLoader=re(fg),this.environmentInjector=re(Mn),this.urlSerializer=re(Fa),this.rootContexts=re(Oa),this.inputBindingEnabled=null!==re(Cl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new K4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new z4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new on({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Na,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ti(o=>0!==o.id),We(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),_n(o=>{this.currentTransition=o;let c=!1,f=!1;return Ee(o).pipe(zt(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_n(d=>{const D=d.currentBrowserUrl.toString(),A=!n.navigated||d.extractedUrl.toString()!==D||D!==d.currentUrlTree.toString();if(!A&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const B="";return this.events.next(new zs(d.id,this.urlSerializer.serialize(d.rawUrl),B,0)),d.resolve(null),An}if(n.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Ee(d).pipe(_n(B=>{const U=this.transitions?.getValue();return this.events.next(new El(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),U!==this.transitions?.getValue()?An:Promise.resolve(B)}),function GN(e,t,n,r,i,o){return St(c=>function $N(e,t,n,r,i,o,c="emptyOnly"){return new qN(e,t,n,r,i,c,o).recognize()}(e,t,n,r,c.extractedUrl,i,o).pipe(We(({state:f,tree:d})=>({...c,targetSnapshot:f,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),zt(B=>{o.targetSnapshot=B.targetSnapshot,o.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const U=new wE(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(U)}));if(A&&n.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:B,extractedUrl:U,source:Z,restoredState:J,extras:te}=d,ie=new El(B,this.urlSerializer.serialize(U),Z,J);this.events.next(ie);const X=bE(0,this.rootComponentType).snapshot;return this.currentTransition=o={...d,targetSnapshot:X,urlAfterRedirects:U,extras:{...te,skipLocationChange:!1,replaceUrl:!1}},Ee(o)}{const B="";return this.events.next(new zs(d.id,this.urlSerializer.serialize(d.extractedUrl),B,1)),d.resolve(null),An}}),zt(d=>{const D=new V4(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(D)}),We(d=>(this.currentTransition=o={...d,guards:dN(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},o)),function bN(e,t){return St(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=n;return 0===c.length&&0===o.length?Ee({...n,guardsResult:!0}):function CN(e,t,n,r){return bt(e).pipe(St(i=>function TN(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ee(o.map(f=>{const d=ka(t)??i,D=Gs(f,d);return ni(function DN(e){return e&&Ha(e.canDeactivate)}(D)?D.canDeactivate(e,t,n,r):d.runInContext(()=>D(e,t,n,r))).pipe(Ri())})).pipe(Ws()):Ee(!0)}(i.component,i.route,n,t,r)),Ri(i=>!0!==i,!0))}(c,r,i,e).pipe(St(f=>f&&function mN(e){return"boolean"==typeof e}(f)?function xN(e,t,n,r){return bt(t).pipe(Ia(i=>$p(function AN(e,t){return null!==e&&t&&t(new G4(e)),Ee(!0)}(i.route.parent,r),function IN(e,t){return null!==e&&t&&t(new Z4(e)),Ee(!0)}(i.route,r),function FN(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function hN(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(c)).filter(c=>null!==c).map(c=>QD(()=>Ee(c.guards.map(d=>{const D=ka(c.node)??n,A=Gs(d,D);return ni(function wN(e){return e&&Ha(e.canActivateChild)}(A)?A.canActivateChild(r,e):D.runInContext(()=>A(r,e))).pipe(Ri())})).pipe(Ws())));return Ee(o).pipe(Ws())}(e,i.path,n),function _N(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ee(!0);const i=r.map(o=>QD(()=>{const c=ka(t)??n,f=Gs(o,c);return ni(function yN(e){return e&&Ha(e.canActivate)}(f)?f.canActivate(t,e):c.runInContext(()=>f(t,e))).pipe(Ri())}));return Ee(i).pipe(Ws())}(e,i.route,n))),Ri(i=>!0!==i,!0))}(r,o,e,t):Ee(f)),We(f=>({...n,guardsResult:f})))})}(this.environmentInjector,d=>this.events.next(d)),zt(d=>{if(o.guardsResult=d.guardsResult,Pi(d.guardsResult))throw _E(0,d.guardsResult);const D=new U4(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(D)}),ti(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",3),!1)),lg(d=>{if(d.guards.canActivateChecks.length)return Ee(d).pipe(zt(D=>{const A=new $4(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(A)}),_n(D=>{let A=!1;return Ee(D).pipe(function WN(e,t){return St(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ee(n);let o=0;return bt(i).pipe(Ia(c=>function ZN(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!VE(i)&&(o[Aa]=i.title),function YN(e,t,n,r){const i=function QN(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ee({});const o={};return bt(i).pipe(St(c=>function JN(e,t,n,r){const i=ka(t)??r,o=Gs(e,i);return ni(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[c],t,n,r).pipe(Ri(),zt(f=>{o[c]=f}))),zp(1),function f4(e){return We(()=>e)}(o),Mi(c=>NE(c)?An:xa(c)))}(o,e,t,r).pipe(We(c=>(e._resolvedData=c,e.data=CE(e,n).resolve,i&&VE(i)&&(e.data[Aa]=i.title),null)))}(c.route,r,e,t)),zt(()=>o++),zp(1),St(c=>o===i.length?Ee(n):An))})}(n.paramsInheritanceStrategy,this.environmentInjector),zt({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(D,"",2)}}))}),zt(D=>{const A=new q4(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(A)}))}),lg(d=>{const D=A=>{const N=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(A.routeConfig).pipe(zt(B=>{A.component=B}),We(()=>{})));for(const B of A.children)N.push(...D(B));return N};return Up(D(d.targetSnapshot.root)).pipe(pl(),Us(1))}),lg(()=>this.afterPreactivation()),We(d=>{const D=function tN(e,t,n){const r=La(e,t._root,n?n._root:void 0);return new SE(r,t)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o={...d,targetRouterState:D},o}),zt(()=>{this.events.next(new Jp)}),((e,t,n,r)=>We(i=>(new fN(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Us(1),zt({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),n.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),function d4(e){return dt((t,n)=>{sn(e).subscribe(ht(n,()=>n.complete(),to)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(zt(d=>{throw d}))),Kp(()=>{c||f||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Mi(d=>{if(f=!0,TE(d))this.events.next(new Pa(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),function iN(e){return TE(e)&&Pi(e.url)}(d)?this.events.next(new Xp(d.url)):o.resolve(!1);else{this.events.next(new Sl(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(d))}catch(D){o.reject(D)}}return An}))}))}cancelNavigationTransition(n,r,i){const o=new Pa(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $E(e){return e!==Na}let qE=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Fe);return r}getResolvedTitleForRoute(n){return n.data[Aa]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:function(){return re(tP)},providedIn:"root"})}return e})(),tP=(()=>{class e extends qE{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(ve(KD))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nP=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:function(){return re(iP)},providedIn:"root"})}return e})();class rP{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let iP=(()=>{class e extends rP{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function Mm(e){return vn(()=>{const t=e.prototype.constructor,n=t[Vn]||od(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Vn]||od(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(i||e)}}();static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Tl=new he("",{providedIn:"root",factory:()=>({})});let sP=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:function(){return re(oP)},providedIn:"root"})}return e})(),oP=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Va=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Va||{});function zE(e,t){e.events.pipe(ti(n=>n instanceof ri||n instanceof Pa||n instanceof Sl||n instanceof zs),We(n=>n instanceof ri||n instanceof zs?Va.COMPLETE:n instanceof Pa&&(0===n.code||1===n.code)?Va.REDIRECTING:Va.FAILED),ti(n=>n!==Va.REDIRECTING),Us(1)).subscribe(()=>{t()})}function aP(e){throw e}function uP(e,t,n){return t.parse("/")}const cP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=re(xw),this.isNgZoneEnabled=!1,this._events=new mn,this.options=re(Tl,{optional:!0})||{},this.pendingTasks=re(Iw),this.errorHandler=this.options.errorHandler||aP,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uP,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=re(sP),this.routeReuseStrategy=re(nP),this.titleStrategy=re(qE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=re(Ys,{optional:!0})?.flat()??[],this.navigationTransitions=re(Fl),this.urlSerializer=re(Fa),this.location=re(mp),this.componentInputBindingEnabled=!!re(Cl,{optional:!0}),this.eventsSubscription=new ae,this.isNgZoneEnabled=re(Xe)instanceof Xe&&Xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bE(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(KE(r)&&this._events.next(r));if(r instanceof El)$E(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof zs)this.rawUrlTree=i.rawUrl;else if(r instanceof wE){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Jp)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Pa)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Xp){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$E(i.source)};this.scheduleNavigation(o,Na,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Sl&&this.restoreHistory(i,!0),r instanceof ri&&(this.navigated=!0),KE(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Na,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const d={...i};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(o.state=d)}const f=this.parseUrl(n);this.scheduleNavigation(f,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ag),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:f,preserveFragment:d}=r,D=d?this.currentUrlTree.fragment:c;let N,A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...o};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=o||null}null!==A&&(A=this.removeEmptyProps(A));try{N=dE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),N=this.currentUrlTree.root}return hE(N,n,A,D??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Pi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Na,null,r)}navigate(n,r={skipLocationChange:!1}){return function fP(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new oe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...cP}:!1===r?{...lP}:r,Pi(n))return rE(this.currentUrlTree,n,i);const o=this.parseUrl(n);return rE(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let f,d,D;c?(f=c.resolve,d=c.reject,D=c.promise):D=new Promise((N,B)=>{f=N,d=B});const A=this.pendingTasks.add();return zE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:f,reject:d,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(N=>Promise.reject(N))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KE(e){return!(e instanceof Jp||e instanceof Xp)}class GE{}let pP=(()=>{class e{constructor(n,r,i,o,c){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ti(n=>n instanceof ri),Ia(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Ph(o.providers,n,`Route: ${o.path}`));const c=o._injector??n,f=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return bt(i).pipe(Br())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ee(null);const o=i.pipe(St(c=>null===c?Ee(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));return r.loadComponent&&!r._loadedComponent?bt([o,this.loader.loadComponent(r)]).pipe(Br()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(ve(jn),ve(Aw),ve(Mn),ve(GE),ve(fg))};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const hg=new he("");let WE=(()=>{class e{constructor(n,r,i,o,c={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof El?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ri?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof zs&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof DE&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new DE(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function w0(){throw new Error("invalid")}()};static#t=this.\u0275prov=ye({token:e,factory:e.\u0275fac})}return e})();function Lr(e,t){return{\u0275kind:e,\u0275providers:t}}function YE(){const e=re(Nn);return t=>{const n=e.get(Bs);if(t!==n.components[0])return;const r=e.get(jn),i=e.get(QE);1===e.get(pg)&&r.initialNavigation(),e.get(JE,null,Te.Optional)?.setUpPreloading(),e.get(hg,null,Te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const QE=new he("",{factory:()=>new mn}),pg=new he("",{providedIn:"root",factory:()=>1}),JE=new he("");function yP(e){return Lr(0,[{provide:JE,useExisting:pP},{provide:GE,useExisting:e}])}const XE=new he("ROUTER_FORROOT_GUARD"),DP=[mp,{provide:Fa,useClass:Gp},jn,Oa,{provide:Oi,useFactory:function ZE(e){return e.routerState.root},deps:[jn]},fg,[]];function EP(){return new Pw("Router",jn)}let eS=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[DP,[],{provide:Ys,multi:!0,useValue:n},{provide:XE,useFactory:xP,deps:[[jn,new qu,new zu]]},{provide:Tl,useValue:r||{}},r?.useHash?{provide:Ti,useClass:IT}:{provide:Ti,useClass:lD},{provide:hg,useFactory:()=>{const e=re(KR),t=re(Xe),n=re(Tl),r=re(Fl),i=re(Fa);return n.scrollOffset&&e.setOffset(n.scrollOffset),new WE(i,r,e,t,n)}},r?.preloadingStrategy?yP(r.preloadingStrategy).\u0275providers:[],{provide:Pw,multi:!0,useFactory:EP},r?.initialNavigation?IP(r):[],r?.bindToComponentInputs?Lr(8,[AE,{provide:Cl,useExisting:AE}]).\u0275providers:[],[{provide:tS,useFactory:YE},{provide:ip,multi:!0,useExisting:tS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ys,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(ve(XE,8))};static#t=this.\u0275mod=ir({type:e});static#n=this.\u0275inj=nr({})}return e})();function xP(e){return"guarded"}function IP(e){return["disabled"===e.initialNavigation?Lr(3,[{provide:Yh,multi:!0,useFactory:()=>{const t=re(jn);return()=>{t.setUpLocationChangeListener()}}},{provide:pg,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Lr(2,[{provide:pg,useValue:0},{provide:Yh,multi:!0,deps:[Nn],useFactory:t=>{const n=t.get(CT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(jn),o=t.get(QE);zE(i,()=>{r(!0)}),t.get(Fl).afterPreactivation=()=>(r(!0),o.closed?Ee(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const tS=new he("");let _P=(()=>{class e{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=wn({type:e,selectors:[["app-page-not-found"]],decls:6,vars:0,consts:[[1,"center-message"]],template:function(r,i){1&r&&(ut(0,"div",0)(1,"div")(2,"h1"),Ot(3,"Error 404: Page Not Found"),ct(),ut(4,"p"),Ot(5,"Sorry, the page you are looking for does not exist."),ct()()())},styles:[".center-message[_ngcontent-%COMP%]{height:100vh;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center}"]})}return e})();var FP=se(551);class Ua extends Error{}Ua.prototype.name="InvalidTokenError";const gg=e=>{let t;if(e)try{t=function MP(e,t){if("string"!=typeof e)throw new Ua("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!=typeof r)throw new Ua(`Invalid token specified: missing part #${n+1}`);let i;try{i=function RP(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function TP(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch{return atob(t)}}(r)}catch(o){throw new Ua(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Ua(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}(e)}catch{}return t};class Rl{static getFormattedTimeDifference(t,n){const r=Math.abs(n.getTime()-t.getTime()),i=Math.floor(r/6e4),o=Math.floor(r%6e4/1e3);return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}}function nS(e,t,n,r,i,o,c){try{var f=e[o](c),d=f.value}catch(D){return void n(D)}f.done?t(d):Promise.resolve(d).then(r,i)}const VP=new he("CodeInputComponentConfig"),rS={codeLength:4,inputType:"tel",inputMode:"numeric",initialFocusField:void 0,isCharsCode:!1,isCodeHidden:!1,isPrevFocusableAfterClearing:!0,isFocusingOnLastByClickIfFilled:!1,code:void 0,disabled:!1,autocapitalize:void 0},UP=["input"];function $P(e,t){if(1&e){const n=Pc();ut(0,"span")(1,"input",1,2),lr("click",function(i){return wi(n),Di(Cn().onClick(i))})("paste",function(i){const c=wi(n).index;return Di(Cn().onPaste(i,c))})("input",function(i){const c=wi(n).index;return Di(Cn().onInput(i,c))})("keydown",function(i){const c=wi(n).index;return Di(Cn().onKeydown(i,c))}),ct()()}if(2&e){const n=Cn();kc("code-hidden",n.isCodeHidden),dn(1),bn("type",n.inputType)("disabled",n.disabled),_c("inputmode",n.inputMode)("autocapitalize",n.autocapitalize)}}var Qs=function(e){return e[e.ready=0]="ready",e[e.reset=1]="reset",e}(Qs||{});let qP=(()=>{class e{constructor(n){if(this.isNonDigitsCode=!1,this.codeChanged=new xt,this.codeCompleted=new xt,this.placeholders=[],this.inputs=[],this.inputsStates=[],this.state={isFocusingAfterAppearingCompleted:!1,isInitialFocusFieldEnabled:!1},Object.assign(this,rS),n)for(const r in n)n.hasOwnProperty(r)&&rS.hasOwnProperty(r)&&(this[r]=n[r])}ngOnInit(){this.state.isInitialFocusFieldEnabled=!this.isEmpty(this.initialFocusField),this.onCodeLengthChanges()}ngAfterViewInit(){this.inputsListSubscription=this.inputsList.changes.subscribe(this.onInputsListChanges.bind(this)),this.onInputsListChanges(this.inputsList)}ngAfterViewChecked(){this.focusOnInputAfterAppearing()}ngOnChanges(n){n.code&&this.onInputCodeChanges(),n.codeLength&&this.onCodeLengthChanges()}ngOnDestroy(){this.inputsListSubscription&&this.inputsListSubscription.unsubscribe()}reset(n=!1){this.onInputCodeChanges(),this.state.isInitialFocusFieldEnabled&&this.focusOnField(this.initialFocusField),n&&this.emitChanges()}focusOnField(n){if(n>=this._codeLength)throw new Error("The index of the focusing input box should be less than the codeLength.");this.inputs[n].focus()}onClick(n){if(!this.isFocusingOnLastByClickIfFilled)return;const i=this.inputs[this._codeLength-1];n.target===i||!(this.getCurrentFilledCode().length>=this._codeLength)||setTimeout(()=>i.focus())}onInput(n,r){const i=n.target,o=n.data||i.value;if(this.isEmpty(o))return;if(!this.canInputValue(o))return n.preventDefault(),n.stopPropagation(),this.setInputValue(i,null),void this.setStateForInput(i,Qs.reset);const c=o.toString().trim().split("");for(let d=0;d<c.length;d++){const D=d+r;if(D>this._codeLength-1)break;this.setInputValue(this.inputs[D],c[d])}this.emitChanges();const f=r+c.length;f>this._codeLength-1?i.blur():this.inputs[f].focus()}onPaste(n,r){n.preventDefault(),n.stopPropagation();const i=n.clipboardData?n.clipboardData.getData("text").trim():void 0;if(this.isEmpty(i))return;const o=i.split("");let c=0;for(let f=r;f<this.inputs.length&&c!==o.length;f++){const d=this.inputs[f],D=o[c];if(!this.canInputValue(D))return this.setInputValue(d,null),void this.setStateForInput(d,Qs.reset);this.setInputValue(d,D.toString()),c++}this.inputs[r].blur(),this.emitChanges()}onKeydown(n,r){var i=this;return function HP(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function c(d){nS(o,r,i,c,f,"next",d)}function f(d){nS(o,r,i,c,f,"throw",d)}c(void 0)})}}(function*(){const o=n.target,c=i.isEmpty(o.value),f=r-1,d=yield i.isBackspaceKey(n),D=i.isDeleteKey(n);!d&&!D||(n.preventDefault(),i.setInputValue(o,null),c||i.emitChanges(),!(f<0||D)&&(c||i.isPrevFocusableAfterClearing)&&i.inputs[f].focus())})()}onInputCodeChanges(){if(!this.inputs.length)return;if(this.isEmpty(this.code))return void this.inputs.forEach(i=>{this.setInputValue(i,null)});const n=this.code.toString().trim().split("");let r=!0;for(const i of n)if(!this.canInputValue(i)){r=!1;break}this.inputs.forEach((i,o)=>{this.setInputValue(i,r?n[o]:null)})}onCodeLengthChanges(){if(this.codeLength)if(this._codeLength=this.codeLength,this._codeLength>this.placeholders.length){const n=Array(this._codeLength-this.placeholders.length).fill(1);this.placeholders.splice(this.placeholders.length-1,0,...n)}else this._codeLength<this.placeholders.length&&this.placeholders.splice(this._codeLength)}onInputsListChanges(n){if(n.length>this.inputs.length){const r=n.filter((o,c)=>c>this.inputs.length-1);this.inputs.splice(this.inputs.length,0,...r.map(o=>o.nativeElement));const i=Array(r.length).fill(Qs.ready);this.inputsStates.splice(this.inputsStates.length,0,...i)}else n.length<this.inputs.length&&(this.inputs.splice(n.length),this.inputsStates.splice(n.length));this.onInputCodeChanges()}focusOnInputAfterAppearing(){this.state.isInitialFocusFieldEnabled&&(this.state.isFocusingAfterAppearingCompleted||(this.focusOnField(this.initialFocusField),this.state.isFocusingAfterAppearingCompleted=document.activeElement===this.inputs[this.initialFocusField]))}emitChanges(){setTimeout(()=>this.emitCode(),50)}emitCode(){const n=this.getCurrentFilledCode();this.codeChanged.emit(n),n.length>=this._codeLength&&this.codeCompleted.emit(n)}getCurrentFilledCode(){let n="";for(const r of this.inputs)this.isEmpty(r.value)||(n+=r.value);return n}isBackspaceKey(n){return n.key&&"backspace"===n.key.toLowerCase()||n.keyCode&&8===n.keyCode?Promise.resolve(!0):n.keyCode&&229===n.keyCode?new Promise(i=>{setTimeout(()=>{const o=n.target,c=this.getStateForInput(o)===Qs.reset;c&&this.setStateForInput(o,Qs.ready),i(0===o.selectionStart&&!c)})}):Promise.resolve(!1)}isDeleteKey(n){return n.key&&"delete"===n.key.toLowerCase()||n.keyCode&&46===n.keyCode}setInputValue(n,r){const o="has-value",c="empty";this.isEmpty(r)?(n.value="",n.classList.remove(o),n.parentElement.classList.add(c)):(n.value=r,n.classList.add(o),n.parentElement.classList.remove(c))}canInputValue(n){return!this.isEmpty(n)&&(/^[0-9]+$/.test(n.toString())||this.isCharsCode||this.isNonDigitsCode)}setStateForInput(n,r){const i=this.inputs.indexOf(n);i<0||(this.inputsStates[i]=r)}getStateForInput(n){const r=this.inputs.indexOf(n);return this.inputsStates[r]}isEmpty(n){return null==n||!n.toString().length}static#e=this.\u0275fac=function(r){return new(r||e)(we(VP,8))};static#t=this.\u0275cmp=wn({type:e,selectors:[["code-input"]],viewQuery:function(r,i){if(1&r&&iw(UP,5),2&r){let o;$h(o=function qh(){return function q_(e,t){return e[M].queries[t].queryList}(ee(),hm())}())&&(i.inputsList=o)}},inputs:{codeLength:"codeLength",inputType:"inputType",inputMode:"inputMode",initialFocusField:"initialFocusField",isNonDigitsCode:"isNonDigitsCode",isCharsCode:"isCharsCode",isCodeHidden:"isCodeHidden",isPrevFocusableAfterClearing:"isPrevFocusableAfterClearing",isFocusingOnLastByClickIfFilled:"isFocusingOnLastByClickIfFilled",code:"code",disabled:"disabled",autocapitalize:"autocapitalize"},outputs:{codeChanged:"codeChanged",codeCompleted:"codeCompleted"},features:[zr],decls:1,vars:1,consts:[[3,"code-hidden",4,"ngFor","ngForOf"],["autocomplete","one-time-code",1,"otp-input",3,"type","disabled","click","paste","input","keydown"],["input",""]],template:function(r,i){1&r&&Qr(0,$P,3,6,"span",0),2&r&&bn("ngForOf",i.placeholders)},dependencies:[SD],styles:[".otp-input[_ngcontent-%COMP%]{border:transparent;border-bottom:1px solid #000;font-size:30px;margin:5px;max-width:20px;padding:10px}.otp-input[_ngcontent-%COMP%]:focus{outline:none;background:rgba(227,227,227,.53)}"]})}return e})();function zP(e,t){if(1&e&&(ut(0,"div",8)(1,"p"),Ot(2," A verification code has been sent to"),ca(3,"br"),Ot(4),ct()()),2&e){const n=Cn();dn(4),Ps("",n.email," ")}}function KP(e,t){if(1&e&&(ut(0,"div",9)(1,"p"),Ot(2),ct()()),2&e){const n=Cn();dn(2),Bc(n.error)}}function GP(e,t){if(1&e&&(Mc(0),Ot(1," in : "),ut(2,"b"),Ot(3),ct(),Nc()),2&e){const n=Cn();dn(3),Bc(n.nextTryIn)}}let WP=(()=>{class e{constructor(){this.loadingCode=!1,this.error="",this.email="",this.triesLeft=-1,this.onOperationFinished=new xt,this.nextTryIn="00:00"}ngOnInit(){this.nextTryIn=Rl.getFormattedTimeDifference(new Date,this.nextTry);const n=setInterval(()=>{this.nextTry<new Date&&(this.nextTryIn="00:00",clearInterval(n)),this.nextTryIn=Rl.getFormattedTimeDifference(new Date,this.nextTry)},1e3)}canResendCode(){return!((new Date).getTime()<=this.nextTry.getTime())}handleSubmit(n){this.loadingCode=!0,this.onOperationFinished.emit({otp:n})}handleInputChange(n){6===(n=n.replace(/[^0-9]/g,"")).length&&this.handleSubmit(n)}resendNewCode(){this.canResendCode()&&this.triesLeft>0&&this.onOperationFinished.emit({"resend-code":1})}cancelRequest(){this.onOperationFinished.emit({"cancel-request":1})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=wn({type:e,selectors:[["app-code-entry-form"]],inputs:{error:"error",email:"email",triesLeft:"triesLeft",params:"params",nextTry:"nextTry"},outputs:{onOperationFinished:"onOperationFinished"},decls:16,vars:8,consts:[["style","margin-bottom: 20px",4,"ngIf"],["class","error-holder",4,"ngIf"],[1,"otp-code"],[1,"otp-code-content"],["autofocus","",3,"codeLength","disabled","codeCompleted"],[1,"resend-section"],[3,"click"],[4,"ngIf"],[2,"margin-bottom","20px"],[1,"error-holder"]],template:function(r,i){1&r&&(Qr(0,zP,5,1,"div",0),Qr(1,KP,3,1,"div",1),ut(2,"div",2)(3,"div",3)(4,"code-input",4),lr("codeCompleted",function(c){return i.handleInputChange(c)}),ct()()(),ut(5,"p",5),Ot(6," Didn't receive a verification Code? "),ut(7,"a",6),lr("click",function(){return i.resendNewCode()}),Ot(8,"Resend"),ct(),Qr(9,GP,4,1,"ng-container",7),ct(),ut(10,"p")(11,"small"),Ot(12),ct()(),ut(13,"p")(14,"a",6),lr("click",function(){return i.cancelRequest()}),Ot(15,"Cancel"),ct()()),2&r&&(bn("ngIf",i.email.length>0),dn(1),bn("ngIf",i.error.length>0),dn(3),bn("codeLength",6)("disabled",i.loadingCode),dn(3),kc("disabled",!i.canResendCode()||i.triesLeft<=0),dn(2),bn("ngIf",!i.canResendCode()&&i.triesLeft>0),dn(3),Ps("tries left : ",i.triesLeft,""))},dependencies:[Ap,qP],styles:[".disabled[_ngcontent-%COMP%]{cursor:default!important;text-underline:none;text-decoration:none!important;color:#000!important}a[_ngcontent-%COMP%]{cursor:pointer;color:#0075a3}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.otp-code-content[_ngcontent-%COMP%]{padding:15px 24px}.otp-code[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5%;font-weight:700;font-size:12px;margin-bottom:5%}"]})}return e})(),ZP=(()=>{class e{constructor(){this.nextTryIn="00:00",this.onBackPressed=new xt}ngOnInit(){const n=this.firstRequest+60*this.timeout*1e3;this.nextTryIn=Rl.getFormattedTimeDifference(new Date,new Date(n));const r=setInterval(()=>{n<=(new Date).getTime()&&(this.nextTryIn="00:00",clearInterval(r)),this.nextTryIn=Rl.getFormattedTimeDifference(new Date,new Date(n))},1e3)}backToApplication(){this.onBackPressed.emit({"back-to-app":1})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=wn({type:e,selectors:[["app-no-tries-left"]],inputs:{timeout:"timeout",firstRequest:"firstRequest"},outputs:{onBackPressed:"onBackPressed"},decls:7,vars:1,consts:[[1,"error-holder"],[1,"btn",3,"click"]],template:function(r,i){1&r&&(ut(0,"div",0)(1,"p"),Ot(2,"You have No tries left"),ct()(),ut(3,"p"),Ot(4),ct(),ut(5,"button",1),lr("click",function(){return i.backToApplication()}),Ot(6," Back to the application\n"),ct()),2&r&&(dn(4),Ps(" You can try again in: ",i.nextTryIn,"\n"))},styles:[".btn[_ngcontent-%COMP%]{background-color:#0fb542;color:#fff;width:100%;height:40px;border:none;font-size:16px;outline:none;cursor:pointer}"]})}return e})();function YP(e,t){1&e&&(ut(0,"p"),Ot(1,"You have been redirected here because your email is unverified"),ct())}function QP(e,t){if(1&e){const n=Pc();ut(0,"app-code-entry-form",5),lr("onOperationFinished",function(i){return wi(n),Di(Cn().submitForm(i))}),ct()}if(2&e){const n=Cn();bn("error",n.error)("email",n.email)("triesLeft",n.triesLeft)("params",n.params)("nextTry",n.nextTry)}}function JP(e,t){if(1&e){const n=Pc();ut(0,"app-no-tries-left",6),lr("onBackPressed",function(i){return wi(n),Di(Cn().submitForm(i))}),ct()}if(2&e){const n=Cn();bn("timeout",n.timeout)("firstRequest",n.firstRequest)}}const XP=[{path:"",pathMatch:"full",component:_P},{path:"redirectUser-OTP",component:(()=>{class e{constructor(n){this.route=n,this.error="",this.email="",this.triesLeft=-1}ngOnInit(){this.route.queryParams.subscribe(n=>{this.params=n;let r=function BP(e){const t=Array.from(Object.keys(e)).filter(o=>"state"!==o),i=gg(e[t.length>0?t[0]:""]||"");return i?{email:i.email,timeout:i.request_new_otp_at,triesLeft:i.triesRemaning,error:i.error||"",firstRequest:i.firstRequest||-1,globalTimeout:i.timeout||-1,showOtpMessage:i.showOtpMessage||!1}:{email:"",timeout:"",triesLeft:0,error:"",firstRequest:-1,globalTimeout:-1,showOtpMessage:!1}}(n);this.nextTry=new Date(r.timeout),this.triesLeft=r.triesLeft,this.email=r.email,this.error=r.error,this.timeout=r.globalTimeout,this.firstRequest=r.firstRequest,this.showOtpMessage=r.showOtpMessage})}showCodeEntryForm(){return-1===this.timeout&&-1===this.firstRequest}submitForm(n){const r=function NP(e,t){const n=Array.from(Object.keys(t)).filter(D=>"state"!==D),f=((e,t)=>{const n={sub:t?t.sub:"TOKEN IS NULL",iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600,state:e};return JSON.stringify(n,null,2)})(t.state||"",gg(t[n.length>0?n[0]:""]||"")),d=(e=>{let t;try{t=JSON.parse(e)}catch{}return t})(f);return d&&Object.entries(e).map(([D,A])=>{d[D]=A}),d}(n,this.params);window.location.href=function PP(e,t){const i=Array.from(Object.keys(e)).filter(N=>"state"!==N),f=gg(e[i.length>0?i[0]:""]||""),d=e.state||"",D=((e,t)=>{let n="";if(e&&t)try{const r=JSON.stringify({alg:"HS256",typ:"JWT"}),i=JSON.stringify(e);n=FP.fs.jws.JWS.sign("HS256",r,i,t)}catch{}return n})(t,"my_secret_password");return((e,t,n,r)=>{let o=`https://${t&&t.iss?t.iss:"INVALID_ISS_IN_TOKEN"}/continue?state=${e}`;return n&&r&&(o=`${o}${r?`&${n}=${r}`:""}`),o})(d,f,"session_token",D)}(this.params,r)}static#e=this.\u0275fac=function(r){return new(r||e)(we(Oi))};static#t=this.\u0275cmp=wn({type:e,selectors:[["app-otp-page"]],decls:7,vars:3,consts:[[1,"otp-parent"],[1,"holder"],[4,"ngIf"],[3,"error","email","triesLeft","params","nextTry","onOperationFinished",4,"ngIf"],[3,"timeout","firstRequest","onBackPressed",4,"ngIf"],[3,"error","email","triesLeft","params","nextTry","onOperationFinished"],[3,"timeout","firstRequest","onBackPressed"]],template:function(r,i){1&r&&(ut(0,"div",0)(1,"h2"),Ot(2,"Verify your account"),ct(),ut(3,"div",1),Qr(4,YP,2,0,"p",2),Qr(5,QP,1,5,"app-code-entry-form",3),Qr(6,JP,1,2,"app-no-tries-left",4),ct()()),2&r&&(dn(4),bn("ngIf",i.showOtpMessage),dn(1),bn("ngIf",i.showCodeEntryForm()),dn(1),bn("ngIf",!i.showCodeEntryForm()))},dependencies:[Ap,WP,ZP],styles:[".otp-parent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100vh}.otp-parent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#009b4c;font-size:32px;font-weight:400}.otp-parent[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%]{border:1px solid #E7E6E6;padding:20px 40px;text-align:center;min-width:300px}"]})}return e})()},{path:"**",redirectTo:"/"}];let e5=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ir({type:e});static#n=this.\u0275inj=nr({imports:[eS.forRoot(XP),eS]})}return e})(),t5=(()=>{class e{constructor(){this.title="otp-application-angular"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=wn({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&ca(0,"router-outlet")},dependencies:[sg]})}return e})(),n5=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=ir({type:e,bootstrap:[t5]});static#n=this.\u0275inj=nr({imports:[HM,e5]})}return e})();jM().bootstrapModule(n5).catch(e=>console.error(e))},551:($a,qa)=>{var s,u,l,h,g,m,v,E,b,_,w,a,ke={userAgent:!1},Yn={},ae=ae||(s=Math,l=(u={}).lib={},h=l.Base=function(){function y(){}return{extend:function(I){y.prototype=this;var S=new y;return I&&S.mixIn(I),S.hasOwnProperty("init")||(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var I=this.extend();return I.init.apply(I,arguments),I},init:function(){},mixIn:function(I){for(var S in I)I.hasOwnProperty(S)&&(this[S]=I[S]);I.hasOwnProperty("toString")&&(this.toString=I.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=l.WordArray=h.extend({init:function(y,I){y=this.words=y||[],this.sigBytes=null!=I?I:4*y.length},toString:function(y){return(y||v).stringify(this)},concat:function(y){var I=this.words,S=y.words,F=this.sigBytes,C=y.sigBytes;if(this.clamp(),F%4)for(var M=0;M<C;M++)I[F+M>>>2]|=(S[M>>>2]>>>24-M%4*8&255)<<24-(F+M)%4*8;else for(M=0;M<C;M+=4)I[F+M>>>2]=S[M>>>2];return this.sigBytes+=C,this},clamp:function(){var y=this.words,I=this.sigBytes;y[I>>>2]&=4294967295<<32-I%4*8,y.length=s.ceil(I/4)},clone:function(){var y=h.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var I=[],S=0;S<y;S+=4)I.push(4294967296*s.random()|0);return new g.init(I,y)}}),m=u.enc={},v=m.Hex={stringify:function(y){for(var I=y.words,S=y.sigBytes,F=[],C=0;C<S;C++){var M=I[C>>>2]>>>24-C%4*8&255;F.push((M>>>4).toString(16)),F.push((15&M).toString(16))}return F.join("")},parse:function(y){for(var I=y.length,S=[],F=0;F<I;F+=2)S[F>>>3]|=parseInt(y.substr(F,2),16)<<24-F%8*4;return new g.init(S,I/2)}},E=m.Latin1={stringify:function(y){for(var I=y.words,S=y.sigBytes,F=[],C=0;C<S;C++)F.push(String.fromCharCode(I[C>>>2]>>>24-C%4*8&255));return F.join("")},parse:function(y){for(var I=y.length,S=[],F=0;F<I;F++)S[F>>>2]|=(255&y.charCodeAt(F))<<24-F%4*8;return new g.init(S,I)}},b=m.Utf8={stringify:function(y){try{return decodeURIComponent(escape(E.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return E.parse(unescape(encodeURIComponent(y)))}},_=l.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(y){"string"==typeof y&&(y=b.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var I=this._data,S=I.words,F=I.sigBytes,C=this.blockSize,P=F/(4*C),k=(P=y?s.ceil(P):s.max((0|P)-this._minBufferSize,0))*C,O=s.min(4*k,F);if(k){for(var G=0;G<k;G+=C)this._doProcessBlock(S,G);var Y=S.splice(0,k);I.sigBytes-=O}return new g.init(Y,O)},clone:function(){var y=h.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0}),l.Hasher=_.extend({cfg:h.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){return y&&this._append(y),this._doFinalize()},blockSize:16,_createHelper:function(y){return function(I,S){return new y.init(S).finalize(I)}},_createHmacHelper:function(y){return function(I,S){return new w.HMAC.init(y,S).finalize(I)}}}),w=u.algo={},u);(function(s){var h,a=(h=ae).lib,u=a.Base,l=a.WordArray;(h=h.x64={}).Word=u.extend({init:function(g,m){this.high=g,this.low=m}}),h.WordArray=u.extend({init:function(g,m){g=this.words=g||[],this.sigBytes=null!=m?m:8*g.length},toX32:function(){for(var g=this.words,m=g.length,v=[],E=0;E<m;E++){var b=g[E];v.push(b.high),v.push(b.low)}return l.create(v,this.sigBytes)},clone:function(){for(var g=u.clone.call(this),m=g.words=this.words.slice(0),v=m.length,E=0;E<v;E++)m[E]=m[E].clone();return g}})})(),ae.lib.Cipher||function(s){var a=(y=ae).lib,u=a.Base,l=a.WordArray,h=a.BufferedBlockAlgorithm,g=y.enc.Base64,m=y.algo.EvpKDF,v=a.Cipher=h.extend({cfg:u.extend(),createEncryptor:function(S,F){return this.create(this._ENC_XFORM_MODE,S,F)},createDecryptor:function(S,F){return this.create(this._DEC_XFORM_MODE,S,F)},init:function(S,F,C){this.cfg=this.cfg.extend(C),this._xformMode=S,this._key=F,this.reset()},reset:function(){h.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){return S&&this._append(S),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(S){return{encrypt:function(F,C,M){return("string"==typeof C?I:w).encrypt(S,F,C,M)},decrypt:function(F,C,M){return("string"==typeof C?I:w).decrypt(S,F,C,M)}}}});a.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var x=y.mode={},E=function(S,F,C){var M=this._iv;M?this._iv=void 0:M=this._prevBlock;for(var P=0;P<C;P++)S[F+P]^=M[P]},b=(a.BlockCipherMode=u.extend({createEncryptor:function(S,F){return this.Encryptor.create(S,F)},createDecryptor:function(S,F){return this.Decryptor.create(S,F)},init:function(S,F){this._cipher=S,this._iv=F}})).extend();b.Encryptor=b.extend({processBlock:function(S,F){var C=this._cipher,M=C.blockSize;E.call(this,S,F,M),C.encryptBlock(S,F),this._prevBlock=S.slice(F,F+M)}}),b.Decryptor=b.extend({processBlock:function(S,F){var C=this._cipher,M=C.blockSize,P=S.slice(F,F+M);C.decryptBlock(S,F),E.call(this,S,F,M),this._prevBlock=P}}),x=x.CBC=b,b=(y.pad={}).Pkcs7={pad:function(S,F){for(var C,M=(C=(C=4*F)-S.sigBytes%C)<<24|C<<16|C<<8|C,P=[],k=0;k<C;k+=4)P.push(M);C=l.create(P,C),S.concat(C)},unpad:function(S){S.sigBytes-=255&S.words[S.sigBytes-1>>>2]}},a.BlockCipher=v.extend({cfg:v.cfg.extend({mode:x,padding:b}),reset:function(){v.reset.call(this);var S=(F=this.cfg).iv,F=F.mode;if(this._xformMode==this._ENC_XFORM_MODE)var C=F.createEncryptor;else C=F.createDecryptor,this._minBufferSize=1;this._mode=C.call(F,this,S&&S.words)},_doProcessBlock:function(S,F){this._mode.processBlock(S,F)},_doFinalize:function(){var S=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){S.pad(this._data,this.blockSize);var F=this._process(!0)}else F=this._process(!0),S.unpad(F);return F},blockSize:4});var _=a.CipherParams=u.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),w=(x=(y.format={}).OpenSSL={stringify:function(S){var F=S.ciphertext;return((S=S.salt)?l.create([1398893684,1701076831]).concat(S).concat(F):F).toString(g)},parse:function(S){var F=(S=g.parse(S)).words;if(1398893684==F[0]&&1701076831==F[1]){var C=l.create(F.slice(2,4));F.splice(0,4),S.sigBytes-=16}return _.create({ciphertext:S,salt:C})}},a.SerializableCipher=u.extend({cfg:u.extend({format:x}),encrypt:function(S,F,C,M){M=this.cfg.extend(M);var P=S.createEncryptor(C,M);return F=P.finalize(F),_.create({ciphertext:F,key:C,iv:(P=P.cfg).iv,algorithm:S,mode:P.mode,padding:P.padding,blockSize:S.blockSize,formatter:M.format})},decrypt:function(S,F,C,M){return M=this.cfg.extend(M),F=this._parse(F,M.format),S.createDecryptor(C,M).finalize(F.ciphertext)},_parse:function(S,F){return"string"==typeof S?F.parse(S,this):S}})),y=(y.kdf={}).OpenSSL={execute:function(S,F,C,M){return M||(M=l.random(8)),S=m.create({keySize:F+C}).compute(S,M),C=l.create(S.words.slice(F),4*C),S.sigBytes=4*F,_.create({key:S,iv:C,salt:M})}},I=a.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:y}),encrypt:function(S,F,C,M){return C=(M=this.cfg.extend(M)).kdf.execute(C,S.keySize,S.ivSize),M.iv=C.iv,(S=w.encrypt.call(this,S,F,C.key,M)).mixIn(C),S},decrypt:function(S,F,C,M){return M=this.cfg.extend(M),F=this._parse(F,M.format),C=M.kdf.execute(C,S.keySize,S.ivSize,F.salt),M.iv=C.iv,w.decrypt.call(this,S,F,C.key,M)}})}(),function(){for(var s=ae,a=s.lib.BlockCipher,G=s.algo,u=[],l=[],h=[],g=[],m=[],v=[],E=[],b=[],_=[],x=[],w=[],y=0;256>y;y++)w[y]=128>y?y<<1:y<<1^283;var I=0,S=0;for(y=0;256>y;y++){var F;u[I]=F=(F=S^S<<1^S<<2^S<<3^S<<4)>>>8^255&F^99,l[F]=I;var C=w[I],M=w[C],P=w[M],k=257*w[F]^16843008*F;h[I]=k<<24|k>>>8,g[I]=k<<16|k>>>16,m[I]=k<<8|k>>>24,v[I]=k,E[F]=(k=16843009*P^65537*M^257*C^16843008*I)<<24|k>>>8,b[F]=k<<16|k>>>16,_[F]=k<<8|k>>>24,x[F]=k,I?(I=C^w[w[w[P^C]]],S^=w[w[S]]):I=S=1}var O=[0,1,2,4,8,16,32,64,128,27,54];G=G.AES=a.extend({_doReset:function(){for(var Y=(R=this._key).words,T=R.sigBytes/4,R=4*((this._nRounds=T+6)+1),L=this._keySchedule=[],j=0;j<R;j++)if(j<T)L[j]=Y[j];else{var V=L[j-1];j%T?6<T&&j%T==4&&(V=u[V>>>24]<<24|u[V>>>16&255]<<16|u[V>>>8&255]<<8|u[255&V]):(V=u[(V=V<<8|V>>>24)>>>24]<<24|u[V>>>16&255]<<16|u[V>>>8&255]<<8|u[255&V],V^=O[j/T|0]<<24),L[j]=L[j-T]^V}for(Y=this._invKeySchedule=[],T=0;T<R;T++)j=R-T,V=T%4?L[j]:L[j-4],Y[T]=4>T||4>=j?V:E[u[V>>>24]]^b[u[V>>>16&255]]^_[u[V>>>8&255]]^x[u[255&V]]},encryptBlock:function(Y,T){this._doCryptBlock(Y,T,this._keySchedule,h,g,m,v,u)},decryptBlock:function(Y,T){var R=Y[T+1];Y[T+1]=Y[T+3],Y[T+3]=R,this._doCryptBlock(Y,T,this._invKeySchedule,E,b,_,x,l),R=Y[T+1],Y[T+1]=Y[T+3],Y[T+3]=R},_doCryptBlock:function(Y,T,R,L,j,V,z,H){for(var $=this._nRounds,Se=Y[T]^R[0],je=Y[T+1]^R[1],_e=Y[T+2]^R[2],Ae=Y[T+3]^R[3],q=4,W=1;W<$;W++){var de=L[Se>>>24]^j[je>>>16&255]^V[_e>>>8&255]^z[255&Ae]^R[q++],ce=L[je>>>24]^j[_e>>>16&255]^V[Ae>>>8&255]^z[255&Se]^R[q++],ue=L[_e>>>24]^j[Ae>>>16&255]^V[Se>>>8&255]^z[255&je]^R[q++];Ae=L[Ae>>>24]^j[Se>>>16&255]^V[je>>>8&255]^z[255&_e]^R[q++],Se=de,je=ce,_e=ue}de=(H[Se>>>24]<<24|H[je>>>16&255]<<16|H[_e>>>8&255]<<8|H[255&Ae])^R[q++],ce=(H[je>>>24]<<24|H[_e>>>16&255]<<16|H[Ae>>>8&255]<<8|H[255&Se])^R[q++],ue=(H[_e>>>24]<<24|H[Ae>>>16&255]<<16|H[Se>>>8&255]<<8|H[255&je])^R[q++],Ae=(H[Ae>>>24]<<24|H[Se>>>16&255]<<16|H[je>>>8&255]<<8|H[255&_e])^R[q++],Y[T]=de,Y[T+1]=ce,Y[T+2]=ue,Y[T+3]=Ae},keySize:8}),s.AES=a._createHelper(G)}(),function(){function s(w,y){var I=(this._lBlock>>>w^this._rBlock)&y;this._rBlock^=I,this._lBlock^=I<<w}function a(w,y){var I=(this._rBlock>>>w^this._lBlock)&y;this._lBlock^=I,this._rBlock^=I<<w}var h,u=ae,l=(h=u.lib).WordArray,g=u.algo,m=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],E=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=g.DES=(h=h.BlockCipher).extend({_doReset:function(){for(var w=this._key.words,y=[],I=0;56>I;I++){var S=m[I]-1;y[I]=w[S>>>5]>>>31-S%32&1}for(w=this._subKeys=[],S=0;16>S;S++){var F=w[S]=[],C=E[S];for(I=0;24>I;I++)F[I/6|0]|=y[(v[I]-1+C)%28]<<31-I%6,F[4+(I/6|0)]|=y[28+(v[I+24]-1+C)%28]<<31-I%6;for(F[0]=F[0]<<1|F[0]>>>31,I=1;7>I;I++)F[I]>>>=4*(I-1)+3;F[7]=F[7]<<5|F[7]>>>27}for(y=this._invSubKeys=[],I=0;16>I;I++)y[I]=w[15-I]},encryptBlock:function(w,y){this._doCryptBlock(w,y,this._subKeys)},decryptBlock:function(w,y){this._doCryptBlock(w,y,this._invSubKeys)},_doCryptBlock:function(w,y,I){this._lBlock=w[y],this._rBlock=w[y+1],s.call(this,4,252645135),s.call(this,16,65535),a.call(this,2,858993459),a.call(this,8,16711935),s.call(this,1,1431655765);for(var S=0;16>S;S++){for(var F=I[S],C=this._lBlock,M=this._rBlock,P=0,k=0;8>k;k++)P|=b[k][((M^F[k])&_[k])>>>0];this._lBlock=M,this._rBlock=C^P}I=this._lBlock,this._lBlock=this._rBlock,this._rBlock=I,s.call(this,1,1431655765),a.call(this,8,16711935),a.call(this,2,858993459),s.call(this,16,65535),s.call(this,4,252645135),w[y]=this._lBlock,w[y+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});u.DES=h._createHelper(x),g=g.TripleDES=h.extend({_doReset:function(){var w=this._key.words;this._des1=x.createEncryptor(l.create(w.slice(0,2))),this._des2=x.createEncryptor(l.create(w.slice(2,4))),this._des3=x.createEncryptor(l.create(w.slice(4,6)))},encryptBlock:function(w,y){this._des1.encryptBlock(w,y),this._des2.decryptBlock(w,y),this._des3.encryptBlock(w,y)},decryptBlock:function(w,y){this._des3.decryptBlock(w,y),this._des2.encryptBlock(w,y),this._des1.decryptBlock(w,y)},keySize:6,ivSize:2,blockSize:2}),u.TripleDES=h._createHelper(g)}(),a=ae.lib.WordArray,ae.enc.Base64={stringify:function(u){var l=u.words,h=u.sigBytes,g=this._map;u.clamp(),u=[];for(var m=0;m<h;m+=3)for(var v=(l[m>>>2]>>>24-m%4*8&255)<<16|(l[m+1>>>2]>>>24-(m+1)%4*8&255)<<8|l[m+2>>>2]>>>24-(m+2)%4*8&255,E=0;4>E&&m+.75*E<h;E++)u.push(g.charAt(v>>>6*(3-E)&63));if(l=g.charAt(64))for(;u.length%4;)u.push(l);return u.join("")},parse:function(u){var l=u.length,h=this._map;(g=h.charAt(64))&&-1!=(g=u.indexOf(g))&&(l=g);for(var g=[],m=0,v=0;v<l;v++)if(v%4){var E=h.indexOf(u.charAt(v-1))<<v%4*2,b=h.indexOf(u.charAt(v))>>>6-v%4*2;g[m>>>2]|=(E|b)<<24-m%4*8,m++}return a.create(g,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(s){function a(x,w,y,I,S,F,C){return((x=x+(w&y|~w&I)+S+C)<<F|x>>>32-F)+w}function u(x,w,y,I,S,F,C){return((x=x+(w&I|y&~I)+S+C)<<F|x>>>32-F)+w}function l(x,w,y,I,S,F,C){return((x=x+(w^y^I)+S+C)<<F|x>>>32-F)+w}function h(x,w,y,I,S,F,C){return((x=x+(y^(w|~I))+S+C)<<F|x>>>32-F)+w}for(var g=ae,m=(E=g.lib).WordArray,v=E.Hasher,E=g.algo,b=[],_=0;64>_;_++)b[_]=4294967296*s.abs(s.sin(_+1))|0;E=E.MD5=v.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,w){for(var y=0;16>y;y++)x[I=w+y]=16711935&((S=x[I])<<8|S>>>24)|4278255360&(S<<24|S>>>8);var I,S=x[w+1],F=x[w+2],C=x[w+3],M=x[w+4],P=x[w+5],k=x[w+6],O=x[w+7],G=x[w+8],Y=x[w+9],T=x[w+10],R=x[w+11],L=x[w+12],j=x[w+13],V=x[w+14],z=x[w+15],H=a(H=(y=this._hash.words)[0],W=y[1],q=y[2],$=y[3],I=x[w+0],7,b[0]),$=a($,H,W,q,S,12,b[1]),q=a(q,$,H,W,F,17,b[2]),W=a(W,q,$,H,C,22,b[3]);H=a(H,W,q,$,M,7,b[4]),$=a($,H,W,q,P,12,b[5]),q=a(q,$,H,W,k,17,b[6]),W=a(W,q,$,H,O,22,b[7]),H=a(H,W,q,$,G,7,b[8]),$=a($,H,W,q,Y,12,b[9]),q=a(q,$,H,W,T,17,b[10]),W=a(W,q,$,H,R,22,b[11]),H=a(H,W,q,$,L,7,b[12]),$=a($,H,W,q,j,12,b[13]),q=a(q,$,H,W,V,17,b[14]),H=u(H,W=a(W,q,$,H,z,22,b[15]),q,$,S,5,b[16]),$=u($,H,W,q,k,9,b[17]),q=u(q,$,H,W,R,14,b[18]),W=u(W,q,$,H,I,20,b[19]),H=u(H,W,q,$,P,5,b[20]),$=u($,H,W,q,T,9,b[21]),q=u(q,$,H,W,z,14,b[22]),W=u(W,q,$,H,M,20,b[23]),H=u(H,W,q,$,Y,5,b[24]),$=u($,H,W,q,V,9,b[25]),q=u(q,$,H,W,C,14,b[26]),W=u(W,q,$,H,G,20,b[27]),H=u(H,W,q,$,j,5,b[28]),$=u($,H,W,q,F,9,b[29]),q=u(q,$,H,W,O,14,b[30]),H=l(H,W=u(W,q,$,H,L,20,b[31]),q,$,P,4,b[32]),$=l($,H,W,q,G,11,b[33]),q=l(q,$,H,W,R,16,b[34]),W=l(W,q,$,H,V,23,b[35]),H=l(H,W,q,$,S,4,b[36]),$=l($,H,W,q,M,11,b[37]),q=l(q,$,H,W,O,16,b[38]),W=l(W,q,$,H,T,23,b[39]),H=l(H,W,q,$,j,4,b[40]),$=l($,H,W,q,I,11,b[41]),q=l(q,$,H,W,C,16,b[42]),W=l(W,q,$,H,k,23,b[43]),H=l(H,W,q,$,Y,4,b[44]),$=l($,H,W,q,L,11,b[45]),q=l(q,$,H,W,z,16,b[46]),H=h(H,W=l(W,q,$,H,F,23,b[47]),q,$,I,6,b[48]),$=h($,H,W,q,O,10,b[49]),q=h(q,$,H,W,V,15,b[50]),W=h(W,q,$,H,P,21,b[51]),H=h(H,W,q,$,L,6,b[52]),$=h($,H,W,q,C,10,b[53]),q=h(q,$,H,W,T,15,b[54]),W=h(W,q,$,H,S,21,b[55]),H=h(H,W,q,$,G,6,b[56]),$=h($,H,W,q,z,10,b[57]),q=h(q,$,H,W,k,15,b[58]),W=h(W,q,$,H,j,21,b[59]),H=h(H,W,q,$,M,6,b[60]),$=h($,H,W,q,R,10,b[61]),q=h(q,$,H,W,F,15,b[62]),W=h(W,q,$,H,Y,21,b[63]),y[0]=y[0]+H|0,y[1]=y[1]+W|0,y[2]=y[2]+q|0,y[3]=y[3]+$|0},_doFinalize:function(){var x=this._data,w=x.words,y=8*this._nDataBytes,I=8*x.sigBytes;w[I>>>5]|=128<<24-I%32;var S=s.floor(y/4294967296);for(w[15+(I+64>>>9<<4)]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8),w[14+(I+64>>>9<<4)]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8),x.sigBytes=4*(w.length+1),this._process(),w=(x=this._hash).words,y=0;4>y;y++)w[y]=16711935&((I=w[y])<<8|I>>>24)|4278255360&(I<<24|I>>>8);return x},clone:function(){var x=v.clone.call(this);return x._hash=this._hash.clone(),x}}),g.MD5=v._createHelper(E),g.HmacMD5=v._createHmacHelper(E)}(Math),function(){var s=ae,a=(h=s.lib).WordArray,u=h.Hasher,l=[],h=s.algo.SHA1=u.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(g,m){for(var v=this._hash.words,E=v[0],b=v[1],_=v[2],x=v[3],w=v[4],y=0;80>y;y++){if(16>y)l[y]=0|g[m+y];else{var I=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=I<<1|I>>>31}I=(E<<5|E>>>27)+w+l[y],I=20>y?I+(1518500249+(b&_|~b&x)):40>y?I+(1859775393+(b^_^x)):60>y?I+((b&_|b&x|_&x)-1894007588):I+((b^_^x)-899497514),w=x,x=_,_=b<<30|b>>>2,b=E,E=I}v[0]=v[0]+E|0,v[1]=v[1]+b|0,v[2]=v[2]+_|0,v[3]=v[3]+x|0,v[4]=v[4]+w|0},_doFinalize:function(){var g=this._data,m=g.words,v=8*this._nDataBytes,E=8*g.sigBytes;return m[E>>>5]|=128<<24-E%32,m[14+(E+64>>>9<<4)]=Math.floor(v/4294967296),m[15+(E+64>>>9<<4)]=v,g.sigBytes=4*m.length,this._process(),this._hash},clone:function(){var g=u.clone.call(this);return g._hash=this._hash.clone(),g}});s.SHA1=u._createHelper(h),s.HmacSHA1=u._createHmacHelper(h)}(),function(s){for(var a=ae,u=(y=a.lib).WordArray,l=y.Hasher,y=a.algo,h=[],g=[],m=function(S){return 4294967296*(S-(0|S))|0},v=2,E=0;64>E;){var b;e:{for(var _=s.sqrt(b=v),x=2;x<=_;x++)if(!(b%x)){b=!1;break e}b=!0}b&&(8>E&&(h[E]=m(s.pow(v,.5))),g[E]=m(s.pow(v,1/3)),E++),v++}var w=[];y=y.SHA256=l.extend({_doReset:function(){this._hash=new u.init(h.slice(0))},_doProcessBlock:function(I,S){for(var F=this._hash.words,C=F[0],M=F[1],P=F[2],k=F[3],O=F[4],G=F[5],Y=F[6],T=F[7],R=0;64>R;R++){if(16>R)w[R]=0|I[S+R];else{var L=w[R-15],j=w[R-2];w[R]=((L<<25|L>>>7)^(L<<14|L>>>18)^L>>>3)+w[R-7]+((j<<15|j>>>17)^(j<<13|j>>>19)^j>>>10)+w[R-16]}L=T+((O<<26|O>>>6)^(O<<21|O>>>11)^(O<<7|O>>>25))+(O&G^~O&Y)+g[R]+w[R],j=((C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22))+(C&M^C&P^M&P),T=Y,Y=G,G=O,O=k+L|0,k=P,P=M,M=C,C=L+j|0}F[0]=F[0]+C|0,F[1]=F[1]+M|0,F[2]=F[2]+P|0,F[3]=F[3]+k|0,F[4]=F[4]+O|0,F[5]=F[5]+G|0,F[6]=F[6]+Y|0,F[7]=F[7]+T|0},_doFinalize:function(){var I=this._data,S=I.words,F=8*this._nDataBytes,C=8*I.sigBytes;return S[C>>>5]|=128<<24-C%32,S[14+(C+64>>>9<<4)]=s.floor(F/4294967296),S[15+(C+64>>>9<<4)]=F,I.sigBytes=4*S.length,this._process(),this._hash},clone:function(){var I=l.clone.call(this);return I._hash=this._hash.clone(),I}}),a.SHA256=l._createHelper(y),a.HmacSHA256=l._createHmacHelper(y)}(Math),function(){var s=ae,a=s.lib.WordArray,u=(l=s.algo).SHA256,l=l.SHA224=u.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=u._doFinalize.call(this);return h.sigBytes-=4,h}});s.SHA224=u._createHelper(l),s.HmacSHA224=u._createHmacHelper(l)}(),function(){function s(){return l.create.apply(l,arguments)}for(var a=ae,u=a.lib.Hasher,l=(g=a.x64).Word,h=g.WordArray,g=a.algo,m=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],v=[],E=0;80>E;E++)v[E]=s();g=g.SHA512=u.extend({_doReset:function(){this._hash=new h.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(b,_){for(var M,x=(M=this._hash.words)[0],w=M[1],y=M[2],I=M[3],S=M[4],F=M[5],C=M[6],P=x.high,k=x.low,O=w.high,G=w.low,Y=y.high,T=y.low,R=I.high,L=I.low,j=S.high,V=S.low,z=F.high,H=F.low,$=C.high,q=C.low,W=(M=M[7]).high,de=M.low,ce=P,ue=k,Ae=O,Se=G,je=Y,_e=T,Dt=R,Wt=L,Tt=j,Ht=V,Vt=z,Ve=H,gt=$,nt=q,at=W,Ut=de,Ke=0;80>Ke;Ke++){var br=v[Ke];if(16>Ke)var Zt=br.high=0|b[_+2*Ke],Ue=br.low=0|b[_+2*Ke+1];else{Zt=((Ue=(Zt=v[Ke-15]).high)>>>1|(Un=Zt.low)<<31)^(Ue>>>8|Un<<24)^Ue>>>7;var Un=(Un>>>1|Ue<<31)^(Un>>>8|Ue<<24)^(Un>>>7|Ue<<25),$r=((Ue=($r=v[Ke-2]).high)>>>19|(Ze=$r.low)<<13)^(Ue<<3|Ze>>>29)^Ue>>>6,Ze=(Ze>>>19|Ue<<13)^(Ze<<3|Ue>>>29)^(Ze>>>6|Ue<<26);br.high=Zt=(Zt=(Zt=Zt+(Yi=(Ue=v[Ke-7]).high)+((Ue=Un+Ue.low)>>>0<Un>>>0?1:0))+$r+((Ue+=Ze)>>>0<Ze>>>0?1:0))+($n=(Sr=v[Ke-16]).high)+((Ue+=Sr=Sr.low)>>>0<Sr>>>0?1:0),br.low=Ue}var Yi=Tt&Vt^~Tt&gt,Sr=Ht&Ve^~Ht&nt,Og=(br=ce&Ae^ce&je^Ae&je,ue&Se^ue&_e^Se&_e),Lg=(Ze=m[Ke]).high,Po=Ze.low,$n=at+((Tt>>>14|Ht<<18)^(Tt>>>18|Ht<<14)^(Tt<<23|Ht>>>9))+((Ze=Ut+((Ht>>>14|Tt<<18)^(Ht>>>18|Tt<<14)^(Ht<<23|Tt>>>9)))>>>0<Ut>>>0?1:0);at=gt,Ut=nt,gt=Vt,nt=Ve,Vt=Tt,Ve=Ht,Tt=Dt+($n=($n=($n=$n+Yi+((Ze+=Sr)>>>0<Sr>>>0?1:0))+Lg+((Ze+=Po)>>>0<Po>>>0?1:0))+Zt+((Ze+=Ue)>>>0<Ue>>>0?1:0))+((Ht=Wt+Ze|0)>>>0<Wt>>>0?1:0)|0,Dt=je,Wt=_e,je=Ae,_e=Se,Ae=ce,Se=ue,ce=$n+(br=(Un=(ce>>>28|ue<<4)^(ce<<30|ue>>>2)^(ce<<25|ue>>>7))+br+((Ue=($r=(ue>>>28|ce<<4)^(ue<<30|ce>>>2)^(ue<<25|ce>>>7))+Og)>>>0<$r>>>0?1:0))+((ue=Ze+Ue|0)>>>0<Ze>>>0?1:0)|0}k=x.low=k+ue,x.high=P+ce+(k>>>0<ue>>>0?1:0),G=w.low=G+Se,w.high=O+Ae+(G>>>0<Se>>>0?1:0),T=y.low=T+_e,y.high=Y+je+(T>>>0<_e>>>0?1:0),L=I.low=L+Wt,I.high=R+Dt+(L>>>0<Wt>>>0?1:0),V=S.low=V+Ht,S.high=j+Tt+(V>>>0<Ht>>>0?1:0),H=F.low=H+Ve,F.high=z+Vt+(H>>>0<Ve>>>0?1:0),q=C.low=q+nt,C.high=$+gt+(q>>>0<nt>>>0?1:0),de=M.low=de+Ut,M.high=W+at+(de>>>0<Ut>>>0?1:0)},_doFinalize:function(){var b=this._data,_=b.words,x=8*this._nDataBytes,w=8*b.sigBytes;return _[w>>>5]|=128<<24-w%32,_[30+(w+128>>>10<<5)]=Math.floor(x/4294967296),_[31+(w+128>>>10<<5)]=x,b.sigBytes=4*_.length,this._process(),this._hash.toX32()},clone:function(){var b=u.clone.call(this);return b._hash=this._hash.clone(),b},blockSize:32}),a.SHA512=u._createHelper(g),a.HmacSHA512=u._createHmacHelper(g)}(),function(){var s=ae,a=(h=s.x64).Word,u=h.WordArray,l=(h=s.algo).SHA512,h=h.SHA384=l.extend({_doReset:function(){this._hash=new u.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var g=l._doFinalize.call(this);return g.sigBytes-=16,g}});s.SHA384=l._createHelper(h),s.HmacSHA384=l._createHmacHelper(h)}(),function(){var s=ae,a=(b=s.lib).WordArray,u=b.Hasher,b=s.algo,l=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),g=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=a.create([0,1518500249,1859775393,2400959708,2840853838]),E=a.create([1352829926,1548603684,1836072691,2053994217,0]);b=b.RIPEMD160=u.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,x){for(var w=0;16>w;w++)_[y=x+w]=16711935&((I=_[y])<<8|I>>>24)|4278255360&(I<<24|I>>>8);var y,k,O,G,Y,T,R,L,j,V,z,H,I=v.words,S=E.words,F=l.words,C=h.words,M=g.words,P=m.words;for(R=k=(y=this._hash.words)[0],L=O=y[1],j=G=y[2],V=Y=y[3],z=T=y[4],w=0;80>w;w+=1)H=k+_[x+F[w]]|0,H=16>w?H+((O^G^Y)+I[0]):32>w?H+((O&G|~O&Y)+I[1]):48>w?H+(((O|~G)^Y)+I[2]):64>w?H+((O&Y|G&~Y)+I[3]):H+((O^(G|~Y))+I[4]),H=(H=(H|=0)<<M[w]|H>>>32-M[w])+T|0,k=T,T=Y,Y=G<<10|G>>>22,G=O,O=H,H=R+_[x+C[w]]|0,H=16>w?H+((L^(j|~V))+S[0]):32>w?H+((L&V|j&~V)+S[1]):48>w?H+(((L|~j)^V)+S[2]):64>w?H+((L&j|~L&V)+S[3]):H+((L^j^V)+S[4]),H=(H=(H|=0)<<P[w]|H>>>32-P[w])+z|0,R=z,z=V,V=j<<10|j>>>22,j=L,L=H;H=y[1]+G+V|0,y[1]=y[2]+Y+z|0,y[2]=y[3]+T+R|0,y[3]=y[4]+k+L|0,y[4]=y[0]+O+j|0,y[0]=H},_doFinalize:function(){var _=this._data,x=_.words,w=8*this._nDataBytes,y=8*_.sigBytes;for(x[y>>>5]|=128<<24-y%32,x[14+(y+64>>>9<<4)]=16711935&(w<<8|w>>>24)|4278255360&(w<<24|w>>>8),_.sigBytes=4*(x.length+1),this._process(),x=(_=this._hash).words,w=0;5>w;w++)x[w]=16711935&((y=x[w])<<8|y>>>24)|4278255360&(y<<24|y>>>8);return _},clone:function(){var _=u.clone.call(this);return _._hash=this._hash.clone(),_}}),s.RIPEMD160=u._createHelper(b),s.HmacRIPEMD160=u._createHmacHelper(b)}(Math),function(){var a=ae.enc.Utf8;ae.algo.HMAC=ae.lib.Base.extend({init:function(u,l){u=this._hasher=new u.init,"string"==typeof l&&(l=a.parse(l));var h=u.blockSize,g=4*h;l.sigBytes>g&&(l=u.finalize(l)),l.clamp();for(var m=this._oKey=l.clone(),v=this._iKey=l.clone(),E=m.words,b=v.words,_=0;_<h;_++)E[_]^=1549556828,b[_]^=909522486;m.sigBytes=v.sigBytes=g,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher;return u=l.finalize(u),l.reset(),l.finalize(this._oKey.clone().concat(u))}})}(),function(){var l,s=ae,a=(l=s.lib).Base,u=l.WordArray,h=(l=s.algo).HMAC,g=l.PBKDF2=a.extend({cfg:a.extend({keySize:4,hasher:l.SHA1,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,v){for(var E=h.create((I=this.cfg).hasher,m),b=u.create(),_=u.create([1]),x=b.words,w=_.words,y=I.keySize,I=I.iterations;x.length<y;){var S=E.update(v).finalize(_);E.reset();for(var F=S.words,C=F.length,M=S,P=1;P<I;P++){M=E.finalize(M),E.reset();for(var k=M.words,O=0;O<C;O++)F[O]^=k[O]}b.concat(S),w[0]++}return b.sigBytes=4*y,b}});s.PBKDF2=function(m,v,E){return g.create(E).compute(m,v)}}();var Bn,gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Li="=";function In(s){var a,u,l="";for(a=0;a+3<=s.length;a+=3)u=parseInt(s.substring(a,a+3),16),l+=gr.charAt(u>>6)+gr.charAt(63&u);if(a+1==s.length?(u=parseInt(s.substring(a,a+1),16),l+=gr.charAt(u<<2)):a+2==s.length&&(u=parseInt(s.substring(a,a+2),16),l+=gr.charAt(u>>2)+gr.charAt((3&u)<<4)),Li)for(;(3&l.length)>0;)l+=Li;return l}function nn(s){var u,h,g,a="",l=0;for(u=0;u<s.length&&s.charAt(u)!=Li;++u)!((g=gr.indexOf(s.charAt(u)))<0)&&(0==l?(a+=Kt(g>>2),h=3&g,l=1):1==l?(a+=Kt(h<<2|g>>4),h=15&g,l=2):2==l?(a+=Kt(h),a+=Kt(g>>2),h=3&g,l=3):(a+=Kt(h<<2|g>>4),a+=Kt(15&g),l=0));return 1==l&&(a+=Kt(h<<2)),a}function K(s,a,u){null!=s&&("number"==typeof s?this.fromNumber(s,a,u):this.fromString(s,null==a&&"string"!=typeof s?256:a))}function Re(){return new K(null)}"Microsoft Internet Explorer"==ke.appName?(K.prototype.am=function mr(s,a,u,l,h,g){for(var m=32767&a,v=a>>15;--g>=0;){var E=32767&this[s],b=this[s++]>>15,_=v*E+b*m;h=((E=m*E+((32767&_)<<15)+u[l]+(1073741823&h))>>>30)+(_>>>15)+v*b+(h>>>30),u[l++]=1073741823&E}return h},Bn=30):"Netscape"!=ke.appName?(K.prototype.am=function no(s,a,u,l,h,g){for(;--g>=0;){var m=a*this[s++]+u[l]+h;h=Math.floor(m/67108864),u[l++]=67108863&m}return h},Bn=26):(K.prototype.am=function ki(s,a,u,l,h,g){for(var m=16383&a,v=a>>14;--g>=0;){var E=16383&this[s],b=this[s++]>>14,_=v*E+b*m;h=((E=m*E+((16383&_)<<14)+u[l]+h)>>28)+(_>>14)+v*b,u[l++]=268435455&E}return h},Bn=28),K.prototype.DB=Bn,K.prototype.DM=(1<<Bn)-1,K.prototype.DV=1<<Bn,K.prototype.FV=Math.pow(2,52),K.prototype.F1=52-Bn,K.prototype.F2=2*Bn-52;var Qn,rn,io="0123456789abcdefghijklmnopqrstuvwxyz",ji=new Array;for(Qn="0".charCodeAt(0),rn=0;rn<=9;++rn)ji[Qn++]=rn;for(Qn="a".charCodeAt(0),rn=10;rn<36;++rn)ji[Qn++]=rn;for(Qn="A".charCodeAt(0),rn=10;rn<36;++rn)ji[Qn++]=rn;function Kt(s){return io.charAt(s)}function si(s,a){return ji[s.charCodeAt(a)]??-1}function Jn(s){var a=Re();return a.fromInt(s),a}function Bi(s){var u,a=1;return 0!=(u=s>>>16)&&(s=u,a+=16),0!=(u=s>>8)&&(s=u,a+=8),0!=(u=s>>4)&&(s=u,a+=4),0!=(u=s>>2)&&(s=u,a+=2),0!=(u=s>>1)&&(s=u,a+=1),a}function vr(s){this.m=s}function jr(s){this.m=s,this.mp=s.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}function ef(s,a){return s&a}function fo(s,a){return s|a}function ho(s,a){return s^a}function po(s,a){return s&~a}function iu(s){if(0==s)return-1;var a=0;return 65535&s||(s>>=16,a+=16),255&s||(s>>=8,a+=8),15&s||(s>>=4,a+=4),3&s||(s>>=2,a+=2),1&s||++a,a}function ou(s){for(var a=0;0!=s;)s&=s-1,++a;return a}function yr(){}function uu(s){return s}function Hr(s){this.r2=Re(),this.q3=Re(),K.ONE.dlShiftTo(2*s.t,this.r2),this.mu=this.r2.divide(s),this.m=s}vr.prototype.convert=function uo(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s},vr.prototype.revert=function kl(s){return s},vr.prototype.reduce=function jl(s){s.divRemTo(this.m,null,s)},vr.prototype.mulTo=function Bl(s,a,u){s.multiplyTo(a,u),this.reduce(u)},vr.prototype.sqrTo=function vg(s,a){s.squareTo(a),this.reduce(a)},jr.prototype.convert=function wg(s){var a=Re();return s.abs().dlShiftTo(this.m.t,a),a.divRemTo(this.m,null,a),s.s<0&&a.compareTo(K.ZERO)>0&&this.m.subTo(a,a),a},jr.prototype.revert=function Hl(s){var a=Re();return s.copyTo(a),this.reduce(a),a},jr.prototype.reduce=function Ya(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var a=0;a<this.m.t;++a){var u=32767&s[a],l=u*this.mpl+((u*this.mph+(s[a]>>15)*this.mpl&this.um)<<15)&s.DM;for(s[u=a+this.m.t]+=this.m.am(0,l,s,a,0,this.m.t);s[u]>=s.DV;)s[u]-=s.DV,s[++u]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)},jr.prototype.mulTo=function co(s,a,u){s.multiplyTo(a,u),this.reduce(u)},jr.prototype.sqrTo=function Vl(s,a){s.squareTo(a),this.reduce(a)},K.prototype.copyTo=function Ml(s){for(var a=this.t-1;a>=0;--a)s[a]=this[a];s.t=this.t,s.s=this.s},K.prototype.fromInt=function so(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0},K.prototype.fromString=function oo(s,a){var u;if(16==a)u=4;else if(8==a)u=3;else if(256==a)u=8;else if(2==a)u=1;else if(32==a)u=5;else{if(4!=a)return void this.fromRadix(s,a);u=2}this.t=0,this.s=0;for(var l=s.length,h=!1,g=0;--l>=0;){var m=8==u?255&s[l]:si(s,l);m<0?"-"==s.charAt(l)&&(h=!0):(h=!1,0==g?this[this.t++]=m:g+u>this.DB?(this[this.t-1]|=(m&(1<<this.DB-g)-1)<<g,this[this.t++]=m>>this.DB-g):this[this.t-1]|=m<<g,(g+=u)>=this.DB&&(g-=this.DB))}8==u&&128&s[0]&&(this.s=-1,g>0&&(this[this.t-1]|=(1<<this.DB-g)-1<<g)),this.clamp(),h&&K.ZERO.subTo(this,this)},K.prototype.clamp=function Xn(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t},K.prototype.dlShiftTo=function Ol(s,a){var u;for(u=this.t-1;u>=0;--u)a[u+s]=this[u];for(u=s-1;u>=0;--u)a[u]=0;a.t=this.t+s,a.s=this.s},K.prototype.drShiftTo=function mn(s,a){for(var u=s;u<this.t;++u)a[u-s]=this[u];a.t=Math.max(this.t-s,0),a.s=this.s},K.prototype.lShiftTo=function Wa(s,a){var v,u=s%this.DB,l=this.DB-u,h=(1<<l)-1,g=Math.floor(s/this.DB),m=this.s<<u&this.DM;for(v=this.t-1;v>=0;--v)a[v+g+1]=this[v]>>l|m,m=(this[v]&h)<<u;for(v=g-1;v>=0;--v)a[v]=0;a[g]=m,a.t=this.t+g+1,a.s=this.s,a.clamp()},K.prototype.rShiftTo=function Za(s,a){a.s=this.s;var u=Math.floor(s/this.DB);if(u>=this.t)a.t=0;else{var l=s%this.DB,h=this.DB-l,g=(1<<l)-1;a[0]=this[u]>>l;for(var m=u+1;m<this.t;++m)a[m-u-1]|=(this[m]&g)<<h,a[m-u]=this[m]>>l;l>0&&(a[this.t-u-1]|=(this.s&g)<<h),a.t=this.t-u,a.clamp()}},K.prototype.subTo=function dt(s,a){for(var u=0,l=0,h=Math.min(s.t,this.t);u<h;)l+=this[u]-s[u],a[u++]=l&this.DM,l>>=this.DB;if(s.t<this.t){for(l-=s.s;u<this.t;)l+=this[u],a[u++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;u<s.t;)l-=s[u],a[u++]=l&this.DM,l>>=this.DB;l-=s.s}a.s=l<0?-1:0,l<-1?a[u++]=this.DV+l:l>0&&(a[u++]=l),a.t=u,a.clamp()},K.prototype.multiplyTo=function ht(s,a){var u=this.abs(),l=s.abs(),h=u.t;for(a.t=h+l.t;--h>=0;)a[h]=0;for(h=0;h<l.t;++h)a[h+u.t]=u.am(0,l[h],a,h,0,u.t);a.s=0,a.clamp(),this.s!=s.s&&K.ZERO.subTo(a,a)},K.prototype.squareTo=function Ll(s){for(var a=this.abs(),u=s.t=2*a.t;--u>=0;)s[u]=0;for(u=0;u<a.t-1;++u){var l=a.am(u,a[u],s,2*u,0,1);(s[u+a.t]+=a.am(u+1,2*a[u],s,2*u+1,l,a.t-u-1))>=a.DV&&(s[u+a.t]-=a.DV,s[u+a.t+1]=1)}s.t>0&&(s[s.t-1]+=a.am(u,a[u],s,2*u,0,1)),s.s=0,s.clamp()},K.prototype.divRemTo=function We(s,a,u){var l=s.abs();if(!(l.t<=0)){var h=this.abs();if(h.t<l.t)return a?.fromInt(0),void(null!=u&&this.copyTo(u));null==u&&(u=Re());var g=Re(),m=this.s,v=s.s,E=this.DB-Bi(l[l.t-1]);E>0?(l.lShiftTo(E,g),h.lShiftTo(E,u)):(l.copyTo(g),h.copyTo(u));var b=g.t,_=g[b-1];if(0!=_){var x=_*(1<<this.F1)+(b>1?g[b-2]>>this.F2:0),w=this.FV/x,y=(1<<this.F1)/x,I=1<<this.F2,S=u.t,F=S-b,C=a??Re();for(g.dlShiftTo(F,C),u.compareTo(C)>=0&&(u[u.t++]=1,u.subTo(C,u)),K.ONE.dlShiftTo(b,C),C.subTo(g,g);g.t<b;)g[g.t++]=0;for(;--F>=0;){var M=u[--S]==_?this.DM:Math.floor(u[S]*w+(u[S-1]+I)*y);if((u[S]+=g.am(0,M,u,F,0,b))<M)for(g.dlShiftTo(F,C),u.subTo(C,u);u[S]<--M;)u.subTo(C,u)}null!=a&&(u.drShiftTo(b,a),m!=v&&K.ZERO.subTo(a,a)),u.t=b,u.clamp(),E>0&&u.rShiftTo(E,u),m<0&&K.ZERO.subTo(u,u)}}},K.prototype.invDigit=function yg(){if(this.t<1)return 0;var s=this[0];if(!(1&s))return 0;var a=3&s;return(a=(a=(a=(a=a*(2-(15&s)*a)&15)*(2-(255&s)*a)&255)*(2-((65535&s)*a&65535))&65535)*(2-s*a%this.DV)%this.DV)>0?this.DV-a:-a},K.prototype.isEven=function Ul(){return 0==(this.t>0?1&this[0]:this.s)},K.prototype.exp=function lo(s,a){if(s>4294967295||s<1)return K.ONE;var u=Re(),l=Re(),h=a.convert(this),g=Bi(s)-1;for(h.copyTo(u);--g>=0;)if(a.sqrTo(u,l),(s&1<<g)>0)a.mulTo(l,h,u);else{var m=u;u=l,l=m}return a.revert(u)},K.prototype.toString=function Nl(s){if(this.s<0)return"-"+this.negate().toString(s);var a;if(16==s)a=4;else if(8==s)a=3;else if(2==s)a=1;else if(32==s)a=5;else{if(4!=s)return this.toRadix(s);a=2}var l,u=(1<<a)-1,h=!1,g="",m=this.t,v=this.DB-m*this.DB%a;if(m-- >0)for(v<this.DB&&(l=this[m]>>v)>0&&(h=!0,g=Kt(l));m>=0;)v<a?(l=(this[m]&(1<<v)-1)<<a-v,l|=this[--m]>>(v+=this.DB-a)):(l=this[m]>>(v-=a)&u,v<=0&&(v+=this.DB,--m)),l>0&&(h=!0),h&&(g+=Kt(l));return h?g:"0"},K.prototype.negate=function Ka(){var s=Re();return K.ZERO.subTo(this,s),s},K.prototype.abs=function ft(){return this.s<0?this.negate():this},K.prototype.compareTo=function Ga(s){var a=this.s-s.s;if(0!=a)return a;var u=this.t;if(0!=(a=u-s.t))return this.s<0?-a:a;for(;--u>=0;)if(0!=(a=this[u]-s[u]))return a;return 0},K.prototype.bitLength=function Pl(){return this.t<=0?0:this.DB*(this.t-1)+Bi(this[this.t-1]^this.s&this.DM)},K.prototype.mod=function ao(s){var a=Re();return this.abs().divRemTo(s,null,a),this.s<0&&a.compareTo(K.ZERO)>0&&s.subTo(a,a),a},K.prototype.modPowInt=function Qa(s,a){var u;return u=s<256||a.isEven()?new vr(a):new jr(a),this.exp(s,u)},K.ZERO=Jn(0),K.ONE=Jn(1),yr.prototype.convert=uu,yr.prototype.revert=uu,yr.prototype.mulTo=function oi(s,a,u){s.multiplyTo(a,u)},yr.prototype.sqrTo=function pf(s,a){s.squareTo(a)},Hr.prototype.convert=function mf(s){if(s.s<0||s.t>2*this.m.t)return s.mod(this.m);if(s.compareTo(this.m)<0)return s;var a=Re();return s.copyTo(a),this.reduce(a),a},Hr.prototype.revert=function vf(s){return s},Hr.prototype.reduce=function fu(s){for(s.drShiftTo(this.m.t-1,this.r2),s.t>this.m.t+1&&(s.t=this.m.t+1,s.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);s.compareTo(this.r2)<0;)s.dAddOffset(1,this.m.t+1);for(s.subTo(this.r2,s);s.compareTo(this.m)>=0;)s.subTo(this.m,s)},Hr.prototype.mulTo=function wf(s,a,u){s.multiplyTo(a,u),this.reduce(u)},Hr.prototype.sqrTo=function yf(s,a){s.squareTo(a),this.reduce(a)};var At=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],go=(1<<26)/At[At.length-1];function mo(){this.i=0,this.j=0,this.S=new Array}K.prototype.chunkSize=function Ja(s){return Math.floor(Math.LN2*this.DB/Math.log(s))},K.prototype.toRadix=function Xa(s){if(null==s&&(s=10),0==this.signum()||s<2||s>36)return"0";var a=this.chunkSize(s),u=Math.pow(s,a),l=Jn(u),h=Re(),g=Re(),m="";for(this.divRemTo(l,h,g);h.signum()>0;)m=(u+g.intValue()).toString(s).substr(1)+m,h.divRemTo(l,h,g);return g.intValue().toString(s)+m},K.prototype.fromRadix=function Gl(s,a){this.fromInt(0),null==a&&(a=10);for(var u=this.chunkSize(a),l=Math.pow(a,u),h=!1,g=0,m=0,v=0;v<s.length;++v){var E=si(s,v);E<0?"-"==s.charAt(v)&&0==this.signum()&&(h=!0):(m=a*m+E,++g>=u&&(this.dMultiply(l),this.dAddOffset(m,0),g=0,m=0))}g>0&&(this.dMultiply(Math.pow(a,g)),this.dAddOffset(m,0)),h&&K.ZERO.subTo(this,this)},K.prototype.fromNumber=function Wl(s,a,u){if("number"==typeof a)if(s<2)this.fromInt(1);else for(this.fromNumber(s,u),this.testBit(s-1)||this.bitwiseTo(K.ONE.shiftLeft(s-1),fo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(a);)this.dAddOffset(2,0),this.bitLength()>s&&this.subTo(K.ONE.shiftLeft(s-1),this);else{var l=new Array,h=7&s;l.length=1+(s>>3),a.nextBytes(l),h>0?l[0]&=(1<<h)-1:l[0]=0,this.fromString(l,256)}},K.prototype.bitwiseTo=function Xl(s,a,u){var l,h,g=Math.min(s.t,this.t);for(l=0;l<g;++l)u[l]=a(this[l],s[l]);if(s.t<this.t){for(h=s.s&this.DM,l=g;l<this.t;++l)u[l]=a(this[l],h);u.t=this.t}else{for(h=this.s&this.DM,l=g;l<s.t;++l)u[l]=a(h,s[l]);u.t=s.t}u.s=a(this.s,s.s),u.clamp()},K.prototype.changeBit=function sf(s,a){var u=K.ONE.shiftLeft(s);return this.bitwiseTo(u,a,u),u},K.prototype.addTo=function cf(s,a){for(var u=0,l=0,h=Math.min(s.t,this.t);u<h;)l+=this[u]+s[u],a[u++]=l&this.DM,l>>=this.DB;if(s.t<this.t){for(l+=s.s;u<this.t;)l+=this[u],a[u++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;u<s.t;)l+=s[u],a[u++]=l&this.DM,l>>=this.DB;l+=s.s}a.s=l<0?-1:0,l>0?a[u++]=l:l<-1&&(a[u++]=this.DV+l),a.t=u,a.clamp()},K.prototype.dMultiply=function df(s){this[this.t]=this.am(0,s-1,this,0,0,this.t),++this.t,this.clamp()},K.prototype.dAddOffset=function hf(s,a){if(0!=s){for(;this.t<=a;)this[this.t++]=0;for(this[a]+=s;this[a]>=this.DV;)this[a]-=this.DV,++a>=this.t&&(this[this.t++]=0),++this[a]}},K.prototype.multiplyLowerTo=function lu(s,a,u){var h,l=Math.min(this.t+s.t,a);for(u.s=0,u.t=l;l>0;)u[--l]=0;for(h=u.t-this.t;l<h;++l)u[l+this.t]=this.am(0,s[l],u,l,0,this.t);for(h=Math.min(s.t,a);l<h;++l)this.am(0,s[l],u,l,0,a-l);u.clamp()},K.prototype.multiplyUpperTo=function gf(s,a,u){--a;var l=u.t=this.t+s.t-a;for(u.s=0;--l>=0;)u[l]=0;for(l=Math.max(a-this.t,0);l<s.t;++l)u[this.t+l-a]=this.am(a-l,s[l],u,0,0,this.t+l-a);u.clamp(),u.drShiftTo(1,u)},K.prototype.modInt=function on(s){if(s<=0)return 0;var a=this.DV%s,u=this.s<0?s-1:0;if(this.t>0)if(0==a)u=this[0]%s;else for(var l=this.t-1;l>=0;--l)u=(a*u+this[l])%s;return u},K.prototype.millerRabin=function Ef(s){var a=this.subtract(K.ONE),u=a.getLowestSetBit();if(u<=0)return!1;var l=a.shiftRight(u);(s=s+1>>1)>At.length&&(s=At.length);for(var h=Re(),g=0;g<s;++g){h.fromInt(At[Math.floor(Math.random()*At.length)]);var m=h.modPow(l,this);if(0!=m.compareTo(K.ONE)&&0!=m.compareTo(a)){for(var v=1;v++<u&&0!=m.compareTo(a);)if(0==(m=m.modPowInt(2,this)).compareTo(K.ONE))return!1;if(0!=m.compareTo(a))return!1}}return!0},K.prototype.clone=function $l(){var s=Re();return this.copyTo(s),s},K.prototype.intValue=function ql(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},K.prototype.byteValue=function zl(){return 0==this.t?this.s:this[0]<<24>>24},K.prototype.shortValue=function er(){return 0==this.t?this.s:this[0]<<16>>16},K.prototype.signum=function Kl(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},K.prototype.toByteArray=function Zl(){var s=this.t,a=new Array;a[0]=this.s;var l,u=this.DB-s*this.DB%8,h=0;if(s-- >0)for(u<this.DB&&(l=this[s]>>u)!=(this.s&this.DM)>>u&&(a[h++]=l|this.s<<this.DB-u);s>=0;)u<8?(l=(this[s]&(1<<u)-1)<<8-u,l|=this[--s]>>(u+=this.DB-8)):(l=this[s]>>(u-=8)&255,u<=0&&(u+=this.DB,--s)),128&l&&(l|=-256),0==h&&(128&this.s)!=(128&l)&&++h,(h>0||l!=this.s)&&(a[h++]=l);return a},K.prototype.equals=function Yl(s){return 0==this.compareTo(s)},K.prototype.min=function Ql(s){return this.compareTo(s)<0?this:s},K.prototype.max=function Jl(s){return this.compareTo(s)>0?this:s},K.prototype.and=function tf(s){var a=Re();return this.bitwiseTo(s,ef,a),a},K.prototype.or=function Dg(s){var a=Re();return this.bitwiseTo(s,fo,a),a},K.prototype.xor=function eu(s){var a=Re();return this.bitwiseTo(s,ho,a),a},K.prototype.andNot=function tu(s){var a=Re();return this.bitwiseTo(s,po,a),a},K.prototype.not=function nu(){for(var s=Re(),a=0;a<this.t;++a)s[a]=this.DM&~this[a];return s.t=this.t,s.s=~this.s,s},K.prototype.shiftLeft=function nf(s){var a=Re();return s<0?this.rShiftTo(-s,a):this.lShiftTo(s,a),a},K.prototype.shiftRight=function ru(s){var a=Re();return s<0?this.lShiftTo(-s,a):this.rShiftTo(s,a),a},K.prototype.getLowestSetBit=function su(){for(var s=0;s<this.t;++s)if(0!=this[s])return s*this.DB+iu(this[s]);return this.s<0?this.t*this.DB:-1},K.prototype.bitCount=function sn(){for(var s=0,a=this.s&this.DM,u=0;u<this.t;++u)s+=ou(this[u]^a);return s},K.prototype.testBit=function rf(s){var a=Math.floor(s/this.DB);return a>=this.t?0!=this.s:0!=(this[a]&1<<s%this.DB)},K.prototype.setBit=function af(s){return this.changeBit(s,fo)},K.prototype.clearBit=function uf(s){return this.changeBit(s,po)},K.prototype.flipBit=function au(s){return this.changeBit(s,ho)},K.prototype.add=function lf(s){var a=Re();return this.addTo(s,a),a},K.prototype.subtract=function Hn(s){var a=Re();return this.subTo(s,a),a},K.prototype.multiply=function ff(s){var a=Re();return this.multiplyTo(s,a),a},K.prototype.divide=function Br(s){var a=Re();return this.divRemTo(s,a,null),a},K.prototype.remainder=function An(s){var a=Re();return this.divRemTo(s,null,a),a},K.prototype.divideAndRemainder=function Eg(s){var a=Re(),u=Re();return this.divRemTo(s,a,u),new Array(a,u)},K.prototype.modPow=function bt(s,a){var l,g,u=s.bitLength(),h=Jn(1);if(u<=0)return h;l=u<18?1:u<48?3:u<144?4:u<768?5:6,g=u<8?new vr(a):a.isEven()?new Hr(a):new jr(a);var m=new Array,v=3,E=l-1,b=(1<<l)-1;if(m[1]=g.convert(this),l>1){var _=Re();for(g.sqrTo(m[1],_);v<=b;)m[v]=Re(),g.mulTo(_,m[v-2],m[v]),v+=2}var w,S,x=s.t-1,y=!0,I=Re();for(u=Bi(s[x])-1;x>=0;){for(u>=E?w=s[x]>>u-E&b:(w=(s[x]&(1<<u+1)-1)<<E-u,x>0&&(w|=s[x-1]>>this.DB+u-E)),v=l;!(1&w);)w>>=1,--v;if((u-=v)<0&&(u+=this.DB,--x),y)m[w].copyTo(h),y=!1;else{for(;v>1;)g.sqrTo(h,I),g.sqrTo(I,h),v-=2;v>0?g.sqrTo(h,I):(S=h,h=I,I=S),g.mulTo(I,m[w],h)}for(;x>=0&&!(s[x]&1<<u);)g.sqrTo(h,I),S=h,h=I,I=S,--u<0&&(u=this.DB-1,--x)}return g.revert(h)},K.prototype.modInverse=function Ee(s){var a=s.isEven();if(this.isEven()&&a||0==s.signum())return K.ZERO;for(var u=s.clone(),l=this.clone(),h=Jn(1),g=Jn(0),m=Jn(0),v=Jn(1);0!=u.signum();){for(;u.isEven();)u.rShiftTo(1,u),a?((!h.isEven()||!g.isEven())&&(h.addTo(this,h),g.subTo(s,g)),h.rShiftTo(1,h)):g.isEven()||g.subTo(s,g),g.rShiftTo(1,g);for(;l.isEven();)l.rShiftTo(1,l),a?((!m.isEven()||!v.isEven())&&(m.addTo(this,m),v.subTo(s,v)),m.rShiftTo(1,m)):v.isEven()||v.subTo(s,v),v.rShiftTo(1,v);u.compareTo(l)>=0?(u.subTo(l,u),a&&h.subTo(m,h),g.subTo(v,g)):(l.subTo(u,l),a&&m.subTo(h,m),v.subTo(g,v))}return 0!=l.compareTo(K.ONE)?K.ZERO:v.compareTo(s)>=0?v.subtract(s):v.signum()<0?(v.addTo(s,v),v.signum()<0?v.add(s):v):v},K.prototype.pow=function cu(s){return this.exp(s,new yr)},K.prototype.gcd=function Df(s){var a=this.s<0?this.negate():this.clone(),u=s.s<0?s.negate():s.clone();if(a.compareTo(u)<0){var l=a;a=u,u=l}var h=a.getLowestSetBit(),g=u.getLowestSetBit();if(g<0)return a;for(h<g&&(g=h),g>0&&(a.rShiftTo(g,a),u.rShiftTo(g,u));a.signum()>0;)(h=a.getLowestSetBit())>0&&a.rShiftTo(h,a),(h=u.getLowestSetBit())>0&&u.rShiftTo(h,u),a.compareTo(u)>=0?(a.subTo(u,a),a.rShiftTo(1,a)):(u.subTo(a,u),u.rShiftTo(1,u));return g>0&&u.lShiftTo(g,u),u},K.prototype.isProbablePrime=function _n(s){var a,u=this.abs();if(1==u.t&&u[0]<=At[At.length-1]){for(a=0;a<At.length;++a)if(u[0]==At[a])return!0;return!1}if(u.isEven())return!1;for(a=1;a<At.length;){for(var l=At[a],h=a+1;h<At.length&&l<go;)l*=At[h++];for(l=u.modInt(l);a<h;)if(l%At[a++]==0)return!1}return u.millerRabin(s)},K.prototype.square=function St(){var s=Re();return this.squareTo(s),s},mo.prototype.init=function $e(s){var a,u,l;for(a=0;a<256;++a)this.S[a]=a;for(u=0,a=0;a<256;++a)l=this.S[a],this.S[a]=this.S[u=u+this.S[a]+s[a%s.length]&255],this.S[u]=l;this.i=0,this.j=0},mo.prototype.next=function Hi(){var s;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,s=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=s,this.S[s+this.S[this.i]&255]};var Vi,Rt,fe,ai=256;function ui(){!function vo(s){Rt[fe++]^=255&s,Rt[fe++]^=s>>8&255,Rt[fe++]^=s>>16&255,Rt[fe++]^=s>>24&255,fe>=ai&&(fe-=ai)}((new Date).getTime())}if(null==Rt){var Fn;if(Rt=new Array,fe=0,void 0!==Yn&&(void 0!==Yn.crypto||void 0!==Yn.msCrypto)){var yo=Yn.crypto||Yn.msCrypto;if(yo.getRandomValues){var oe=new Uint8Array(32);for(yo.getRandomValues(oe),Fn=0;Fn<32;++Fn)Rt[fe++]=oe[Fn]}else if("Netscape"==ke.appName&&ke.appVersion<"5"){var ci=Yn.crypto.random(32);for(Fn=0;Fn<ci.length;++Fn)Rt[fe++]=255&ci.charCodeAt(Fn)}}for(;fe<ai;)Fn=Math.floor(65536*Math.random()),Rt[fe++]=Fn>>>8,Rt[fe++]=255&Fn;fe=0,ui()}function xe(){if(null==Vi){for(ui(),(Vi=function pt(){return new mo}()).init(Rt),fe=0;fe<Rt.length;++fe)Rt[fe]=0;fe=0}return Vi.next()}function tr(){}function Mt(s,a){return new K(s,a)}function Sf(s,a,u){for(var l="",h=0;l.length<a;)l+=u(String.fromCharCode.apply(String,s.concat([(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h]))),h+=1;return l}function pe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function hu(s,a,u){for(var l="",h=0;l.length<a;)l+=u(s+String.fromCharCode.apply(String,[(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])),h+=1;return l}function vt(s,a){this.x=a,this.q=s}function Me(s,a,u,l){this.curve=s,this.x=a,this.y=u,this.z=null==l?K.ONE:l,this.zinv=null}function Ne(s,a,u){this.q=s,this.a=this.fromBigInteger(a),this.b=this.fromBigInteger(u),this.infinity=new Me(this,null,null)}tr.prototype.nextBytes=function Be(s){var a;for(a=0;a<s.length;++a)s[a]=xe()},pe.prototype.doPublic=function bg(s){return s.modPowInt(this.e,this.n)},pe.prototype.setPublic=function wr(s,a){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof s)this.n=s,this.e=a;else{if(!(null!=s&&null!=a&&s.length>0&&a.length>0))throw"Invalid RSA public key";this.n=Mt(s,16),this.e=parseInt(a,16)}},pe.prototype.encrypt=function Cg(s){var a=function Gt(s,a){if(a<s.length+11)throw"Message too long for RSA";for(var u=new Array,l=s.length-1;l>=0&&a>0;){var h=s.charCodeAt(l--);h<128?u[--a]=h:h>127&&h<2048?(u[--a]=63&h|128,u[--a]=h>>6|192):(u[--a]=63&h|128,u[--a]=h>>6&63|128,u[--a]=h>>12|224)}u[--a]=0;for(var g=new tr,m=new Array;a>2;){for(m[0]=0;0==m[0];)g.nextBytes(m);u[--a]=m[0]}return u[--a]=2,u[--a]=0,new K(u)}(s,this.n.bitLength()+7>>3);if(null==a)return null;var u=this.doPublic(a);if(null==u)return null;var l=u.toString(16);return 1&l.length?"0"+l:l},pe.prototype.encryptOAEP=function xg(s,a,u){var l=this.n.bitLength()+7>>3,h=function bf(s,a,u,l){var h=p.crypto.MessageDigest,g=p.crypto.Util,m=null;if(u||(u="sha1"),"string"==typeof u&&(m=h.getCanonicalAlgName(u),l=h.getHashLength(m),u=function(S){return _t(g.hashHex(un(S),m))}),s.length+2*l+2>a)throw"Message too long for RSA";var E,v="";for(E=0;E<a-s.length-2*l-2;E+=1)v+="\0";var b=u("")+v+"\x01"+s,_=new Array(l);(new tr).nextBytes(_);var x=Sf(_,b.length,u),w=[];for(E=0;E<b.length;E+=1)w[E]=b.charCodeAt(E)^x.charCodeAt(E);var y=Sf(w,_.length,u),I=[0];for(E=0;E<_.length;E+=1)I[E+1]=_[E]^y.charCodeAt(E);return new K(I.concat(w))}(s,l,a,u);if(null==h)return null;var g=this.doPublic(h);if(null==g)return null;for(var m=g.toString(16);m.length<2*l;)m="0"+m;return m},pe.prototype.type="RSA",pe.prototype.doPrivate=function De(s){if(null==this.p||null==this.q)return s.modPow(this.d,this.n);for(var a=s.mod(this.p).modPow(this.dmp1,this.p),u=s.mod(this.q).modPow(this.dmq1,this.q);a.compareTo(u)<0;)a=a.add(this.p);return a.subtract(u).multiply(this.coeff).mod(this.p).multiply(this.q).add(u)},pe.prototype.setPrivate=function Cf(s,a,u){if(this.isPrivate=!0,"string"!=typeof s)this.n=s,this.e=a,this.d=u;else{if(!(null!=s&&null!=a&&s.length>0&&a.length>0))throw"Invalid RSA private key";this.n=Mt(s,16),this.e=parseInt(a,16),this.d=Mt(u,16)}},pe.prototype.setPrivateEx=function _g(s,a,u,l,h,g,m,v){if(this.isPrivate=!0,this.isPublic=!1,null==s)throw"RSASetPrivateEx N == null";if(null==a)throw"RSASetPrivateEx E == null";if(0==s.length)throw"RSASetPrivateEx N.length == 0";if(0==a.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=s&&null!=a&&s.length>0&&a.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=Mt(s,16),this.e=parseInt(a,16),this.d=Mt(u,16),this.p=Mt(l,16),this.q=Mt(h,16),this.dmp1=Mt(g,16),this.dmq1=Mt(m,16),this.coeff=Mt(v,16)},pe.prototype.generate=function an(s,a){var u=new tr,l=s>>1;this.e=parseInt(a,16);for(var h=new K(a,16),g=s/2-100,m=K.ONE.shiftLeft(g);;){for(;this.p=new K(s-l,1,u),0!=this.p.subtract(K.ONE).gcd(h).compareTo(K.ONE)||!this.p.isProbablePrime(10););for(;this.q=new K(l,1,u),0!=this.q.subtract(K.ONE).gcd(h).compareTo(K.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var v=this.p;this.p=this.q,this.q=v}var E=this.q.subtract(this.p).abs();if(!(E.bitLength()<g||E.compareTo(m)<=0)){var b=this.p.subtract(K.ONE),_=this.q.subtract(K.ONE),x=b.multiply(_);if(0==x.gcd(h).compareTo(K.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==s)){this.d=h.modInverse(x),this.dmp1=this.d.mod(b),this.dmq1=this.d.mod(_),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},pe.prototype.decrypt=function Fg(s){if(s.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var a=Mt(s,16),u=this.doPrivate(a);return null==u?null:function Ig(s,a){for(var u=s.toByteArray(),l=0;l<u.length&&0==u[l];)++l;if(u.length-l!=a-1||2!=u[l])return null;for(++l;0!=u[l];)if(++l>=u.length)return null;for(var h="";++l<u.length;){var g=255&u[l];g<128?h+=String.fromCharCode(g):g>191&&g<224?(h+=String.fromCharCode((31&g)<<6|63&u[l+1]),++l):(h+=String.fromCharCode((15&g)<<12|(63&u[l+1])<<6|63&u[l+2]),l+=2)}return h}(u,this.n.bitLength()+7>>3)},pe.prototype.decryptOAEP=function Tg(s,a,u){if(s.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var l=Mt(s,16),h=this.doPrivate(l);return null==h?null:function Ag(s,a,u,l){var h=p.crypto.MessageDigest,g=p.crypto.Util,m=null;for(u||(u="sha1"),"string"==typeof u&&(m=h.getCanonicalAlgName(u),l=h.getHashLength(m),u=function(F){return _t(g.hashHex(un(F),m))}),s=s.toByteArray(),x=0;x<s.length;x+=1)s[x]&=255;for(;s.length<a;)s.unshift(0);if((s=String.fromCharCode.apply(String,s)).length<2*l+2)throw"Cipher too short";var x,v=s.substr(1,l),E=s.substr(l+1),b=hu(E,l,u),_=[];for(x=0;x<v.length;x+=1)_[x]=v.charCodeAt(x)^b.charCodeAt(x);var w=hu(String.fromCharCode.apply(String,_),s.length-l,u),y=[];for(x=0;x<E.length;x+=1)y[x]=E.charCodeAt(x)^w.charCodeAt(x);if((y=String.fromCharCode.apply(String,y)).substr(0,l)!==u(""))throw"Hash mismatch";var I=(y=y.substr(l)).indexOf("\x01");if((-1!=I?y.substr(0,I).lastIndexOf("\0"):-1)+1!=I)throw"Malformed data";return y.substr(I+1)}(h,this.n.bitLength()+7>>3,a,u)},vt.prototype.equals=function ye(s){return s==this||this.q.equals(s.q)&&this.x.equals(s.x)},vt.prototype.toBigInteger=function Rg(){return this.x},vt.prototype.negate=function nr(){return new vt(this.q,this.x.negate().mod(this.q))},vt.prototype.add=function Ui(s){return new vt(this.q,this.x.add(s.toBigInteger()).mod(this.q))},vt.prototype.subtract=function xf(s){return new vt(this.q,this.x.subtract(s.toBigInteger()).mod(this.q))},vt.prototype.multiply=function pu(s){return new vt(this.q,this.x.multiply(s.toBigInteger()).mod(this.q))},vt.prototype.square=function If(){return new vt(this.q,this.x.square().mod(this.q))},vt.prototype.divide=function $i(s){return new vt(this.q,this.x.multiply(s.toBigInteger().modInverse(this.q)).mod(this.q))},vt.prototype.sqrt=function(){return new vt(this.q,this.x.sqrt().mod(this.q))},Me.prototype.getX=function wo(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Me.prototype.getY=function gu(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Me.prototype.equals=function Af(s){return s==this||(this.isInfinity()?s.isInfinity():s.isInfinity()?this.isInfinity():!!s.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(s.z)).mod(this.curve.q).equals(K.ZERO)&&s.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(s.z)).mod(this.curve.q).equals(K.ZERO))},Me.prototype.isInfinity=function Te(){return null==this.x&&null==this.y||this.z.equals(K.ZERO)&&!this.y.toBigInteger().equals(K.ZERO)},Me.prototype.negate=function Do(){return new Me(this.curve,this.x,this.y.negate(),this.z)},Me.prototype.add=function mu(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var a=s.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(s.z)).mod(this.curve.q),u=s.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(s.z)).mod(this.curve.q);if(K.ZERO.equals(u))return K.ZERO.equals(a)?this.twice():this.curve.getInfinity();var l=new K("3"),h=this.x.toBigInteger(),g=this.y.toBigInteger(),E=(s.x.toBigInteger(),s.y.toBigInteger(),u.square()),b=E.multiply(u),_=h.multiply(E),x=a.square().multiply(this.z),w=x.subtract(_.shiftLeft(1)).multiply(s.z).subtract(b).multiply(u).mod(this.curve.q),y=_.multiply(l).multiply(a).subtract(g.multiply(b)).subtract(x.multiply(a)).multiply(s.z).add(a.multiply(b)).mod(this.curve.q),I=b.multiply(this.z).multiply(s.z).mod(this.curve.q);return new Me(this.curve,this.curve.fromBigInteger(w),this.curve.fromBigInteger(y),I)},Me.prototype.twice=function Lt(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var s=new K("3"),a=this.x.toBigInteger(),u=this.y.toBigInteger(),l=u.multiply(this.z),h=l.multiply(u).mod(this.curve.q),g=this.curve.a.toBigInteger(),m=a.square().multiply(s);K.ZERO.equals(g)||(m=m.add(this.z.square().multiply(g)));var v=(m=m.mod(this.curve.q)).square().subtract(a.shiftLeft(3).multiply(h)).shiftLeft(1).multiply(l).mod(this.curve.q),E=m.multiply(s).multiply(a).subtract(h.shiftLeft(1)).shiftLeft(2).multiply(h).subtract(m.square().multiply(m)).mod(this.curve.q),b=l.square().multiply(l).shiftLeft(3).mod(this.curve.q);return new Me(this.curve,this.curve.fromBigInteger(v),this.curve.fromBigInteger(E),b)},Me.prototype.multiply=function vu(s){if(this.isInfinity())return this;if(0==s.signum())return this.curve.getInfinity();var b,a=s,u=a.multiply(new K("3")),l=this.negate(),h=this,g=this.curve.q.subtract(s),m=g.multiply(new K("3")),v=new Me(this.curve,this.x,this.y),E=v.negate();for(b=u.bitLength()-2;b>0;--b){h=h.twice();var _=u.testBit(b);_!=a.testBit(b)&&(h=h.add(_?this:l))}for(b=m.bitLength()-2;b>0;--b){v=v.twice();var w=m.testBit(b);w!=g.testBit(b)&&(v=v.add(w?v:E))}return h},Me.prototype.multiplyTwo=function Mg(s,a,u){var l;l=s.bitLength()>u.bitLength()?s.bitLength()-1:u.bitLength()-1;for(var h=this.curve.getInfinity(),g=this.add(a);l>=0;)h=h.twice(),s.testBit(l)?h=u.testBit(l)?h.add(g):h.add(this):u.testBit(l)&&(h=h.add(a)),--l;return h},Ne.prototype.getQ=function Ng(){return this.q},Ne.prototype.getA=function Pg(){return this.a},Ne.prototype.getB=function he(){return this.b},Ne.prototype.equals=function Eo(s){return s==this||this.q.equals(s.q)&&this.a.equals(s.a)&&this.b.equals(s.b)},Ne.prototype.getInfinity=function So(){return this.infinity},Ne.prototype.fromBigInteger=function yu(s){return new vt(this.q,s)},Ne.prototype.decodePointHex=function bo(s){switch(parseInt(s.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var a=s.substr(0,2),l=(s.substr(2),this.fromBigInteger(new K(b,16))),h=this.getA(),g=this.getB(),v=l.square().add(h).multiply(l).add(g).sqrt();return"03"==a&&(v=v.negate()),new Me(this,l,v);case 4:case 6:case 7:var E=(s.length-2)/2,b=s.substr(2,E),_=s.substr(E+2,E);return new Me(this,this.fromBigInteger(new K(b,16)),this.fromBigInteger(new K(_,16)));default:return null}},vt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Me.prototype.getEncoded=function(s){var a=function(g,m){var v=g.toByteArrayUnsigned();if(m<v.length)v=v.slice(v.length-m);else for(;m>v.length;)v.unshift(0);return v},u=this.getX().toBigInteger(),l=this.getY().toBigInteger(),h=a(u,32);return s?l.isEven()?h.unshift(2):h.unshift(3):(h.unshift(4),h=h.concat(a(l,32))),h},Me.decodeFrom=function(s,a){var l=a.length-1,h=a.slice(1,1+l/2),g=a.slice(1+l/2,1+l);h.unshift(0),g.unshift(0);var m=new K(h),v=new K(g);return new Me(s,s.fromBigInteger(m),s.fromBigInteger(v))},Me.decodeFromHex=function(s,a){a.substr(0,2);var l=a.length-2,h=a.substr(2,l/2),g=a.substr(2+l/2,l/2),m=new K(h,16),v=new K(g,16);return new Me(s,s.fromBigInteger(m),s.fromBigInteger(v))},Me.prototype.add2D=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;if(this.x.equals(s.x))return this.y.equals(s.y)?this.twice():this.curve.getInfinity();var a=s.x.subtract(this.x),l=s.y.subtract(this.y).divide(a),h=l.square().subtract(this.x).subtract(s.x),g=l.multiply(this.x.subtract(h)).subtract(this.y);return new Me(this.curve,h,g)},Me.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var s=this.curve.fromBigInteger(K.valueOf(2)),a=this.curve.fromBigInteger(K.valueOf(3)),u=this.x.square().multiply(a).add(this.curve.a).divide(this.y.multiply(s)),l=u.square().subtract(this.x.multiply(s)),h=u.multiply(this.x.subtract(l)).subtract(this.y);return new Me(this.curve,l,h)},Me.prototype.multiply2D=function(s){if(this.isInfinity())return this;if(0==s.signum())return this.curve.getInfinity();var g,a=s,u=a.multiply(new K("3")),l=this.negate(),h=this;for(g=u.bitLength()-2;g>0;--g){h=h.twice();var m=u.testBit(g);m!=a.testBit(g)&&(h=h.add2D(m?this:l))}return h},Me.prototype.isOnCurve=function(){var s=this.getX().toBigInteger(),a=this.getY().toBigInteger(),u=this.curve.getA().toBigInteger(),l=this.curve.getB().toBigInteger(),h=this.curve.getQ(),g=a.multiply(a).mod(h),m=s.multiply(s).multiply(s).add(u.multiply(s)).add(l).mod(h);return g.equals(m)},Me.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Me.prototype.validate=function(){var s=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var a=this.getX().toBigInteger(),u=this.getY().toBigInteger();if(a.compareTo(K.ONE)<0||a.compareTo(s.subtract(K.ONE))>0)throw new Error("x coordinate out of bounds");if(u.compareTo(K.ONE)<0||u.compareTo(s.subtract(K.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(s).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var wu=function(){var l=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),h=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),g={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function m(x,w,y){return w?g[w]:String.fromCharCode(parseInt(y,16))}var v=new String(""),_=Object.hasOwnProperty;return function(x,w){var I,y=x.match(l),S=y[0],F=!1;"{"===S?I={}:"["===S?I=[]:(I=[],F=!0);for(var C,M=[I],P=1-F,k=y.length;P<k;++P){var O;switch((S=y[P]).charCodeAt(0)){default:(O=M[0])[C||O.length]=+S,C=void 0;break;case 34:if(-1!==(S=S.substring(1,S.length-1)).indexOf("\\")&&(S=S.replace(h,m)),O=M[0],!C){if(!(O instanceof Array)){C=S||v;break}C=O.length}O[C]=S,C=void 0;break;case 91:M.unshift((O=M[0])[C||O.length]=[]),C=void 0;break;case 93:case 125:M.shift();break;case 102:(O=M[0])[C||O.length]=!1,C=void 0;break;case 110:(O=M[0])[C||O.length]=null,C=void 0;break;case 116:(O=M[0])[C||O.length]=!0,C=void 0;break;case 123:M.unshift((O=M[0])[C||O.length]={}),C=void 0}}if(F){if(1!==M.length)throw new Error;I=I[0]}else if(M.length)throw new Error;if(w){var G=function(Y,T){var R=Y[T];if(R&&"object"==typeof R){var L=null;for(var j in R)if(_.call(R,j)&&R!==Y){var V=G(R,j);void 0!==V?R[j]=V:(L||(L=[]),L.push(j))}if(L)for(var z=L.length;--z>=0;)delete R[L[z]]}return w.call(Y,T,R)};I=G({"":I},"")}return I}}();(typeof p>"u"||!p)&&(p={}),(typeof p.asn1>"u"||!p.asn1)&&(p.asn1={}),p.asn1.ASN1Util=new function(){this.integerToByteHex=function(s){var a=s.toString(16);return a.length%2==1&&(a="0"+a),a},this.bigIntToMinTwosComplementsHex=function(s){var a=s.toString(16);if("-"!=a.substr(0,1))a.length%2==1?a="0"+a:a.match(/^[0-7]/)||(a="00"+a);else{var l=a.substr(1).length;l%2==1?l+=1:a.match(/^[0-7]/)||(l+=2);for(var h="",g=0;g<l;g++)h+="f";a=new K(h,16).xor(s).add(K.ONE).toString(16).replace(/^-/,"")}return a},this.getPEMStringFromHex=function(s,a){return rt(s,a)},this.newObject=function(s){var u=p.asn1,l=u.ASN1Object,h=u.DERBoolean,g=u.DERInteger,m=u.DERBitString,v=u.DEROctetString,E=u.DERNull,b=u.DERObjectIdentifier,_=u.DEREnumerated,x=u.DERUTF8String,w=u.DERNumericString,y=u.DERPrintableString,I=u.DERTeletexString,S=u.DERIA5String,F=u.DERUTCTime,C=u.DERGeneralizedTime,M=u.DERVisibleString,P=u.DERBMPString,k=u.DERSequence,O=u.DERSet,G=u.DERTaggedObject,Y=u.ASN1Util.newObject;if(s instanceof u.ASN1Object)return s;var T=Object.keys(s);if(1!=T.length)throw new Error("key of param shall be only one.");var R=T[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+R+":"))throw new Error("undefined key: "+R);if("bool"==R)return new h(s[R]);if("int"==R)return new g(s[R]);if("bitstr"==R)return new m(s[R]);if("octstr"==R)return new v(s[R]);if("null"==R)return new E(s[R]);if("oid"==R)return new b(s[R]);if("enum"==R)return new _(s[R]);if("utf8str"==R)return new x(s[R]);if("numstr"==R)return new w(s[R]);if("prnstr"==R)return new y(s[R]);if("telstr"==R)return new I(s[R]);if("ia5str"==R)return new S(s[R]);if("utctime"==R)return new F(s[R]);if("gentime"==R)return new C(s[R]);if("visstr"==R)return new M(s[R]);if("bmpstr"==R)return new P(s[R]);if("asn1"==R)return new l(s[R]);if("seq"==R){for(var L=s[R],j=[],V=0;V<L.length;V++){var z=Y(L[V]);j.push(z)}return new k({array:j})}if("set"==R){for(L=s[R],j=[],V=0;V<L.length;V++)z=Y(L[V]),j.push(z);return new O({array:j})}if("tag"==R){var H=s[R];if("[object Array]"===Object.prototype.toString.call(H)&&3==H.length){var $=Y(H[2]);return new G({tag:H[0],explicit:H[1],obj:$})}return new G(H)}},this.jsonToASN1HEX=function(s){return this.newObject(s).tohex()}},p.asn1.ASN1Util.oidHexToInt=function(s){for(var h="",a=parseInt(s.substr(0,2),16),g=(h=Math.floor(a/40)+"."+a%40,""),m=2;m<s.length;m+=2){var E=("00000000"+parseInt(s.substr(m,2),16).toString(2)).slice(-8);g+=E.substr(1,7),"0"==E.substr(0,1)&&(h=h+"."+new K(g,2).toString(10),g="")}return h},p.asn1.ASN1Util.oidIntToHex=function(s){var a=function(v){var E=v.toString(16);return 1==E.length&&(E="0"+E),E},u=function(v){var E="",_=new K(v,10).toString(2),x=7-_.length%7;7==x&&(x=0);for(var w="",y=0;y<x;y++)w+="0";for(_=w+_,y=0;y<_.length-1;y+=7){var I=_.substr(y,7);y!=_.length-7&&(I="1"+I),E+=a(parseInt(I,2))}return E};if(!s.match(/^[0-9.]+$/))throw"malformed oid string: "+s;var l="",h=s.split("."),g=40*parseInt(h[0])+parseInt(h[1]);l+=a(g),h.splice(0,2);for(var m=0;m<h.length;m++)l+=u(h[m]);return l},p.asn1.ASN1Object=function(s){this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var m=this.hV.length/2,v=m.toString(16);if(v.length%2==1&&(v="0"+v),m<128)return v;var E=v.length/2;if(E>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+m.toString(16));return(128+E).toString(16)+v},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(m){this.params=m},null!=s&&null!=s.tlv&&(this.hTLV=s.tlv,this.isModified=!1)},p.asn1.DERAbstractString=function(s){p.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(l){this.hTLV=null,this.isModified=!0,this.s=l,this.hV=Ur(this.s).toLowerCase()},this.setStringHex=function(l){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=l},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&("string"==typeof s?this.setString(s):typeof s.str<"u"?this.setString(s.str):typeof s.hex<"u"&&this.setStringHex(s.hex))},Q(p.asn1.DERAbstractString,p.asn1.ASN1Object),p.asn1.DERAbstractTime=function(s){p.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(l){var h=l.getTime()+6e4*l.getTimezoneOffset();return new Date(h)},this.formatDate=function(l,h,g){var m=this.zeroPadding,v=this.localDateToUTC(l),E=String(v.getFullYear());"utc"==h&&(E=E.substr(2,2));var I=E+m(String(v.getMonth()+1),2)+m(String(v.getDate()),2)+m(String(v.getHours()),2)+m(String(v.getMinutes()),2)+m(String(v.getSeconds()),2);if(!0===g){var S=v.getMilliseconds();if(0!=S){var F=m(String(S),3);I=I+"."+(F=F.replace(/[0]+$/,""))}}return I+"Z"},this.zeroPadding=function(l,h){return l.length>=h?l:new Array(h-l.length+1).join("0")+l},this.setByParam=function(l){this.hV=null,this.hTLV=null,this.params=l},this.getString=function(){},this.setString=function(l){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=l},this.setByDate=function(l){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=l},this.setByDateValue=function(l,h,g,m,v,E){var b=new Date(Date.UTC(l,h-1,g,m,v,E,0));this.setByDate(b)},this.getFreshValueHex=function(){return this.hV}},Q(p.asn1.DERAbstractTime,p.asn1.ASN1Object),p.asn1.DERAbstractStructured=function(s){p.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(u){this.hTLV=null,this.isModified=!0,this.asn1Array=u},this.appendASN1Object=function(u){this.hTLV=null,this.isModified=!0,this.asn1Array.push(u)},this.asn1Array=new Array,typeof s<"u"&&typeof s.array<"u"&&(this.asn1Array=s.array)},Q(p.asn1.DERAbstractStructured,p.asn1.ASN1Object),p.asn1.DERBoolean=function(s){p.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==s?"010100":"0101ff"},Q(p.asn1.DERBoolean,p.asn1.ASN1Object),p.asn1.DERInteger=function(s){p.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var a=p.asn1.ASN1Util.bigIntToMinTwosComplementsHex;this.setByBigInteger=function(u){this.isModified=!0,this.params={bigint:u}},this.setByInteger=function(u){this.isModified=!0,this.params=u},this.setValueHex=function(u){this.isModified=!0,this.params={hex:u}},this.getFreshValueHex=function(){var u=this.params,l=null;if(null==u)throw new Error("value not set");if("object"==typeof u&&null!=u.hex)return this.hV=u.hex,this.hV;if("number"==typeof u)l=new K(String(u),10);else if(null!=u.int)l=new K(String(u.int),10);else{if(null==u.bigint)throw new Error("wrong parameter");l=u.bigint}return this.hV=a(l),this.hV},null!=s&&(this.params=s)},Q(p.asn1.DERInteger,p.asn1.ASN1Object),p.asn1.DERBitString=function(s){if(void 0!==s&&typeof s.obj<"u"){var a=p.asn1.ASN1Util.newObject(s.obj);s.hex="00"+a.tohex()}p.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(u){this.hTLV=null,this.isModified=!0,this.hV=u},this.setUnusedBitsAndHexValue=function(u,l){if(u<0||7<u)throw"unused bits shall be from 0 to 7: u = "+u;var h="0"+u;this.hTLV=null,this.isModified=!0,this.hV=h+l},this.setByBinaryString=function(u){var l=8-(u=u.replace(/0+$/,"")).length%8;8==l&&(l=0),u+="0000000".substr(0,l);for(var h="",g=0;g<u.length-1;g+=8){var m=u.substr(g,8),v=parseInt(m,2).toString(16);1==v.length&&(v="0"+v),h+=v}this.hTLV=null,this.isModified=!0,this.hV="0"+l+h},this.setByBooleanArray=function(u){for(var l="",h=0;h<u.length;h++)l+=1==u[h]?"1":"0";this.setByBinaryString(l)},this.newFalseArray=function(u){for(var l=new Array(u),h=0;h<u;h++)l[h]=!1;return l},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&("string"==typeof s&&s.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(s):typeof s.hex<"u"?this.setHexValueIncludingUnusedBits(s.hex):typeof s.bin<"u"?this.setByBinaryString(s.bin):typeof s.array<"u"&&this.setByBooleanArray(s.array))},Q(p.asn1.DERBitString,p.asn1.ASN1Object),p.asn1.DEROctetString=function(s){if(void 0!==s&&typeof s.obj<"u"){var a=p.asn1.ASN1Util.newObject(s.obj);s.hex=a.tohex()}p.asn1.DEROctetString.superclass.constructor.call(this,s),this.hT="04"},Q(p.asn1.DEROctetString,p.asn1.DERAbstractString),p.asn1.DERNull=function(){p.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Q(p.asn1.DERNull,p.asn1.ASN1Object),p.asn1.DERObjectIdentifier=function(s){p.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.setValueOidString=function(a){var u=function Iu(s){var a=function(v){var E=v.toString(16);return 1==E.length&&(E="0"+E),E},u=function(v){var E="",_=parseInt(v,10).toString(2),x=7-_.length%7;7==x&&(x=0);for(var w="",y=0;y<x;y++)w+="0";for(_=w+_,y=0;y<_.length-1;y+=7){var I=_.substr(y,7);y!=_.length-7&&(I="1"+I),E+=a(parseInt(I,2))}return E};try{if(!s.match(/^[0-9.]+$/))return null;var l="",h=s.split("."),g=40*parseInt(h[0],10)+parseInt(h[1],10);l+=a(g),h.splice(0,2);for(var m=0;m<h.length;m++)l+=u(h[m]);return l}catch{return null}}(a);if(null==u)throw new Error("malformed oid string: "+a);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=u},this.setValueName=function(a){var u=p.asn1.x509.OID.name2oid(a);if(""===u)throw new Error("DERObjectIdentifier oidName undefined: "+a);this.setValueOidString(u)},this.setValueNameOrOid=function(a){a.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(a):this.setValueName(a)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(a){"string"==typeof a?this.setValueNameOrOid(a):void 0!==a.oid?this.setValueNameOrOid(a.oid):void 0!==a.name?this.setValueNameOrOid(a.name):void 0!==a.hex&&this.setValueHex(a.hex)},void 0!==s&&this.setByParam(s)},Q(p.asn1.DERObjectIdentifier,p.asn1.ASN1Object),p.asn1.DEREnumerated=function(s){p.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(a){this.hTLV=null,this.isModified=!0,this.hV=p.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)},this.setByInteger=function(a){var u=new K(String(a),10);this.setByBigInteger(u)},this.setValueHex=function(a){this.hV=a},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&(typeof s.int<"u"?this.setByInteger(s.int):"number"==typeof s?this.setByInteger(s):typeof s.hex<"u"&&this.setValueHex(s.hex))},Q(p.asn1.DEREnumerated,p.asn1.ASN1Object),p.asn1.DERUTF8String=function(s){p.asn1.DERUTF8String.superclass.constructor.call(this,s),this.hT="0c"},Q(p.asn1.DERUTF8String,p.asn1.DERAbstractString),p.asn1.DERNumericString=function(s){p.asn1.DERNumericString.superclass.constructor.call(this,s),this.hT="12"},Q(p.asn1.DERNumericString,p.asn1.DERAbstractString),p.asn1.DERPrintableString=function(s){p.asn1.DERPrintableString.superclass.constructor.call(this,s),this.hT="13"},Q(p.asn1.DERPrintableString,p.asn1.DERAbstractString),p.asn1.DERTeletexString=function(s){p.asn1.DERTeletexString.superclass.constructor.call(this,s),this.hT="14"},Q(p.asn1.DERTeletexString,p.asn1.DERAbstractString),p.asn1.DERIA5String=function(s){p.asn1.DERIA5String.superclass.constructor.call(this,s),this.hT="16"},Q(p.asn1.DERIA5String,p.asn1.DERAbstractString),p.asn1.DERVisibleString=function(s){p.asn1.DERIA5String.superclass.constructor.call(this,s),this.hT="1a"},Q(p.asn1.DERVisibleString,p.asn1.DERAbstractString),p.asn1.DERBMPString=function(s){p.asn1.DERBMPString.superclass.constructor.call(this,s),this.hT="1e"},Q(p.asn1.DERBMPString,p.asn1.DERAbstractString),p.asn1.DERUTCTime=function(s){p.asn1.DERUTCTime.superclass.constructor.call(this,s),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var a=this.params;if(null==this.params&&(a={date:new Date}),"string"==typeof a){if(!a.match(/^[0-9]{12}Z$/)&&!a.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+a);this.hV=yt(a)}else null!=a.str?this.hV=yt(a.str):null==a.date&&1==a.millis?this.hV=yt(this.formatDate(new Date,"utc",!0)):null!=a.date&&a.date instanceof Date?this.hV=yt(this.formatDate(a.date,"utc",!0===a.millis)):a instanceof Date&&(this.hV=yt(this.formatDate(a,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=s&&this.setByParam(s)},Q(p.asn1.DERUTCTime,p.asn1.DERAbstractTime),p.asn1.DERGeneralizedTime=function(s){p.asn1.DERGeneralizedTime.superclass.constructor.call(this,s),this.hT="18",this.params=s,this.getFreshValueHex=function(){var a=this.params;if(null==this.params&&(a={date:new Date}),"string"==typeof a){if(!a.match(/^[0-9]{14}Z$/)&&!a.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+a);this.hV=yt(a)}else null!=a.str?this.hV=yt(a.str):null==a.date&&1==a.millis?this.hV=yt(this.formatDate(new Date,"gen",!0)):null!=a.date&&a.date instanceof Date?this.hV=yt(this.formatDate(a.date,"gen",!0===a.millis)):a instanceof Date&&(this.hV=yt(this.formatDate(a,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=s&&this.setByParam(s)},Q(p.asn1.DERGeneralizedTime,p.asn1.DERAbstractTime),p.asn1.DERSequence=function(s){p.asn1.DERSequence.superclass.constructor.call(this,s),this.hT="30",this.getFreshValueHex=function(){for(var a="",u=0;u<this.asn1Array.length;u++)a+=this.asn1Array[u].tohex();return this.hV=a,this.hV}},Q(p.asn1.DERSequence,p.asn1.DERAbstractStructured),p.asn1.DERSet=function(s){p.asn1.DERSet.superclass.constructor.call(this,s),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var a=new Array,u=0;u<this.asn1Array.length;u++)a.push(this.asn1Array[u].tohex());return 1==this.sortFlag&&a.sort(),this.hV=a.join(""),this.hV},typeof s<"u"&&typeof s.sortflag<"u"&&0==s.sortflag&&(this.sortFlag=!1)},Q(p.asn1.DERSet,p.asn1.DERAbstractStructured),p.asn1.DERTaggedObject=function(s){p.asn1.DERTaggedObject.superclass.constructor.call(this);var a=p.asn1,l=ne.getV,g=a.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(m,v,E){this.params={tag:v,explicit:m,obj:E}},this.getFreshValueHex=function(){var m=this.params;if(null==m.explicit&&(m.explicit=!0),null!=m.tage&&(m.tag=m.tage,m.explicit=!0),null!=m.tagi&&(m.tag=m.tagi,m.explicit=!1),null!=m.str)this.hV=Ur(m.str);else if(null!=m.hex)this.hV=m.hex;else{if(null==m.obj)throw new Error("str, hex nor obj not specified");var v;m.obj instanceof a.ASN1Object?v=m.obj.tohex():"object"==typeof m.obj&&(v=g(m.obj).tohex()),this.hV=m.explicit?v:l(v,0)}return null==m.tag&&(m.tag="a0"),this.hT=m.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(m){this.params=m},void 0!==s&&this.setByParam(s)},Q(p.asn1.DERTaggedObject,p.asn1.ASN1Object);var p,fi,wt,ne=new function(){};function Co(s){for(var a="",u=0;u<s.length;u++){var l=s[u].toString(16);1==l.length&&(l="0"+l),a+=l}return a}function yt(s){return Co(function _f(s){for(var a=new Array,u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}(s))}function Vr(s){return(s=(s=s.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function li(s){return s.length%4==2?s+="==":s.length%4==3&&(s+="="),(s=s.replace(/-/g,"+")).replace(/_/g,"/")}function ot(s){return s.length%2==1&&(s="0"+s),Vr(In(s))}function He(s){return nn(li(s))}function Ur(s){return rr(gi(s)).toLowerCase()}function re(s){try{return decodeURIComponent(hi(s))}catch{return null}}function zi(s){return re(function di(s){for(var a=s.match(/.{1,2}/g),u=[],l=0;l<a.length;l++){var h=parseInt(a[l],16);161<=h&&h<=191?(u.push("c2"),u.push(a[l])):192<=h&&h<=255?(u.push("c3"),u.push((h-64).toString(16))):u.push(a[l])}return u.join("")}(s))}function _t(s){for(var a="",u=0;u<s.length-1;u+=2)a+=String.fromCharCode(parseInt(s.substr(u,2),16));return a}function un(s){for(var a="",u=0;u<s.length;u++)a+=("0"+s.charCodeAt(u).toString(16)).slice(-2);return a}function rt(s,a){return"-----BEGIN "+a+"-----\r\n"+function kt(s,a){return(s=s.replace(new RegExp("(.{"+a+"})","g"),"$1\r\n")).replace(/\s+$/,"")}(function vn(s){return In(s)}(s),64)+"\r\n-----END "+a+"-----\r\n"}function Qe(s,a){if(-1==s.indexOf("-----BEGIN "))throw new Error("can't find PEM header");return function yn(s){return nn(s.replace(/[^0-9A-Za-z\/+=]*/g,""))}(s=void 0!==a?(s=s.replace(new RegExp("^[^]*-----BEGIN "+a+"-----"),"")).replace(new RegExp("-----END "+a+"-----[^]*$"),""):(s=s.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ao(s){return Math.round(function Dr(s){var a,u,l,h,g,m,v,_,x,w;if(w=(s=function Fo(s){return s.match(/^[0-9]{12}Z$/)||s.match(/^[0-9]{12}[.][0-9]*Z$/)?s.match(/^[0-4]/)?"20"+s:"19"+s:s}(s)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return a=parseInt(w[1]),u=parseInt(w[2])-1,l=parseInt(w[3]),h=parseInt(w[4]),g=parseInt(w[5]),m=parseInt(w[6]),v=0,""!==(_=w[7])&&(x=(_.substr(1)+"00").substr(0,3),v=parseInt(x)),Date.UTC(a,u,l,h,g,m,v);throw new Error("unsupported zulu format: "+s)}(s)/1e3)}function rr(s){return s.replace(/%/g,"")}function hi(s){return s.replace(/(..)/g,"%$1")}function Gi(s){var a="malformed IPv6 address";if(!s.match(/^[0-9A-Fa-f:]+$/))throw a;var u=(s=s.toLowerCase()).split(":").length-1;if(u<2)throw a;var l=":".repeat(7-u+2),h=(s=s.replace("::",l)).split(":");if(8!=h.length)throw a;for(var g=0;g<8;g++)h[g]=("0000"+h[g]).slice(-4);return h.join("")}function To(s){if(!s.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+s);var a=(s=s.toLowerCase()).match(/.{1,4}/g);a=a.map(function(h){return h.replace(/^0+/,"")}),a=a.map(function(h){return""==h?"0":h});var u=(s=":"+a.join(":")+":").match(/:(0:){2,}/g);if(null==u)return s.slice(1,-1);var l=u.sort().slice(-1)[0];return"::"!=(s=s.replace(l.substr(0,l.length-1),":")).substr(0,2)&&(s=s.substr(1)),"::"!=s.substr(-2,2)&&(s=s.substr(0,s.length-1)),s}function pi(s){var a=new Error("malformed hex value");if(!s.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw a;if(8==s.length)try{return parseInt(s.substr(0,2),16)+"."+parseInt(s.substr(2,2),16)+"."+parseInt(s.substr(4,2),16)+"."+parseInt(s.substr(6,2),16)}catch{throw a}else{if(16!=s.length){if(32==s.length)return To(s);if(64==s.length){try{return To(s.substr(0,32))+"/"+Cu(s.substr(32))}catch{throw a}return}return s}try{return pi(s.substr(0,8))+"/"+Cu(s.substr(8))}catch{throw a}}}function Cu(s){var u,a=new Error("malformed mask");try{u=new K(s,16).toString(2)}catch{throw a}if(!u.match(/^1*0*$/))throw a;return u.replace(/0+$/,"").length}function Ro(s){var a=new Error("malformed IP address");if(!(s=s.toLowerCase(s)).match(/^[0-9a-f.:/]+$/))throw a;if(!s.match(/^[0-9.]+$/)){var m;if(s.match(/^[0-9.]+\/[0-9]+$/))return Ro((m=s.split("/"))[0])+cn(parseInt(m[1]),32);if(s.match(/^[0-9a-f:]+$/)&&-1!==s.indexOf(":"))return Gi(s);if(s.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==s.indexOf(":"))return Gi((m=s.split("/"))[0])+cn(parseInt(m[1]),128);throw a}var u=s.split(".");if(4!==u.length)throw a;var l="";try{for(var h=0;h<4;h++)l+=("0"+parseInt(u[h]).toString(16)).slice(-2);return l}catch{throw a}}function cn(s,a){return 32==a&&0==s?"00000000":128==a&&0==s?"00000000000000000000000000000000":new K(Array(s+1).join("1")+Array(a-s+1).join("0"),2).toString(16)}function Mo(s){var l=s.match(/.{4}/g).map(function a(h){var g=parseInt(h.substr(0,2),16),m=parseInt(h.substr(2),16);if(0==g&m<128)return String.fromCharCode(m);if(g<8){var E=128|63&m;return re((192|(7&g)<<3|(192&m)>>6).toString(16)+E.toString(16))}E=128|(15&g)<<2|(192&m)>>6;var b=128|63&m;return re((224|(240&g)>>4).toString(16)+E.toString(16)+b.toString(16))});return l.join("")}function gi(s){for(var a=encodeURIComponent(s),u="",l=0;l<a.length;l++)"%"==a[l]?(u+=a.substr(l,3),l+=2):u=u+"%"+yt(a[l]);return u}function xu(s){return!(s.length%2!=0||!s.match(/^[0-9a-f]+$/)&&!s.match(/^[0-9A-F]+$/))}function No(s){return!!s.match(/^[0-9A-Za-z-_.]+$/)}function Wi(s){return s.length%2==1?"0"+s:s.substr(0,1)>"7"?"00"+s:s}function wn(s){if(!xu(s))return null;try{var a=[],u=s.substr(0,2),l=parseInt(u,16);a[0]=new String(Math.floor(l/40)),a[1]=new String(l%40);for(var h=s.substr(2),g=[],m=0;m<h.length/2;m++)g.push(parseInt(h.substr(2*m,2),16));var v=[],E="";for(m=0;m<g.length;m++)128&g[m]?E+=Zi((127&g[m]).toString(2),7):(E+=Zi((127&g[m]).toString(2),7),v.push(new String(parseInt(E,2))),E="");var b=a.join(".");return v.length>0&&(b=b+"."+v.join(".")),b}catch{return null}}ne.getLblen=function(s,a){if("8"!=s.substr(a+2,1))return 1;var u=parseInt(s.substr(a+3,1));return 0==u?-1:0<u&&u<10?u+1:-2},ne.getL=function(s,a){var u=ne.getLblen(s,a);return u<1?"":s.substr(a+2,2*u)},ne.getVblen=function(s,a){var u;return""==(u=ne.getL(s,a))?-1:("8"===u.substr(0,1)?new K(u.substr(2),16):new K(u,16)).intValue()},ne.getVidx=function(s,a){var u=ne.getLblen(s,a);return u<0?u:a+2*(u+1)},ne.getV=function(s,a){var u=ne.getVidx(s,a),l=ne.getVblen(s,a);return s.substr(u,2*l)},ne.getTLV=function(s,a){return s.substr(a,2)+ne.getL(s,a)+ne.getV(s,a)},ne.getTLVblen=function(s,a){return 2+2*ne.getLblen(s,a)+2*ne.getVblen(s,a)},ne.getNextSiblingIdx=function(s,a){return ne.getVidx(s,a)+2*ne.getVblen(s,a)},ne.getChildIdx=function(s,a){var h,g,m,u=ne,l=[];h=u.getVidx(s,a),g=2*u.getVblen(s,a),"03"==s.substr(a,2)&&(h+=2,g-=2),m=0;for(var v=h;m<=g;){var E=u.getTLVblen(s,v);if((m+=E)<=g&&l.push(v),v+=E,m>=g)break}return l},ne.getNthChildIdx=function(s,a,u){return ne.getChildIdx(s,a)[u]},ne.getIdxbyList=function(s,a,u,l){var g,m,h=ne;return 0==u.length?void 0!==l&&s.substr(a,2)!==l?-1:a:(g=u.shift())>=(m=h.getChildIdx(s,a)).length?-1:h.getIdxbyList(s,m[g],u,l)},ne.getIdxbyListEx=function(s,a,u,l){var g,m,h=ne;if(0==u.length)return void 0!==l&&s.substr(a,2)!==l?-1:a;g=u.shift(),m=h.getChildIdx(s,a);for(var v=0,E=0;E<m.length;E++){var b=s.substr(m[E],2);if("number"==typeof g&&!h.isContextTag(b)&&v==g||"string"==typeof g&&h.isContextTag(b,g))return h.getIdxbyListEx(s,m[E],u,l);h.isContextTag(b)||v++}return-1},ne.getTLVbyList=function(s,a,u,l){var h=ne,g=h.getIdxbyList(s,a,u,l);return-1==g||g>=s.length?null:h.getTLV(s,g)},ne.getTLVbyListEx=function(s,a,u,l){var h=ne,g=h.getIdxbyListEx(s,a,u,l);return-1==g?null:h.getTLV(s,g)},ne.getVbyList=function(s,a,u,l,h){var m,v,g=ne;return-1==(m=g.getIdxbyList(s,a,u,l))||m>=s.length?null:(v=g.getV(s,m),!0===h&&(v=v.substr(2)),v)},ne.getVbyListEx=function(s,a,u,l,h){var m,E,g=ne;return-1==(m=g.getIdxbyListEx(s,a,u,l))?null:(E=g.getV(s,m),"03"==s.substr(m,2)&&!1!==h&&(E=E.substr(2)),E)},ne.getInt=function(s,a,u){null==u&&(u=-1);try{var l=s.substr(a,2);if("02"!=l&&"03"!=l)return u;var h=ne.getV(s,a);return"02"==l?parseInt(h,16):function Au(s){if(s.length%2!=0||null==(s=s.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var a=s.substr(0,2);if("00"==a)return parseInt(s.substr(2),16);var u=parseInt(a,16);if(u>7)return-1;var l=s.substr(2),h=parseInt(l,16).toString(2);"0"==h&&(h="00000000"),h=h.slice(0,0-u);var g=parseInt(h,2);return NaN==g?-1:g}catch{return-1}}(h)}catch{return u}},ne.getOID=function(s,a,u){null==u&&(u=null);try{return"06"!=s.substr(a,2)?u:wn(ne.getV(s,a))}catch{return u}},ne.getOIDName=function(s,a,u){null==u&&(u=null);try{var l=ne.getOID(s,a,u);if(l==u)return u;var h=p.asn1.x509.OID.oid2name(l);return""==h?l:h}catch{return u}},ne.getString=function(s,a,u){null==u&&(u=null);try{return _t(ne.getV(s,a))}catch{return u}},ne.hextooidstr=function(s){var a=function(x,w){return x.length>=w?x:new Array(w-x.length+1).join("0")+x},u=[],l=s.substr(0,2),h=parseInt(l,16);u[0]=new String(Math.floor(h/40)),u[1]=new String(h%40);for(var g=s.substr(2),m=[],v=0;v<g.length/2;v++)m.push(parseInt(g.substr(2*v,2),16));var E=[],b="";for(v=0;v<m.length;v++)128&m[v]?b+=a((127&m[v]).toString(2),7):(b+=a((127&m[v]).toString(2),7),E.push(new String(parseInt(b,2))),b="");var _=u.join(".");return E.length>0&&(_=_+"."+E.join(".")),_},ne.dump=function(s,a,u,l){var h=ne,g=h.getV,m=h.dump,v=h.getChildIdx,E=s;s instanceof p.asn1.ASN1Object&&(E=s.tohex());var b=function(Y,T){return Y.length<=2*T?Y:Y.substr(0,T)+"..(total "+Y.length/2+"bytes).."+Y.substr(Y.length-T,T)};void 0===a&&(a={ommit_long_octet:32}),void 0===u&&(u=0),void 0===l&&(l="");var O,_=a.ommit_long_octet;if("01"==(O=E.substr(u,2)))return"00"==(x=g(E,u))?l+"BOOLEAN FALSE\n":l+"BOOLEAN TRUE\n";if("02"==O)return l+"INTEGER "+b(x=g(E,u),_)+"\n";if("03"==O){var x=g(E,u);return h.isASN1HEX(x.substr(2))?(w=l+"BITSTRING, encapsulates\n")+m(x.substr(2),a,0,l+"  "):l+"BITSTRING "+b(x,_)+"\n"}if("04"==O)return x=g(E,u),h.isASN1HEX(x)?(w=l+"OCTETSTRING, encapsulates\n")+m(x,a,0,l+"  "):l+"OCTETSTRING "+b(x,_)+"\n";if("05"==O)return l+"NULL\n";if("06"==O){var y=g(E,u),I=p.asn1.ASN1Util.oidHexToInt(y),S=p.asn1.x509.OID.oid2name(I),F=I.replace(/\./g," ");return""!=S?l+"ObjectIdentifier "+S+" ("+F+")\n":l+"ObjectIdentifier ("+F+")\n"}if("0a"==O)return l+"ENUMERATED "+parseInt(g(E,u))+"\n";if("0c"==O)return l+"UTF8String '"+re(g(E,u))+"'\n";if("13"==O)return l+"PrintableString '"+re(g(E,u))+"'\n";if("14"==O)return l+"TeletexString '"+re(g(E,u))+"'\n";if("16"==O)return l+"IA5String '"+re(g(E,u))+"'\n";if("17"==O)return l+"UTCTime "+re(g(E,u))+"\n";if("18"==O)return l+"GeneralizedTime "+re(g(E,u))+"\n";if("1a"==O)return l+"VisualString '"+re(g(E,u))+"'\n";if("1e"==O)return l+"BMPString '"+Mo(g(E,u))+"'\n";if("30"==O){if("3000"==E.substr(u,4))return l+"SEQUENCE {}\n";w=l+"SEQUENCE\n";var M=a;if((2==(C=v(E,u)).length||3==C.length)&&"06"==E.substr(C[0],2)&&"04"==E.substr(C[C.length-1],2)){S=h.oidname(g(E,C[0]));var P=JSON.parse(JSON.stringify(a));P.x509ExtName=S,M=P}for(var k=0;k<C.length;k++)w+=m(E,M,C[k],l+"  ");return w}if("31"==O){w=l+"SET\n";var C=v(E,u);for(k=0;k<C.length;k++)w+=m(E,a,C[k],l+"  ");return w}if(128&(O=parseInt(O,16))){var w,G=31&O;if(32&O){for(w=l+"["+G+"]\n",C=v(E,u),k=0;k<C.length;k++)w+=m(E,a,C[k],l+"  ");return w}return x=g(E,u),ne.isASN1HEX(x)?(w=l+"["+G+"]\n")+m(x,a,0,l+"  "):(("68747470"==x.substr(0,8)||"subjectAltName"===a.x509ExtName&&2==G)&&(x=re(x)),l+"["+G+"] "+x+"\n")}return l+"UNKNOWN("+O+") "+g(E,u)+"\n"},ne.parse=function(s){var u=ne.parse,l=ne.isASN1HEX,h=ne.getV,g=ne.getTLV,m=ne.getChildIdx,v=p.asn1,E=v.ASN1Util.oidHexToInt,b=v.x509.OID.oid2name,_=re,x=Mo,w=zi,y={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},S=s.substr(0,2),F={},C=h(s,0);if("01"==S)return"0101ff"==s?{bool:!0}:{bool:!1};if("02"==S)return{int:{hex:C}};if("03"==S)try{if("00"!=C.substr(0,2))throw"not encap";var M=C.substr(2);if(!l(M))throw"not encap";return{bitstr:{obj:u(M)}}}catch{var P=null;return C.length<=10&&(P=function ir(s){if("string"!=typeof s||s.length%2!=0||!s.match(/^[0-9a-f]+$/))return null;try{var a=parseInt(s.substr(0,2),16);if(a<0||7<a)return null;for(var u=s.substr(2),l="",h=0;h<u.length;h+=2){var g=u.substr(h,2),m=parseInt(g,16).toString(2);l+=m=("0000000"+m).slice(-8)}return l.substr(0,l.length-a)}catch{return null}}(C)),null==P?{bitstr:{hex:C}}:{bitstr:{bin:P}}}else if("04"==S)try{if(!l(C))throw"not encap";return{octstr:{obj:u(C)}}}catch{return{octstr:{hex:C}}}else{if("05"==S)return{null:""};if("06"==S){var k=E(C),O=b(k);return""==O?{oid:k}:{oid:O}}if("0a"==S)return C.length>4?{enum:{hex:C}}:{enum:parseInt(C,16)};if("30"==S||"31"==S)return F[y[S]]=function(R){for(var L=[],j=m(R,0),V=0;V<j.length;V++){var H=g(R,j[V]),$=u(H);L.push($)}return L}(s),F;if("14"==S){var G=w(C);return F[y[S]]={str:G},F}if("1e"==S)return G=x(C),F[y[S]]={str:G},F;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(S))return G=_(C),F[y[S]]={str:G},F;if(S.match(/^8[0-9]$/))return null==(G=_(C))|""==G||null!=G.match(/[\x00-\x1F\x7F-\x9F]/)||null!=G.match(/[\u0000-\u001F\u0080\u2013\u009F]/)?{tag:{tag:S,explicit:!1,hex:C}}:{tag:{tag:S,explicit:!1,str:G}};if(!S.match(/^a[0-9]$/)){var Y=new p.asn1.ASN1Object;return Y.hV=C,{asn1:{tlv:S+Y.getLengthHexFromValue()+C}}}try{if(!l(C))throw new Error("not encap");return{tag:{tag:S,explicit:!0,obj:u(C)}}}catch{return{tag:{tag:S,explicit:!0,hex:C}}}}},ne.isContextTag=function(s,a){var u,l;s=s.toLowerCase();try{u=parseInt(s,16)}catch{return-1}if(void 0===a)return 128==(192&u);try{return!(null==a.match(/^\[[0-9]+\]$/)||(l=parseInt(a.substr(1,a.length-1),10),l>31))&&128==(192&u)&&(31&u)==l}catch{return!1}},ne.isASN1HEX=function(s){var a=ne;if(s.length%2==1)return!1;var u=a.getVblen(s,0),l=s.substr(0,2),h=a.getL(s,0);return s.length-l.length-h.length==2*u},ne.checkStrictDER=function(s,a,u,l,h){var g=ne;if(void 0===u){if("string"!=typeof s)throw new Error("not hex string");if(s=s.toLowerCase(),!p.lang.String.isHex(s))throw new Error("not hex string");u=s.length,h=(l=s.length/2)<128?1:Math.ceil(l.toString(16))+1}if(g.getL(s,a).length>2*h)throw new Error("L of TLV too long: idx="+a);var v=g.getVblen(s,a);if(v>l)throw new Error("value of L too long than hex: idx="+a);var E=g.getTLV(s,a),b=E.length-2-g.getL(s,a).length;if(b!==2*v)throw new Error("V string length and L's value not the same:"+b+"/"+2*v);if(0===a&&s.length!=E.length)throw new Error("total length and TLV length unmatch:"+s.length+"!="+E.length);var _=s.substr(a,2);if("02"===_){var x=g.getVidx(s,a);if("00"==s.substr(x,2)&&s.charCodeAt(x+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(_,16)){for(var w=g.getVblen(s,a),y=0,I=g.getChildIdx(s,a),S=0;S<I.length;S++)y+=g.getTLV(s,I[S]).length,g.checkStrictDER(s,I[S],u,l,h);if(2*w!=y)throw new Error("sum of children's TLV length and L unmatch: "+2*w+"!="+y)}},ne.oidname=function(s){var a=p.asn1;p.lang.String.isHex(s)&&(s=a.ASN1Util.oidHexToInt(s));var u=a.x509.OID.oid2name(s);return""===u&&(u=s),u},(typeof p>"u"||!p)&&(p={}),(typeof p.asn1>"u"||!p.asn1)&&(p.asn1={}),(typeof p.asn1.x509>"u"||!p.asn1.x509)&&(p.asn1.x509={}),p.asn1.x509.Certificate=function(s){p.asn1.x509.Certificate.superclass.constructor.call(this);var u=p.asn1,l=u.DERBitString,h=u.DERSequence,g=u.x509,m=g.TBSCertificate,v=g.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(E){this.params=E},this.sign=function(){var E=this.params,b=E.sigalg;null!=E.sigalg.name&&(b=E.sigalg.name);var _=E.tbsobj.tohex(),x=new p.crypto.Signature({alg:b});x.init(E.cakey),x.updateHex(_),E.sighex=x.sign()},this.getPEM=function(){return rt(this.tohex(),"CERTIFICATE")},this.tohex=function(){var E=this.params;if((null==E.tbsobj||null==E.tbsobj)&&(E.tbsobj=new m(E)),null==E.sighex&&null!=E.cakey&&this.sign(),null==E.sighex)throw new Error("sighex or cakey parameter not defined");var b=[];return b.push(E.tbsobj),b.push(new v({name:E.sigalg})),b.push(new l({hex:"00"+E.sighex})),new h({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&(this.params=s)},Q(p.asn1.x509.Certificate,p.asn1.ASN1Object),p.asn1.x509.TBSCertificate=function(s){p.asn1.x509.TBSCertificate.superclass.constructor.call(this);var u=p.asn1,l=u.x509,h=u.DERTaggedObject,g=u.DERInteger,m=u.DERSequence,v=l.AlgorithmIdentifier,E=l.Time,b=l.X500Name,_=l.Extensions,x=l.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(w){this.params=w},this.tohex=function(){var w=[],y=this.params;if(null!=y.version||1!=y.version){var I=2;null!=y.version&&(I=y.version-1);var S=new h({obj:new g({int:I})});w.push(S)}return w.push(new g(y.serial)),w.push(new v({name:y.sigalg})),w.push(new b(y.issuer)),w.push(new m({array:[new E(y.notbefore),new E(y.notafter)]})),w.push(new b(y.subject)),w.push(new x(le.getKey(y.sbjpubkey))),void 0!==y.ext&&y.ext.length>0&&w.push(new h({tag:"a3",obj:new _(y.ext)})),new p.asn1.DERSequence({array:w}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.TBSCertificate,p.asn1.ASN1Object),p.asn1.x509.Extensions=function(s){p.asn1.x509.Extensions.superclass.constructor.call(this);var u=p.asn1,l=u.DERSequence,h=u.x509;this.aParam=[],this.setByParam=function(g){this.aParam=g},this.tohex=function(){for(var g=[],m=0;m<this.aParam.length;m++){var v=this.aParam[m],E=v.extname,b=null;if(null!=v.extn)b=new h.PrivateExtension(v);else if("subjectKeyIdentifier"==E)b=new h.SubjectKeyIdentifier(v);else if("keyUsage"==E)b=new h.KeyUsage(v);else if("subjectAltName"==E)b=new h.SubjectAltName(v);else if("issuerAltName"==E)b=new h.IssuerAltName(v);else if("basicConstraints"==E)b=new h.BasicConstraints(v);else if("nameConstraints"==E)b=new h.NameConstraints(v);else if("cRLDistributionPoints"==E)b=new h.CRLDistributionPoints(v);else if("certificatePolicies"==E)b=new h.CertificatePolicies(v);else if("policyMappings"==E)b=new h.PolicyMappings(v);else if("policyConstraints"==E)b=new h.PolicyConstraints(v);else if("inhibitAnyPolicy"==E)b=new h.InhibitAnyPolicy(v);else if("authorityKeyIdentifier"==E)b=new h.AuthorityKeyIdentifier(v);else if("extKeyUsage"==E)b=new h.ExtKeyUsage(v);else if("authorityInfoAccess"==E)b=new h.AuthorityInfoAccess(v);else if("cRLNumber"==E)b=new h.CRLNumber(v);else if("cRLReason"==E)b=new h.CRLReason(v);else if("ocspNonce"==E)b=new h.OCSPNonce(v);else if("ocspNoCheck"==E)b=new h.OCSPNoCheck(v);else if("adobeTimeStamp"==E)b=new h.AdobeTimeStamp(v);else{if("subjectDirectoryAttributes"!=E)throw new Error("extension not supported:"+JSON.stringify(v));b=new h.SubjectDirectoryAttributes(v)}null!=b&&g.push(b)}return new l({array:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.x509.Extensions,p.asn1.ASN1Object),p.asn1.x509.Extension=function(s){p.asn1.x509.Extension.superclass.constructor.call(this);var l=p.asn1,h=l.DERObjectIdentifier,g=l.DEROctetString,v=l.DERBoolean,E=l.DERSequence;this.tohex=function(){var b=new h({oid:this.oid}),_=new g({hex:this.getExtnValueHex()}),x=new Array;return x.push(b),this.critical&&x.push(new v),x.push(_),new E({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==s&&void 0!==s.critical&&(this.critical=s.critical)},Q(p.asn1.x509.Extension,p.asn1.ASN1Object),p.asn1.x509.KeyUsage=function(s){p.asn1.x509.KeyUsage.superclass.constructor.call(this,s);var a=Error,u={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var l=this.getBinValue();return this.asn1ExtnValue=new p.asn1.DERBitString({bin:l}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var l=this.params;if("object"!=typeof l||"object"!=typeof l.names&&"string"!=typeof l.bin)throw new a("parameter not yet set");if(null!=l.names)return mi(l.names,u);if(null!=l.bin)return l.bin;throw new a("parameter not set properly")},this.oid="2.5.29.15",void 0!==s&&(this.params=s)},Q(p.asn1.x509.KeyUsage,p.asn1.x509.Extension),p.asn1.x509.BasicConstraints=function(s){p.asn1.x509.BasicConstraints.superclass.constructor.call(this,s);var a=p.asn1,u=a.DERBoolean,l=a.DERInteger,h=a.DERSequence;this.getExtnValueHex=function(){var v=new Array;this.cA&&v.push(new u),this.pathLen>-1&&v.push(new l({int:this.pathLen}));var E=new h({array:v});return this.asn1ExtnValue=E,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==s&&(void 0!==s.cA&&(this.cA=s.cA),void 0!==s.pathLen&&(this.pathLen=s.pathLen))},Q(p.asn1.x509.BasicConstraints,p.asn1.x509.Extension),p.asn1.x509.CRLDistributionPoints=function(s){p.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,s);var u=p.asn1,l=u.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(h){for(var g=[],m=0;m<h.length;m++)if(h[m]instanceof p.asn1.ASN1Object)g.push(h[m]);else{var v=new l.DistributionPoint(h[m]);g.push(v)}this.asn1ExtnValue=new u.DERSequence({array:g})},this.setByOneURI=function(h){var g=new l.DistributionPoint({fulluri:h});this.setByDPArray([g])},this.oid="2.5.29.31",void 0!==s&&(void 0!==s.array?this.setByDPArray(s.array):void 0!==s.uri&&this.setByOneURI(s.uri))},Q(p.asn1.x509.CRLDistributionPoints,p.asn1.x509.Extension),p.asn1.x509.DistributionPoint=function(s){p.asn1.x509.DistributionPoint.superclass.constructor.call(this);var l=p.asn1,h=l.x509.DistributionPointName;this.tohex=function(){var g=new l.DERSequence;if(null!=this.asn1DP){var m=new l.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});g.appendASN1Object(m)}return this.hTLV=g.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.dpobj?this.asn1DP=s.dpobj:void 0!==s.dpname?this.asn1DP=new h(s.dpname):void 0!==s.fulluri&&(this.asn1DP=new h({full:[{uri:s.fulluri}]})))},Q(p.asn1.x509.DistributionPoint,p.asn1.ASN1Object),p.asn1.x509.DistributionPointName=function(s){p.asn1.x509.DistributionPointName.superclass.constructor.call(this);var m=p.asn1,v=m.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new v({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s)if(m.x509.GeneralNames.prototype.isPrototypeOf(s))this.type="full",this.tag="a0",this.asn1V=s;else{if(void 0===s.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new m.x509.GeneralNames(s.full)}},Q(p.asn1.x509.DistributionPointName,p.asn1.ASN1Object),p.asn1.x509.CertificatePolicies=function(s){p.asn1.x509.CertificatePolicies.superclass.constructor.call(this,s);var u=p.asn1,h=u.DERSequence,g=u.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var m=[],v=0;v<this.params.array.length;v++)m.push(new g(this.params.array[v]));var E=new h({array:m});return this.asn1ExtnValue=E,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==s&&(this.params=s)},Q(p.asn1.x509.CertificatePolicies,p.asn1.x509.Extension),p.asn1.x509.PolicyInformation=function(s){p.asn1.x509.PolicyInformation.superclass.constructor.call(this,s);var a=p.asn1,u=a.DERSequence,l=a.DERObjectIdentifier,h=a.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var g=[new l(this.params.policyoid)];if(void 0!==this.params.array){for(var m=[],v=0;v<this.params.array.length;v++)m.push(new h(this.params.array[v]));m.length>0&&g.push(new u({array:m}))}return new u({array:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},Q(p.asn1.x509.PolicyInformation,p.asn1.ASN1Object),p.asn1.x509.PolicyQualifierInfo=function(s){p.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,s);var a=p.asn1,u=a.DERSequence,l=a.DERIA5String,h=a.DERObjectIdentifier,g=a.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new u({array:[new h({oid:"1.3.6.1.5.5.7.2.1"}),new l({str:this.params.cps})]}).tohex():null!=this.params.unotice?new u({array:[new h({oid:"1.3.6.1.5.5.7.2.2"}),new g(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},Q(p.asn1.x509.PolicyQualifierInfo,p.asn1.ASN1Object),p.asn1.x509.UserNotice=function(s){p.asn1.x509.UserNotice.superclass.constructor.call(this,s);var a=p.asn1.DERSequence,l=p.asn1.x509.DisplayText,h=p.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var g=[];return void 0!==this.params.noticeref&&g.push(new h(this.params.noticeref)),void 0!==this.params.exptext&&g.push(new l(this.params.exptext)),new a({array:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},Q(p.asn1.x509.UserNotice,p.asn1.ASN1Object),p.asn1.x509.NoticeReference=function(s){p.asn1.x509.NoticeReference.superclass.constructor.call(this,s);var a=p.asn1.DERSequence,u=p.asn1.DERInteger,l=p.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var h=[];if(void 0!==this.params.org&&h.push(new l(this.params.org)),void 0!==this.params.noticenum){for(var g=[],m=this.params.noticenum,v=0;v<m.length;v++)g.push(new u(m[v]));h.push(new a({array:g}))}if(0==h.length)throw new Error("parameter is empty");return new a({array:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},Q(p.asn1.x509.NoticeReference,p.asn1.ASN1Object),p.asn1.x509.DisplayText=function(s){p.asn1.x509.DisplayText.superclass.constructor.call(this,s),this.hT="0c",void 0!==s&&("ia5"===s.type?this.hT="16":"vis"===s.type?this.hT="1a":"bmp"===s.type&&(this.hT="1e"))},Q(p.asn1.x509.DisplayText,p.asn1.DERAbstractString),p.asn1.x509.PolicyMappings=function(s){p.asn1.x509.PolicyMappings.superclass.constructor.call(this,s);var h=p.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var g=this.params,m=[],v=0;v<g.array.length;v++){var E=g.array[v];m.push({seq:[{oid:E[0]},{oid:E[1]}]})}return this.asn1ExtnValue=h({seq:m}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==s&&(this.params=s)},Q(p.asn1.x509.PolicyMappings,p.asn1.x509.Extension),p.asn1.x509.PolicyConstraints=function(s){p.asn1.x509.PolicyConstraints.superclass.constructor.call(this,s);var h=p.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var g=this.params,m=[];return null!=g.reqexp&&m.push({tag:{tagi:"80",obj:{int:g.reqexp}}}),null!=g.inhibit&&m.push({tag:{tagi:"81",obj:{int:g.inhibit}}}),this.asn1ExtnValue=h({seq:m}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==s&&(this.params=s)},Q(p.asn1.x509.PolicyConstraints,p.asn1.x509.Extension),p.asn1.x509.InhibitAnyPolicy=function(s){p.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,s);var h=p.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=h({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==s&&(this.params=s)},Q(p.asn1.x509.InhibitAnyPolicy,p.asn1.x509.Extension),p.asn1.x509.NameConstraints=function(s){p.asn1.x509.NameConstraints.superclass.constructor.call(this,s);var u=p.asn1,h=u.ASN1Util.newObject,g=u.x509.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var m=this.params,v=[];if(null!=m.permit&&null!=m.permit.length){for(var E=[],b=0;b<m.permit.length;b++)E.push(new g(m.permit[b]));v.push({tag:{tagi:"a0",obj:{seq:E}}})}if(null!=m.exclude&&null!=m.exclude.length){var _=[];for(b=0;b<m.exclude.length;b++)_.push(new g(m.exclude[b]));v.push({tag:{tagi:"a1",obj:{seq:_}}})}return this.asn1ExtnValue=h({seq:v}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==s&&(this.params=s)},Q(p.asn1.x509.NameConstraints,p.asn1.x509.Extension),p.asn1.x509.GeneralSubtree=function(s){p.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var a=p.asn1,l=a.x509.GeneralName,h=a.ASN1Util.newObject;this.params=null,this.setByParam=function(g){this.params=g},this.tohex=function(){var g=this.params,m=[new l(g)];return null!=g.min&&m.push({tag:{tagi:"80",obj:{int:g.min}}}),null!=g.max&&m.push({tag:{tagi:"81",obj:{int:g.max}}}),h({seq:m}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.GeneralSubtree,p.asn1.ASN1Object),p.asn1.x509.ExtKeyUsage=function(s){p.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,s);var u=p.asn1;this.setPurposeArray=function(l){this.asn1ExtnValue=new u.DERSequence;for(var h=0;h<l.length;h++){var g=new u.DERObjectIdentifier(l[h]);this.asn1ExtnValue.appendASN1Object(g)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==s&&void 0!==s.array&&this.setPurposeArray(s.array)},Q(p.asn1.x509.ExtKeyUsage,p.asn1.x509.Extension),p.asn1.x509.AuthorityKeyIdentifier=function(s){p.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,s);var u=p.asn1,l=u.DERTaggedObject,h=u.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var m=new Array;this.asn1KID&&m.push(new l({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&m.push(new l({explicit:!1,tag:"a1",obj:new h([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&m.push(new l({explicit:!1,tag:"82",obj:this.asn1CertSN}));var v=new u.DERSequence({array:m});return this.asn1ExtnValue=v,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(m){if(void 0!==m.str||void 0!==m.hex)this.asn1KID=new p.asn1.DEROctetString(m);else if("object"==typeof m&&p.crypto.Util.isKey(m)||"string"==typeof m&&-1!=m.indexOf("BEGIN ")){var v=m;"string"==typeof m&&(v=le.getKey(m));var E=le.getKeyID(v);this.asn1KID=new p.asn1.DEROctetString({hex:E})}},this.setCertIssuerByParam=function(m){void 0!==m.str||void 0!==m.ldapstr||void 0!==m.hex||void 0!==m.certsubject||void 0!==m.certissuer?this.asn1CertIssuer=new p.asn1.x509.X500Name(m):"string"==typeof m&&-1!=m.indexOf("BEGIN ")&&-1!=m.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new p.asn1.x509.X500Name({certissuer:m}))},this.setCertSNByParam=function(m){if(void 0!==m.str||void 0!==m.bigint||void 0!==m.hex)this.asn1CertSN=new p.asn1.DERInteger(m);else if("string"==typeof m&&-1!=m.indexOf("BEGIN ")&&m.indexOf("CERTIFICATE")){var v=new ge;v.readCertPEM(m);var E=v.getSerialNumberHex();this.asn1CertSN=new p.asn1.DERInteger({hex:E})}},this.oid="2.5.29.35",void 0!==s&&(void 0!==s.kid&&this.setKIDByParam(s.kid),void 0!==s.issuer&&this.setCertIssuerByParam(s.issuer),void 0!==s.sn&&this.setCertSNByParam(s.sn),void 0!==s.issuersn&&"string"==typeof s.issuersn&&-1!=s.issuersn.indexOf("BEGIN ")&&s.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(s.issuersn),this.setCertIssuerByParam(s.issuersn)))},Q(p.asn1.x509.AuthorityKeyIdentifier,p.asn1.x509.Extension),p.asn1.x509.SubjectKeyIdentifier=function(s){p.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,s);var l=p.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(h){if(void 0!==h.str||void 0!==h.hex)this.asn1KID=new l(h);else if("object"==typeof h&&p.crypto.Util.isKey(h)||"string"==typeof h&&-1!=h.indexOf("BEGIN")){var g=h;"string"==typeof h&&(g=le.getKey(h));var m=le.getKeyID(g);this.asn1KID=new p.asn1.DEROctetString({hex:m})}},this.oid="2.5.29.14",void 0!==s&&void 0!==s.kid&&this.setKIDByParam(s.kid)},Q(p.asn1.x509.SubjectKeyIdentifier,p.asn1.x509.Extension),p.asn1.x509.AuthorityInfoAccess=function(s){p.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,s),this.setAccessDescriptionArray=function(a){for(var u=new Array,h=p.asn1,g=h.DERSequence,m=h.DERObjectIdentifier,v=h.x509.GeneralName,E=0;E<a.length;E++){var b,_=a[E];if(void 0!==_.ocsp)b=new g({array:[new m({oid:"1.3.6.1.5.5.7.48.1"}),new v({uri:_.ocsp})]});else{if(void 0===_.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(_));b=new g({array:[new m({oid:"1.3.6.1.5.5.7.48.2"}),new v({uri:_.caissuer})]})}u.push(b)}this.asn1ExtnValue=new g({array:u})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==s&&void 0!==s.array&&this.setAccessDescriptionArray(s.array)},Q(p.asn1.x509.AuthorityInfoAccess,p.asn1.x509.Extension),p.asn1.x509.SubjectAltName=function(s){p.asn1.x509.SubjectAltName.superclass.constructor.call(this,s),this.setNameArray=function(a){this.asn1ExtnValue=new p.asn1.x509.GeneralNames(a)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==s&&void 0!==s.array&&this.setNameArray(s.array)},Q(p.asn1.x509.SubjectAltName,p.asn1.x509.Extension),p.asn1.x509.IssuerAltName=function(s){p.asn1.x509.IssuerAltName.superclass.constructor.call(this,s),this.setNameArray=function(a){this.asn1ExtnValue=new p.asn1.x509.GeneralNames(a)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==s&&void 0!==s.array&&this.setNameArray(s.array)},Q(p.asn1.x509.IssuerAltName,p.asn1.x509.Extension),p.asn1.x509.SubjectDirectoryAttributes=function(s){p.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,s);var a=p.asn1,u=a.DERSequence,l=a.ASN1Util.newObject,h=a.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var g=[],m=0;m<this.params.array.length;m++){var v=this.params.array[m];if(null==v.attr||null==v.array){var b={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==v.attr)b.seq[0].oid=h(v.attr),b.seq[1].set[0]={gentime:v.str};else if("placeOfBirth"==v.attr)b.seq[0].oid=h(v.attr),b.seq[1].set[0]={utf8str:v.str};else if("gender"==v.attr)b.seq[0].oid=h(v.attr),b.seq[1].set[0]={prnstr:v.str};else if("countryOfCitizenship"==v.attr)b.seq[0].oid=h(v.attr),b.seq[1].set[0]={prnstr:v.str};else{if("countryOfResidence"!=v.attr)throw new Error("unsupported attribute: "+v.attr);b.seq[0].oid=h(v.attr),b.seq[1].set[0]={prnstr:v.str}}g.push(new l(b))}else g.push(l({seq:[{oid:v.attr},{set:v.array}]}))}var _=new u({array:g});return this.asn1ExtnValue=_,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==s&&(this.params=s)},Q(p.asn1.x509.SubjectDirectoryAttributes,p.asn1.x509.Extension),p.asn1.x509.PrivateExtension=function(s){p.asn1.x509.PrivateExtension.superclass.constructor.call(this,s);var u=p.lang.String.isHex,l=p.asn1,h=l.x509.OID.name2oid,g=l.ASN1Util.newObject;this.params=null,this.setByParam=function(m){this.oid=h(m.extname),this.params=m},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var m=this.params.extn;if("string"==typeof m&&u(m))return m;if("object"==typeof m)try{return g(m).tohex()}catch{}throw new Error("unsupported extn value")},null!=s&&this.setByParam(s)},Q(p.asn1.x509.PrivateExtension,p.asn1.x509.Extension),p.asn1.x509.CRL=function(s){p.asn1.x509.CRL.superclass.constructor.call(this);var u=p.asn1,l=u.DERSequence,h=u.DERBitString,g=u.x509,m=g.AlgorithmIdentifier,v=g.TBSCertList;this.params=void 0,this.setByParam=function(E){this.params=E},this.sign=function(){var E=new v(this.params).tohex(),b=new p.crypto.Signature({alg:this.params.sigalg});b.init(this.params.cakey),b.updateHex(E);var _=b.sign();this.params.sighex=_},this.getPEM=function(){return rt(this.tohex(),"X509 CRL")},this.tohex=function(){var E=this.params;if(null==E.tbsobj&&(E.tbsobj=new v(E)),null==E.sighex&&null!=E.cakey&&this.sign(),null==E.sighex)throw new Error("sighex or cakey parameter not defined");var b=[];return b.push(E.tbsobj),b.push(new m({name:E.sigalg})),b.push(new h({hex:"00"+E.sighex})),new l({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&(this.params=s)},Q(p.asn1.x509.CRL,p.asn1.ASN1Object),p.asn1.x509.TBSCertList=function(s){p.asn1.x509.TBSCertList.superclass.constructor.call(this);var u=p.asn1,l=u.DERInteger,h=u.DERSequence,g=u.DERTaggedObject,v=u.x509,E=v.AlgorithmIdentifier,b=v.Time,_=v.Extensions,x=v.X500Name;this.params=null,this.setByParam=function(w){this.params=w},this.getRevCertSequence=function(){for(var w=[],y=this.params.revcert,I=0;I<y.length;I++){var S=[new l(y[I].sn),new b(y[I].date)];null!=y[I].ext&&S.push(new _(y[I].ext)),w.push(new h({array:S}))}return new h({array:w})},this.tohex=function(){var w=[],y=this.params;if(null!=y.version){var S=new l({int:y.version-1});w.push(S)}if(w.push(new E({name:y.sigalg})),w.push(new x(y.issuer)),w.push(new b(y.thisupdate)),null!=y.nextupdate&&w.push(new b(y.nextupdate)),null!=y.revcert&&w.push(this.getRevCertSequence()),null!=y.ext){var F=new _(y.ext);w.push(new g({tag:"a0",explicit:!0,obj:F}))}return new h({array:w}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.TBSCertList,p.asn1.ASN1Object),p.asn1.x509.CRLEntry=function(s){p.asn1.x509.CRLEntry.superclass.constructor.call(this);var h=p.asn1;this.setCertSerial=function(g){this.sn=new h.DERInteger(g)},this.setRevocationDate=function(g){this.time=new h.x509.Time(g)},this.tohex=function(){var g=new h.DERSequence({array:[this.sn,this.time]});return this.TLV=g.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.time&&this.setRevocationDate(s.time),void 0!==s.sn&&this.setCertSerial(s.sn))},Q(p.asn1.x509.CRLEntry,p.asn1.ASN1Object),p.asn1.x509.CRLNumber=function(s){p.asn1.x509.CRLNumber.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new p.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=s&&(this.params=s)},Q(p.asn1.x509.CRLNumber,p.asn1.x509.Extension),p.asn1.x509.CRLReason=function(s){p.asn1.x509.CRLReason.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new p.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=s&&(this.params=s)},Q(p.asn1.x509.CRLReason,p.asn1.x509.Extension),p.asn1.x509.OCSPNonce=function(s){p.asn1.x509.OCSPNonce.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new p.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=s&&(this.params=s)},Q(p.asn1.x509.OCSPNonce,p.asn1.x509.Extension),p.asn1.x509.OCSPNoCheck=function(s){p.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new p.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=s&&(this.params=s)},Q(p.asn1.x509.OCSPNoCheck,p.asn1.x509.Extension),p.asn1.x509.AdobeTimeStamp=function(s){p.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,s);var u=p.asn1,l=u.DERInteger,h=u.DERBoolean,g=u.DERSequence,m=u.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var v=this.params,E=[new l(1)];return E.push(new m({uri:v.uri})),null!=v.reqauth&&E.push(new h(v.reqauth)),this.asn1ExtnValue=new g({array:E}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.AdobeTimeStamp,p.asn1.x509.Extension),p.asn1.x509.X500Name=function(s){p.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var u=p.asn1,l=u.x509,h=l.RDN;this.setByString=function(m,v){void 0!==v&&(this.sRule=v);var E=m.split("/");E.shift();for(var b=[],_=0;_<E.length;_++)if(E[_].match(/^[^=]+=.+$/))b.push(E[_]);else{var x=b.length-1;b[x]=b[x]+"/"+E[_]}for(_=0;_<b.length;_++)this.asn1Array.push(new h({str:b[_],rule:this.sRule}))},this.setByLdapString=function(m,v){void 0!==v&&(this.sRule=v);var E=l.X500Name.ldapToCompat(m);this.setByString(E,v)},this.setByObject=function(m,v){for(var E in void 0!==v&&(this.sRule=v),m)if(m.hasOwnProperty(E)){var b=new h({str:E+"="+m[E],rule:this.sRule});this.asn1Array?this.asn1Array.push(b):this.asn1Array=[b]}},this.setByParam=function(m){if(void 0!==m.rule&&(this.sRule=m.rule),void 0!==m.array)this.paramArray=m.array;else if(void 0!==m.str)this.setByString(m.str);else if(void 0!==m.ldapstr)this.setByLdapString(m.ldapstr);else if(void 0!==m.hex)this.hTLV=m.hex;else if(void 0!==m.certissuer)(v=new ge).readCertPEM(m.certissuer),this.hTLV=v.getIssuerHex();else if(void 0!==m.certsubject){var v;(v=new ge).readCertPEM(m.certsubject),this.hTLV=v.getSubjectHex()}else"object"==typeof m&&void 0===m.certsubject&&void 0===m.certissuer&&this.setByObject(m)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var m=0;m<this.paramArray.length;m++){var v={array:this.paramArray[m]};"utf8"!=this.sRule&&(v.rule=this.sRule);var E=new h(v);this.asn1Array.push(E)}var b=new u.DERSequence({array:this.asn1Array});return this.hTLV=b.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.X500Name,p.asn1.ASN1Object),p.asn1.x509.X500Name.compatToLDAP=function(s){if("/"!==s.substr(0,1))throw"malformed input";var u=(s=s.substr(1)).split("/");return u.reverse(),u=u.map(function(l){return l.replace(/,/,"\\,")}),u.join(",")},p.asn1.x509.X500Name.onelineToLDAP=function(s){return p.asn1.x509.X500Name.compatToLDAP(s)},p.asn1.x509.X500Name.ldapToCompat=function(s){for(var a=s.split(","),u=!1,l=[],h=0;a.length>0;h++){var g=a.shift();if(!0===u){var v=(l.pop()+","+g).replace(/\\,/g,",");l.push(v),u=!1}else l.push(g);"\\"===g.substr(-1,1)&&(u=!0)}return l=l.map(function(E){return E.replace("/","\\/")}),l.reverse(),"/"+l.join("/")},p.asn1.x509.X500Name.ldapToOneline=function(s){return p.asn1.x509.X500Name.ldapToCompat(s)},p.asn1.x509.RDN=function(s){p.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var a=p.asn1.x509.AttributeTypeAndValue;this.setByParam=function(u){void 0!==u.rule&&(this.sRule=u.rule),void 0!==u.str&&this.addByMultiValuedString(u.str),void 0!==u.array&&(this.paramArray=u.array)},this.addByString=function(u){this.asn1Array.push(new p.asn1.x509.AttributeTypeAndValue({str:u,rule:this.sRule}))},this.addByMultiValuedString=function(u){for(var l=p.asn1.x509.RDN.parseString(u),h=0;h<l.length;h++)this.addByString(l[h])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var u=0;u<this.paramArray.length;u++){var l=this.paramArray[u];void 0!==l.rule&&"utf8"!=this.sRule&&(l.rule=this.sRule);var h=new a(l);this.asn1Array.push(h)}var g=new p.asn1.DERSet({array:this.asn1Array});return this.TLV=g.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.RDN,p.asn1.ASN1Object),p.asn1.x509.RDN.parseString=function(s){for(var a=s.split(/\+/),u=!1,l=[],h=0;a.length>0;h++){var g=a.shift();if(!0===u){var v=(l.pop()+"+"+g).replace(/\\\+/g,"+");l.push(v),u=!1}else l.push(g);"\\"===g.substr(-1,1)&&(u=!0)}var E=!1,b=[];for(h=0;l.length>0;h++){if(g=l.shift(),!0===E){var _=b.pop();g.match(/"$/)?(v=(_+"+"+g).replace(/^([^=]+)="(.*)"$/,"$1=$2"),b.push(v),E=!1):b.push(_+"+"+g)}else b.push(g);g.match(/^[^=]+="/)&&(E=!0)}return b},p.asn1.x509.AttributeTypeAndValue=function(s){p.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var u=p.asn1,l=u.DERSequence,h=u.DERUTF8String,g=u.DERPrintableString,m=u.DERTeletexString,v=u.DERIA5String,E=u.DERVisibleString,b=u.DERBMPString,_=p.lang.String.isMail,x=p.lang.String.isPrintable;this.setByParam=function(w){if(void 0!==w.rule&&(this.sRule=w.rule),void 0!==w.ds&&(this.dsType=w.ds),void 0===w.value&&void 0!==w.str){var I=w.str.match(/^([^=]+)=(.+)$/);if(!I)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=I[1],this.sValue=I[2]}else this.sType=w.type,this.sValue=w.value},this.setByString=function(w,y){void 0!==y&&(this.sRule=y);var I=w.match(/^([^=]+)=(.+)$/);if(!I)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(I[1],I[2])},this._getDsType=function(){var w=this.sType,y=this.sValue,I=this.sRule;return"prn"===I?"CN"==w&&_(y)?"ia5":x(y)?"prn":"utf8":"utf8"===I?"CN"==w&&_(y)?"ia5":"C"==w?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(w,y,I){void 0!==I&&(this.sRule=I),this.sType=w,this.sValue=y},this.getValueObj=function(w,y){if("utf8"==w)return new h({str:y});if("prn"==w)return new g({str:y});if("tel"==w)return new m({str:y});if("ia5"==w)return new v({str:y});if("vis"==w)return new E({str:y});if("bmp"==w)return new b({str:y});throw new Error("unsupported directory string type: type="+w+" value="+y)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var w=p.asn1.x509.OID.atype2obj(this.sType),y=this.getValueObj(this.dsType,this.sValue),I=new l({array:[w,y]});return this.TLV=I.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.AttributeTypeAndValue,p.asn1.ASN1Object),p.asn1.x509.SubjectPublicKeyInfo=function(s){p.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var h=p.asn1,g=h.DERInteger,m=h.DERBitString,v=h.DERObjectIdentifier,E=h.DERSequence,b=h.ASN1Util.newObject,x=h.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new E({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var S=this.getASN1Object();return this.hTLV=S.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(S){try{if(S instanceof pe){var C=b({seq:[{int:{bigint:S.n}},{int:{int:S.e}}]}).tohex();this.asn1AlgId=new x({name:"rsaEncryption"}),this.asn1SubjPKey=new m({hex:"00"+C})}}catch{}try{if(S instanceof p.crypto.ECDSA){var M=new v({name:S.curveName});this.asn1AlgId=new x({name:"ecPublicKey",asn1params:M}),this.asn1SubjPKey=new m({hex:"00"+S.pubKeyHex})}}catch{}try{if(S instanceof p.crypto.DSA){M=new b({seq:[{int:{bigint:S.p}},{int:{bigint:S.q}},{int:{bigint:S.g}}]}),this.asn1AlgId=new x({name:"dsa",asn1params:M});var P=new g({bigint:S.y});this.asn1SubjPKey=new m({hex:"00"+P.tohex()})}}catch{}},void 0!==s&&this.setPubKey(s)},Q(p.asn1.x509.SubjectPublicKeyInfo,p.asn1.ASN1Object),p.asn1.x509.Time=function(s){p.asn1.x509.Time.superclass.constructor.call(this);var h=p.asn1,g=h.DERUTCTime,m=h.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(v){this.timeParams=v},this.setByParam=function(v){this.params=v},this.getType=function(v){return v.match(/^[0-9]{12}Z$/)?"utc":v.match(/^[0-9]{14}Z$/)?"gen":v.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":v.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var v=this.params,E=null;if("string"==typeof v&&(v={str:v}),null!=v&&v.str&&(null==v.type||null==v.type)&&(v.type=this.getType(v.str)),null!=v&&v.str?("utc"==v.type&&(E=new g(v.str)),"gen"==v.type&&(E=new m(v.str))):E="gen"==this.type?new m:new g,null==E)throw new Error("wrong setting for Time");return this.TLV=E.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},p.asn1.x509.Time_bak=function(s){p.asn1.x509.Time_bak.superclass.constructor.call(this);var h=p.asn1,g=h.DERUTCTime,m=h.DERGeneralizedTime;this.setTimeParams=function(v){this.timeParams=v},this.tohex=function(){var v=null;return v=null!=this.timeParams?"utc"==this.type?new g(this.timeParams):new m(this.timeParams):"utc"==this.type?new g:new m,this.TLV=v.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==s&&(void 0!==s.type?this.type=s.type:void 0!==s.str&&(s.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),s.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=s)},Q(p.asn1.x509.Time,p.asn1.ASN1Object),p.asn1.x509.AlgorithmIdentifier=function(s){p.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var u=p.asn1,l=u.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var g=null;for(var m in l)m===this.nameAlg&&(g=l[m]);if(null!==g)return this.hTLV=g,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=u.x509.OID.name2obj(this.nameAlg));var v=[this.asn1Alg];null!==this.asn1Params&&v.push(this.asn1Params);var E=new u.DERSequence({array:v});return this.hTLV=E.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.name&&(this.nameAlg=s.name),void 0!==s.asn1params&&(this.asn1Params=s.asn1params),void 0!==s.paramempty&&(this.paramEmpty=s.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var h=this.nameAlg.toLowerCase();"withdsa"!==h.substr(-7,7)&&"withecdsa"!==h.substr(-9,9)&&(this.asn1Params=new u.DERNull)}},Q(p.asn1.x509.AlgorithmIdentifier,p.asn1.ASN1Object),p.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},p.asn1.x509.GeneralName=function(s){p.asn1.x509.GeneralName.superclass.constructor.call(this);var l=p.asn1,h=l.x509,g=h.X500Name,m=h.OtherName,v=l.DERIA5String,b=l.DEROctetString,_=l.DERTaggedObject,x=l.ASN1Object,w=Error;this.params=null,this.setByParam=function(y){this.params=y},this.tohex=function(){var I,S,y=this.params,F=!1;if(void 0!==y.other)I="a0",S=new m(y.other);else if(void 0!==y.rfc822)I="81",S=new v({str:y.rfc822});else if(void 0!==y.dns)I="82",S=new v({str:y.dns});else if(void 0!==y.dn)I="a4",F=!0,S="string"==typeof y.dn?new g({str:y.dn}):y.dn instanceof p.asn1.x509.X500Name?y.dn:new g(y.dn);else if(void 0!==y.ldapdn)I="a4",F=!0,S=new g({ldapstr:y.ldapdn});else if(void 0!==y.certissuer||void 0!==y.certsubj){I="a4",F=!0;var C,M,P=null;if(void 0!==y.certsubj?(C=!1,M=y.certsubj):(C=!0,M=y.certissuer),M.match(/^[0-9A-Fa-f]+$/),-1!=M.indexOf("-----BEGIN ")&&(P=Qe(M)),null==P)throw new Error("certsubj/certissuer not cert");var O,k=new ge;k.hex=P,O=C?k.getIssuerHex():k.getSubjectHex(),(S=new x).hTLV=O}else if(void 0!==y.uri)I="86",S=new v({str:y.uri});else{if(void 0===y.ip)throw new w("improper params");I="87";var G,Y=y.ip;try{if(Y.match(/^[0-9a-f]+$/)){var T=Y.length;if(8!=T&&16!=T&&32!=T&&64!=T)throw"err";G=Y}else G=Ro(Y)}catch(L){throw new w("malformed IP address: "+y.ip+":"+L.message)}S=new b({hex:G})}return new _({tag:I,explicit:F,obj:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.GeneralName,p.asn1.ASN1Object),p.asn1.x509.GeneralNames=function(s){p.asn1.x509.GeneralNames.superclass.constructor.call(this);var l=p.asn1;this.setByParamArray=function(h){for(var g=0;g<h.length;g++){var m=new l.x509.GeneralName(h[g]);this.asn1Array.push(m)}},this.tohex=function(){return new l.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof s<"u"&&this.setByParamArray(s)},Q(p.asn1.x509.GeneralNames,p.asn1.ASN1Object),p.asn1.x509.OtherName=function(s){p.asn1.x509.OtherName.superclass.constructor.call(this);var h=p.asn1,g=h.DERObjectIdentifier,m=h.DERSequence,v=h.ASN1Util.newObject;this.params=null,this.setByParam=function(E){this.params=E},this.tohex=function(){var E=this.params;if(null==E.oid||null==E.value)throw new Error("oid or value not specified");var b=new g({oid:E.oid}),_=v({tag:{tag:"a0",explicit:!0,obj:E.value}});return new m({array:[b,_]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.x509.OtherName,p.asn1.ASN1Object),p.asn1.x509.OID=new function(){var s=p.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(a){if(typeof this.objCache[a]<"u")return this.objCache[a];if(typeof this.name2oidList[a]>"u")throw"Name of ObjectIdentifier not defined: "+a;var l=new s({oid:this.name2oidList[a]});return this.objCache[a]=l,l},this.atype2obj=function(a){if(void 0!==this.objCache[a])return this.objCache[a];var u;if(a.match(/^\d+\.\d+\.[0-9.]+$/))u=a;else if(void 0!==this.atype2oidList[a])u=this.atype2oidList[a];else{if(void 0===this.name2oidList[a])throw new Error("AttributeType name undefined: "+a);u=this.name2oidList[a]}var l=new s({oid:u});return this.objCache[a]=l,l},this.registerOIDs=function(a){if(this.checkOIDs(a))for(var u in a)this.name2oidList[u]=a[u]},this.checkOIDs=function(a){try{var u=Object.keys(a);return 0!=u.length&&(u.map(function(l,h,g){if(!this[l].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},a),!0)}catch{return!1}}},p.asn1.x509.OID.oid2name=function(s){var a=p.asn1.x509.OID.name2oidList;for(var u in a)if(a[u]==s)return u;return""},p.asn1.x509.OID.oid2atype=function(s){var a=p.asn1.x509.OID.atype2oidList;for(var u in a)if(a[u]==s)return u;return s},p.asn1.x509.OID.name2oid=function(s){if(s.match(/^[0-9.]+$/))return s;var a=p.asn1.x509.OID.name2oidList;return void 0===a[s]?"":a[s]},p.asn1.x509.X509Util={},p.asn1.x509.X509Util.newCertPEM=function(s){return new(0,p.asn1.x509.Certificate)(s).getPEM()},(typeof p>"u"||!p)&&(p={}),(typeof p.asn1>"u"||!p.asn1)&&(p.asn1={}),(typeof p.asn1.cms>"u"||!p.asn1.cms)&&(p.asn1.cms={}),p.asn1.cms.Attribute=function(s){var a=Error,l=p.asn1,h=l.DERSequence,g=l.DERSet,m=l.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(v){this.params=v},this.getValueArray=function(){throw new a("not yet implemented abstract")},this.tohex=function(){var v=new m({oid:this.typeOid}),E=new g({array:this.getValueArray()});return new h({array:[v,E]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},Q(p.asn1.cms.Attribute,p.asn1.ASN1Object),p.asn1.cms.ContentType=function(s){var u=p.asn1;u.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new u.DERObjectIdentifier(this.params.type)]},null!=s&&this.setByParam(s)},Q(p.asn1.cms.ContentType,p.asn1.cms.Attribute),p.asn1.cms.MessageDigest=function(s){var u=p.asn1,l=u.DEROctetString;u.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new l(this.params)]},null!=s&&this.setByParam(s)},Q(p.asn1.cms.MessageDigest,p.asn1.cms.Attribute),p.asn1.cms.SigningTime=function(s){var u=p.asn1;u.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new u.x509.Time(this.params)]},null!=s&&this.setByParam(s)},Q(p.asn1.cms.SigningTime,p.asn1.cms.Attribute),p.asn1.cms.SigningCertificate=function(s){var a=Error,l=p.asn1,h=l.DERSequence,g=l.cms,m=g.ESSCertID;g.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new a("parameter 'array' not specified");for(var E=this.params.array,b=[],_=0;_<E.length;_++){var x=E[_];0==s.hasis&&"string"==typeof x&&(-1!=x.indexOf("-----BEGIN")||ne.isASN1HEX(x))&&(x={cert:x}),0!=x.hasis&&0==s.hasis&&(x.hasis=!1),b.push(new m(x))}var w=new h({array:b});return[new h({array:[w]})]},null!=s&&this.setByParam(s)},Q(p.asn1.cms.SigningCertificate,p.asn1.cms.Attribute),p.asn1.cms.ESSCertID=function(s){p.asn1.cms.ESSCertID.superclass.constructor.call(this);var a=Error,u=p,l=u.asn1,h=l.DEROctetString,g=l.DERSequence,m=l.cms.IssuerSerial;this.params=null,this.getCertHash=function(v,E){if(null!=v.hash)return v.hash;if("string"==typeof v&&-1==v.indexOf("-----BEGIN")&&!ne.isASN1HEX(v))return v;var b,_,x;if("string"==typeof v)b=v;else{if(null==v.cert)throw new a("hash nor cert unspecified");b=v.cert}if(_=-1!=b.indexOf("-----BEGIN")?Qe(b):b,"string"==typeof v&&(-1!=v.indexOf("-----BEGIN")?_=Qe(v):ne.isASN1HEX(v)&&(_=v)),null!=v.alg)x=v.alg;else{if(null==E)throw new a("hash alg unspecified");x=E}return u.crypto.Util.hashHex(_,x)},this.tohex=function(){var v=this.params,E=this.getCertHash(v,"sha1"),b=[];return b.push(new h({hex:E})),("string"==typeof v&&-1!=v.indexOf("-----BEGIN")||null!=v.cert&&0!=v.hasis||null!=v.issuer&&null!=v.serial)&&b.push(new m(v)),new g({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.ESSCertID,p.asn1.ASN1Object),p.asn1.cms.SigningCertificateV2=function(s){var a=Error,l=p.asn1,h=l.DERSequence,m=l.cms,v=m.ESSCertIDv2;m.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new a("parameter 'array' not specified");for(var b=this.params.array,_=[],x=0;x<b.length;x++){var w=b[x];(null!=s.alg||0==s.hasis)&&"string"==typeof w&&(-1!=w.indexOf("-----BEGIN")||ne.isASN1HEX(w))&&(w={cert:w}),null==w.alg&&null!=s.alg&&(w.alg=s.alg),0!=w.hasis&&0==s.hasis&&(w.hasis=!1),_.push(new v(w))}var y=new h({array:_});return[new h({array:[y]})]},null!=s&&this.setByParam(s)},Q(p.asn1.cms.SigningCertificateV2,p.asn1.cms.Attribute),p.asn1.cms.ESSCertIDv2=function(s){p.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var l=p.asn1,h=l.DEROctetString,g=l.DERSequence,m=l.cms.IssuerSerial,v=l.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var E=this.params,b=this.getCertHash(E,"sha256"),_=[];return null!=E.alg&&"sha256"!=E.alg&&_.push(new v({name:E.alg})),_.push(new h({hex:b})),("string"==typeof E&&-1!=E.indexOf("-----BEGIN")||null!=E.cert&&0!=E.hasis||null!=E.issuer&&null!=E.serial)&&_.push(new m(E)),new g({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.ESSCertIDv2,p.asn1.cms.ESSCertID),p.asn1.cms.IssuerSerial=function(s){var a=Error,l=p.asn1,h=l.DERInteger,g=l.DERSequence,E=l.x509.GeneralNames,b=ge;l.cms.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(_){this.params=_},this.tohex=function(){var x,w,_=this.params;if("string"==typeof _&&-1!=_.indexOf("-----BEGIN")||null!=_.cert){var y;y=null!=_.cert?_.cert:_;var I=new b;I.readCertPEM(y),x=I.getIssuer(),w={hex:I.getSerialNumberHex()}}else{if(null==_.issuer||!_.serial)throw new a("cert or issuer and serial parameter not specified");x=_.issuer,w=_.serial}var S=new E([{dn:x}]),F=new h(w);return new g({array:[S,F]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.IssuerSerial,p.asn1.ASN1Object),p.asn1.cms.SignerIdentifier=function(s){var g=p.asn1.cms,m=g.IssuerAndSerialNumber,v=g.SubjectKeyIdentifier;Error,g.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var w=this.params;if("isssn"==w.type)return new m(w).tohex();if("skid"==w.type)return new v(w).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.SignerIdentifier,p.asn1.ASN1Object),p.asn1.cms.IssuerAndSerialNumber=function(s){var u=p.asn1,l=u.DERInteger,h=u.DERSequence,v=u.x509.X500Name,E=ge,b=Error;u.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var x,w,_=this.params;if("string"==typeof _&&-1!=_.indexOf("-----BEGIN")||null!=_.cert){var y;y=null!=_.cert?_.cert:_;var I=new E;I.readCertPEM(y),x=I.getIssuer(),w={hex:I.getSerialNumberHex()}}else{if(null==_.issuer||!_.serial)throw new b("cert or issuer and serial parameter not specified");x=_.issuer,w=_.serial}var S=new v(x),F=new l(w);return new h({array:[S,F]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(_){this.params=_},null!=s&&this.setByParam(s)},Q(p.asn1.cms.IssuerAndSerialNumber,p.asn1.ASN1Object),p.asn1.cms.SubjectKeyIdentifier=function(s){var u=p.asn1,g=u.ASN1Util.newObject,x=ge,w=Error;u.cms.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var I,y=this.params;if(null==y.cert&&null==y.skid)throw new w("property cert nor skid undefined");return null!=y.cert?I=new x(y.cert).getExtSubjectKeyIdentifier().kid.hex:null!=y.skid&&(I=y.skid),g({tag:{tage:"a0",obj:{octstr:{hex:I}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.SubjectKeyIdentifier,p.asn1.ASN1Object),p.asn1.cms.AttributeList=function(s){var a=Error,l=p.asn1,h=l.DERSet,g=l.cms;g.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(m){this.params=m},this.tohex=function(){var m=this.params;if(null!=this.hTLV)return this.hTLV;var v=!0;null!=m.sortflag&&(v=m.sortflag);for(var E=m.array,b=[],_=0;_<E.length;_++){var x=E[_],w=x.attr;if("contentType"==w)b.push(new g.ContentType(x));else if("messageDigest"==w)b.push(new g.MessageDigest(x));else if("signingTime"==w)b.push(new g.SigningTime(x));else if("signingCertificate"==w)b.push(new g.SigningCertificate(x));else if("signingCertificateV2"==w)b.push(new g.SigningCertificateV2(x));else if("signaturePolicyIdentifier"==w)b.push(new p.asn1.cades.SignaturePolicyIdentifier(x));else{if("signatureTimeStamp"!=w&&"timeStampToken"!=w)throw new a("unknown attr: "+w);b.push(new p.asn1.cades.SignatureTimeStamp(x))}}var y=new h({array:b,sortflag:v});return this.hTLV=y.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.AttributeList,p.asn1.ASN1Object),p.asn1.cms.SignerInfo=function(s){var a=Error,l=p.asn1,h=l.DERInteger,g=l.DEROctetString,m=l.DERSequence,v=l.DERTaggedObject,E=l.cms,b=E.SignerIdentifier,_=E.AttributeList,F=l.x509.AlgorithmIdentifier,C=p.crypto,M=le;E.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var P=this.params,k=P.sigalg,O=new _(P.sattrs).tohex(),G=M.getKey(P.signkey),Y=new C.Signature({alg:k});Y.init(G),Y.updateHex(O);var T=Y.sign();P.sighex=T},this.tohex=function(){var P=this.params,k=[];if(k.push(new h({int:P.version})),k.push(new b(P.id)),k.push(new F({name:P.hashalg})),null!=P.sattrs){var O=new _(P.sattrs);try{k.push(new v({tag:"a0",explicit:!1,obj:O}))}catch(Y){throw new a("si sattr error: "+Y)}}if(k.push(new F(null!=P.sigalgfield?{name:P.sigalgfield}:{name:P.sigalg})),null==P.sighex&&null!=P.signkey&&this.sign(),k.push(new g({hex:P.sighex})),null!=P.uattrs){O=new _(P.uattrs);try{k.push(new v({tag:"a1",explicit:!1,obj:O}))}catch(T){throw new a("si uattr error: "+T)}}return new m({array:k}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.SignerInfo,p.asn1.ASN1Object),p.asn1.cms.EncapsulatedContentInfo=function(s){var u=p.asn1,l=u.DERTaggedObject,h=u.DERSequence,g=u.DERObjectIdentifier,m=u.DEROctetString;u.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var E=this.params,b=[];if(b.push(new g(E.type)),null!=E.content&&(null!=E.content.hex||null!=E.content.str)&&1!=E.isDetached){var _=new m(E.content),x=new l({tag:"a0",explicit:!0,obj:_});b.push(x)}return new h({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(E){this.params=E},null!=s&&this.setByParam(s)},Q(p.asn1.cms.EncapsulatedContentInfo,p.asn1.ASN1Object),p.asn1.cms.ContentInfo=function(s){var u=p.asn1,l=u.DERTaggedObject,h=u.DERSequence,g=u.DERObjectIdentifier;p.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var E=this.params,b=[];b.push(new g(E.type));var _=new l({tag:"a0",explicit:!0,obj:E.obj});return b.push(_),new h({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(E){this.params=E},null!=s&&this.setByParam(s)},Q(p.asn1.cms.ContentInfo,p.asn1.ASN1Object),p.asn1.cms.SignedData=function(s){Error;var l=p.asn1,g=l.DERInteger,m=l.DERSet,v=l.DERSequence,b=l.cms,_=b.EncapsulatedContentInfo,x=b.SignerInfo,w=b.ContentInfo,y=b.CertificateSet,I=b.RevocationInfoChoices,F=l.x509.AlgorithmIdentifier;p.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var C=this.params;this._setDigestAlgs(C),this._setContentTypeByEContent(C),this._setMessageDigestByEContent(C),this._setSignerInfoVersion(C),this._setSignedDataVersion(C)},this._setDigestAlgs=function(C){for(var M={},P=C.sinfos,k=0;k<P.length;k++)M[P[k].hashalg]=1;C.hashalgs=Object.keys(M).sort()},this._setContentTypeByEContent=function(C){for(var M=C.econtent.type,P=C.sinfos,k=0;k<P.length;k++)this._getAttrParamByName(P[k],"contentType").type=M},this._setMessageDigestByEContent=function(C){var M=C.econtent,k=M.content.hex;null==k&&"data"==M.type&&null!=M.content.str&&(k=un(M.content.str));for(var O=C.sinfos,G=0;G<O.length;G++){var Y=O[G],T=Y.hashalg,R=this._getAttrParamByName(Y,"messageDigest"),L=p.crypto.Util.hashHex(k,T);R.hex=L}},this._getAttrParamByName=function(C,M){for(var P=C.sattrs.array,k=0;k<P.length;k++)if(P[k].attr==M)return P[k]},this._setSignerInfoVersion=function(C){for(var M=C.sinfos,P=0;P<M.length;P++){var k=M[P],O=1;"skid"==k.id.type&&(O=3),k.version=O}},this._setSignedDataVersion=function(C){var M=this._getSignedDataVersion(C);C.version=M},this._getSignedDataVersion=function(C){if(null!=C.revinfos)for(var M=C.revinfos,P=0;P<M.length;P++)if(null!=M[P].ocsp)return 5;var O=C.sinfos;for(P=0;P<O.length;P++)if(3==C.sinfos[P].version)return 3;return"data"!=C.econtent.type?3:1},this.tohex=function(){var C=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=C.fixed&&this.checkAndFixParam();var M=[];M.push(new g({int:C.version}));for(var P=[],k=0;k<C.hashalgs.length;k++)P.push(new F({name:C.hashalgs[k]}));M.push(new m({array:P})),M.push(new _(C.econtent)),null!=C.certs&&M.push(new y(C.certs)),null!=C.revinfos&&M.push(new I(C.revinfos));var G=[];for(k=0;k<C.sinfos.length;k++)G.push(new x(C.sinfos[k]));return M.push(new m({array:G})),new v({array:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new w({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.SignedData,p.asn1.ASN1Object),p.asn1.cms.CertificateSet=function(s){p.asn1.cms.CertificateSet.superclass.constructor.call(this);var a=Error,u=p.asn1,l=u.DERTaggedObject,h=u.DERSet,g=u.ASN1Object;this.params=null,this.tohex=function(){var E,m=this.params,v=[];if(m instanceof Array)E=m;else{if(null==m.array)throw new a("cert array not specified");E=m.array}for(var b=0;b<E.length;b++){var x=Qe(E[b]),w=new g;w.hTLV=x,v.push(w)}var y={array:v};0==m.sortflag&&(y.sortflag=!1);var I=new h(y);return new l({tag:"a0",explicit:!1,obj:I}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.CertificateSet,p.asn1.ASN1Object),p.asn1.cms.RevocationInfoChoices=function(s){p.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params;if(!a instanceof Array)throw new Error("params is not array");for(var u=[],l=0;l<a.length;l++)u.push(new p.asn1.cms.RevocationInfoChoice(a[l]));return p.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:u}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.RevocationInfoChoices,p.asn1.ASN1Object),p.asn1.cms.RevocationInfoChoice=function(s){p.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params;if(null!=a.crl&&"string"==typeof a.crl){var u=a.crl;return-1!=a.crl.indexOf("-----BEGIN")&&(u=Qe(a.crl)),u}if(null!=a.ocsp)return p.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new p.asn1.cms.OtherRevocationFormat(a)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.RevocationInfoChoice,p.asn1.ASN1Object),p.asn1.cms.OtherRevocationFormat=function(s){p.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var a=Error,h=p.asn1.ASN1Util.newObject,g=p.lang.String.isHex;this.params=null,this.tohex=function(){var m=this.params;if(null==m.ocsp)throw new a("property ocsp not specified");if(!g(m.ocsp)||!ne.isASN1HEX(m.ocsp))throw new a("ocsp value not ASN.1 hex string");return h({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:m.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cms.OtherRevocationFormat,p.asn1.ASN1Object),p.asn1.cms.CMSUtil=new function(){},p.asn1.cms.CMSUtil.newSignedData=function(s){return new p.asn1.cms.SignedData(s)},p.asn1.cms.CMSUtil.verifySignedData=function(s){var y=ne.getVbyList,I=ne.getTLVbyList,S=ne.getIdxbyList,F=ne.getChildIdx,C=ne.getTLV,M=ne.oidname,P=p.crypto.Util.hashHex;void 0===s.cms&&(0,p.lang.String.isHex)(s.cms);var k=s.cms,Y=function($,q){var W=q.idx;q.signerid_issuer1=I($,W,[1,0],"30"),q.signerid_serial1=y($,W,[1,1],"02"),q.hashalg=M(y($,W,[2,0],"06"));var de=S($,W,[3],"a0");q.idxSignedAttrs=de,T($,q,de);var ue=F($,W).length;if(ue<6)throw"malformed SignerInfo";q.sigalg=M(y($,W,[ue-2,0],"06")),q.sigval=y($,W,[ue-1],"04")},T=function($,q,W){var de=F($,W);q.signedAttrIdxList=de;for(var ce=0;ce<de.length;ce++){var Se,ue=de[ce],Ae=y($,ue,[0],"06");"2a864886f70d010905"===Ae?(Se=re(y($,ue,[1,0])),q.saSigningTime=Se):"2a864886f70d010904"===Ae&&(Se=y($,ue,[1,0],"04"),q.saMessageDigest=Se)}},V=function($,q,W,de){W.verifyDetail={};var ce=W.verifyDetail,ue=q.parse.econtent,Ae=W.hashalg,Se=W.saMessageDigest;ce.validMessageDigest=!1,P(ue,Ae)===Se&&(ce.validMessageDigest=!0),function($,q,W,de){var ue,ce=q.parse.certsIdx;if(void 0===q.certs){ue=[],q.certkeys=[];for(var Ae=F($,ce),Se=0;Se<Ae.length;Se++){var je=C($,Ae[Se]),_e=new ge;_e.readCertHex(je),ue[Se]=_e,q.certkeys[Se]=_e.getPublicKey()}q.certs=ue}else ue=q.certs;for(q.cccc=ue.length,q.cccci=Ae.length,Se=0;Se<ue.length;Se++){var Dt=_e.getIssuerHex(),Wt=_e.getSerialNumberHex();W.signerid_issuer1===Dt&&W.signerid_serial1===Wt&&(W.certkey_idx=Se)}}($,q,W),ce.validSignatureValue=!1;var je=W.sigalg,_e="31"+C($,W.idxSignedAttrs).substr(2);W.signedattrshex=_e;var Dt=q.certs[W.certkey_idx].getPublicKey(),Wt=new p.crypto.Signature({alg:je});Wt.init(Dt),Wt.updateHex(_e);var Tt=Wt.verify(W.sigval);ce.validSignatureValue_isValid=Tt,!0===Tt&&(ce.validSignatureValue=!0),W.isValid=!1,ce.validMessageDigest&&ce.validSignatureValue&&(W.isValid=!0)},H={isValid:!1,parse:{}};return function($,q){if("2a864886f70d010702"!==y($,0,[0],"06"))return q;q.cmsType="signedData",q.econtent=y($,0,[1,0,2,1,0]),function($,q){for(var W,de=3;de<6;de++)if(void 0!==(W=S($,0,[1,0,de]))){var ce=$.substr(W,2);"a0"===ce&&(q.certsIdx=W),"a1"===ce&&(q.revinfosIdx=W),"31"===ce&&(q.signerinfosIdx=W)}}($,q),q.signerInfos=[],function($,q){var W=q.signerinfosIdx;if(void 0!==W){var de=F($,W);q.signerInfoIdxList=de;for(var ce=0;ce<de.length;ce++){var Ae={idx:de[ce]};Y($,Ae),q.signerInfos.push(Ae)}}}($,q)}(k,H.parse),function($,q){for(var W=q.parse.signerInfos,de=W.length,ce=!0,ue=0;ue<de;ue++){var Ae=W[ue];V($,q,Ae),Ae.isValid||(ce=!1)}q.isValid=ce}(k,H),H},p.asn1.cms.CMSParser=function(){var s=Error,a=ge,u=new a,l=ne,h=l.getV,g=l.getTLV,v=l.getTLVbyList,E=l.getTLVbyListEx,b=l.getVbyList,_=l.getVbyListEx,x=l.getChildIdx;this.getCMSSignedData=function(w){var y=v(w,0,[1,0]);return this.getSignedData(y)},this.getSignedData=function(w){var y=x(w,0),I={},S=h(w,y[0]),F=parseInt(S,16);I.version=F;var C=g(w,y[1]);I.hashalgs=this.getHashAlgArray(C);var M=g(w,y[2]);I.econtent=this.getEContent(M);var P=E(w,0,["[0]"]);null!=P&&(I.certs=this.getCertificateSet(P)),E(w,0,["[1]"]);var O=E(w,0,[3]);return I.sinfos=this.getSignerInfos(O),I},this.getHashAlgArray=function(w){for(var y=x(w,0),I=new a,S=[],F=0;F<y.length;F++){var C=g(w,y[F]),M=I.getAlgorithmIdentifierName(C);S.push(M)}return S},this.getEContent=function(w){var y={},I=b(w,0,[0]),S=b(w,0,[1,0]);return y.type=p.asn1.x509.OID.oid2name(ne.hextooidstr(I)),y.content={hex:S},y},this.getSignerInfos=function(w){for(var y=[],I=x(w,0),S=0;S<I.length;S++){var F=g(w,I[S]),C=this.getSignerInfo(F);y.push(C)}return y},this.getSignerInfo=function(w){var y={},I=x(w,0),S=l.getInt(w,I[0],-1);-1!=S&&(y.version=S);var F=g(w,I[1]),C=this.getIssuerAndSerialNumber(F);y.id=C;var M=g(w,I[2]),P=u.getAlgorithmIdentifierName(M);y.hashalg=P;var k=E(w,0,["[0]"]);if(null!=k){var O=this.getAttributeList(k);y.sattrs=O}var G=E(w,0,[3]),Y=u.getAlgorithmIdentifierName(G);y.sigalg=Y;var T=_(w,0,[4]);y.sighex=T;var R=E(w,0,["[1]"]);if(null!=R){var L=this.getAttributeList(R);y.uattrs=L}return y},this.getSignerIdentifier=function(w){if("30"==w.substr(0,2))return this.getIssuerAndSerialNumber(w);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(w){var y={type:"isssn"},I=x(w,0),S=g(w,I[0]);y.issuer=u.getX500Name(S);var F=h(w,I[1]);return y.serial={hex:F},y},this.getAttributeList=function(w){for(var y=[],I=x(w,0),S=0;S<I.length;S++){var F=g(w,I[S]),C=this.getAttribute(F);y.push(C)}return{array:y}},this.getAttribute=function(w){var y={},I=x(w,0),S=l.getOID(w,I[0]),F=p.asn1.x509.OID.oid2name(S);y.attr=F;var C=g(w,I[1]),M=x(C,0);if(1==M.length)y.valhex=g(C,M[0]);else{for(var P=[],k=0;k<M.length;k++)P.push(g(C,M[k]));y.valhex=P}return"contentType"==F?this.setContentType(y):"messageDigest"==F?this.setMessageDigest(y):"signingTime"==F?this.setSigningTime(y):"signingCertificate"==F?this.setSigningCertificate(y):"signingCertificateV2"==F?this.setSigningCertificateV2(y):"signaturePolicyIdentifier"==F&&this.setSignaturePolicyIdentifier(y),y},this.setContentType=function(w){var y=l.getOIDName(w.valhex,0,null);null!=y&&(w.type=y,delete w.valhex)},this.setSigningTime=function(w){var I=re(h(w.valhex,0));w.str=I,delete w.valhex},this.setMessageDigest=function(w){var y=h(w.valhex,0);w.hex=y,delete w.valhex},this.setSigningCertificate=function(w){var y=x(w.valhex,0);if(y.length>0){for(var I=g(w.valhex,y[0]),S=x(I,0),F=[],C=0;C<S.length;C++){var M=g(I,S[C]),P=this.getESSCertID(M);F.push(P)}w.array=F}if(y.length>1){var k=g(w.valhex,y[1]);w.polhex=k}delete w.valhex},this.setSignaturePolicyIdentifier=function(w){var y=x(w.valhex,0);if(y.length>0){var I=l.getOID(w.valhex,y[0]);w.oid=I}if(y.length>1){var S=new a,F=x(w.valhex,y[1]),C=g(w.valhex,F[0]),M=S.getAlgorithmIdentifierName(C);w.alg=M;var P=h(w.valhex,F[1]);w.hash=P}delete w.valhex},this.setSigningCertificateV2=function(w){var y=x(w.valhex,0);if(y.length>0){for(var I=g(w.valhex,y[0]),S=x(I,0),F=[],C=0;C<S.length;C++){var M=g(I,S[C]),P=this.getESSCertIDv2(M);F.push(P)}w.array=F}if(y.length>1){var k=g(w.valhex,y[1]);w.polhex=k}delete w.valhex},this.getESSCertID=function(w){var y={},I=x(w,0);if(I.length>0){var S=h(w,I[0]);y.hash=S}if(I.length>1){var F=g(w,I[1]),C=this.getIssuerSerial(F);null!=C.serial&&(y.serial=C.serial),null!=C.issuer&&(y.issuer=C.issuer)}return y},this.getESSCertIDv2=function(w){var y={},I=x(w,0);if(I.length<1||3<I.length)throw new s("wrong number of elements");var S=0;if("30"==w.substr(I[0],2)){var F=g(w,I[0]);y.alg=u.getAlgorithmIdentifierName(F),S++}else y.alg="sha256";var C=h(w,I[S]);if(y.hash=C,I.length>S+1){var M=g(w,I[S+1]),P=this.getIssuerSerial(M);y.issuer=P.issuer,y.serial=P.serial}return y},this.getIssuerSerial=function(w){var y={},I=x(w,0),S=g(w,I[0]),F=u.getGeneralNames(S);y.issuer=F[0].dn;var M=h(w,I[1]);return y.serial={hex:M},y},this.getCertificateSet=function(w){for(var y=x(w,0),I=[],S=0;S<y.length;S++){var F=g(w,y[S]);if("30"==F.substr(0,2)){var C=rt(F,"CERTIFICATE");I.push(C)}}return{array:I,sortflag:!1}}},(typeof p>"u"||!p)&&(p={}),(typeof p.asn1>"u"||!p.asn1)&&(p.asn1={}),(typeof p.asn1.tsp>"u"||!p.asn1.tsp)&&(p.asn1.tsp={}),p.asn1.tsp.TimeStampToken=function(s){var l=p.asn1.tsp;l.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var h=new l.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=h.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.tsp.TimeStampToken,p.asn1.cms.SignedData),p.asn1.tsp.TSTInfo=function(s){Error;var l=p.asn1,h=l.DERSequence,g=l.DERInteger,m=l.DERBoolean,v=l.DERGeneralizedTime,E=l.DERObjectIdentifier,b=l.DERTaggedObject,_=l.tsp,x=_.MessageImprint,w=_.Accuracy,I=l.x509.GeneralName;if(_.TSTInfo.superclass.constructor.call(this),this.dVersion=new g({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var S=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(S.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(S.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(S.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");S.push(this.dGenTime),null!=this.dAccuracy&&S.push(this.dAccuracy),null!=this.dOrdering&&S.push(this.dOrdering),null!=this.dNonce&&S.push(this.dNonce),null!=this.dTsa&&S.push(this.dTsa);var F=new h({array:S});return this.hTLV=F.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s){if("string"==typeof s.policy){if(!s.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new E({oid:s.policy})}void 0!==s.messageImprint&&(this.dMessageImprint=new x(s.messageImprint)),void 0!==s.serial&&(this.dSerial=new g(s.serial)),void 0!==s.genTime&&(this.dGenTime=new v(s.genTime)),void 0!==s.accuracy&&(this.dAccuracy=new w(s.accuracy)),void 0!==s.ordering&&1==s.ordering&&(this.dOrdering=new m),void 0!==s.nonce&&(this.dNonce=new g(s.nonce)),void 0!==s.tsa&&(this.dTsa=new b({tag:"a0",explicit:!0,obj:new I({dn:s.tsa})}))}},Q(p.asn1.tsp.TSTInfo,p.asn1.ASN1Object),p.asn1.tsp.Accuracy=function(s){var u=p.asn1,l=u.ASN1Util.newObject;u.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params,g=[];return null!=h.seconds&&"number"==typeof h.seconds&&g.push({int:h.seconds}),null!=h.millis&&"number"==typeof h.millis&&g.push({tag:{tagi:"80",obj:{int:h.millis}}}),null!=h.micros&&"number"==typeof h.micros&&g.push({tag:{tagi:"81",obj:{int:h.micros}}}),l({seq:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.tsp.Accuracy,p.asn1.ASN1Object),p.asn1.tsp.MessageImprint=function(s){var u=p.asn1,l=u.DERSequence,h=u.DEROctetString,m=u.x509.AlgorithmIdentifier;u.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,E=new m({name:v.alg}),b=new h({hex:v.hash});return new l({array:[E,b]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.tsp.MessageImprint,p.asn1.ASN1Object),p.asn1.tsp.TimeStampReq=function(s){var u=p.asn1,l=u.DERSequence,h=u.DERInteger,g=u.DERBoolean,v=u.DERObjectIdentifier,E=u.tsp,b=E.MessageImprint;E.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var _=this.params,x=[];return x.push(new h({int:1})),x.push(_.messageImprint instanceof p.asn1.ASN1Object?_.messageImprint:new b(_.messageImprint)),null!=_.policy&&x.push(new v(_.policy)),null!=_.nonce&&x.push(new h(_.nonce)),1==_.certreq&&x.push(new g),new l({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.tsp.TimeStampReq,p.asn1.ASN1Object),p.asn1.tsp.TimeStampResp=function(s){var u=p.asn1,l=u.DERSequence,g=u.tsp,m=g.PKIStatusInfo;g.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,E=[];if(null!=v.econtent||null!=v.tst)if(E.push(new m(null!=v.statusinfo?v.statusinfo:"granted")),null!=v.econtent)E.push(new g.TimeStampToken(v).getContentInfo());else{if(!(v.tst instanceof u.ASN1Object))throw new Error("improper member tst value");E.push(v.tst)}else{if(null==v.statusinfo)throw new Error("parameter for token nor statusinfo not specified");E.push(new m(v.statusinfo))}return new l({array:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.tsp.TimeStampResp,p.asn1.ASN1Object),p.asn1.tsp.PKIStatusInfo=function(s){var a=Error,l=p.asn1,h=l.DERSequence,g=l.tsp,m=g.PKIStatus,v=g.PKIFreeText,E=g.PKIFailureInfo;g.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var b=this.params,_=[];if("string"==typeof b)_.push(new m(b));else{if(null==b.status)throw new a("property 'status' unspecified");_.push(new m(b.status)),null!=b.statusstr&&_.push(new v(b.statusstr)),null!=b.failinfo&&_.push(new E(b.failinfo))}return new h({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.tsp.PKIStatusInfo,p.asn1.ASN1Object),p.asn1.tsp.PKIStatus=function(s){var a=Error,l=p.asn1,h=l.DERInteger;l.tsp.PKIStatus.superclass.constructor.call(this);var m={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var b,v=this.params;if("string"==typeof v)try{b=m[v]}catch{throw new a("undefined name: "+v)}else{if("number"!=typeof v)throw new a("unsupported params");b=v}return new h({int:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.tsp.PKIStatus,p.asn1.ASN1Object),p.asn1.tsp.PKIFreeText=function(s){var a=Error,l=p.asn1,h=l.DERSequence,g=l.DERUTF8String;l.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(!v instanceof Array)throw new a("wrong params: not array");for(var E=[],b=0;b<v.length;b++)E.push(new g({str:v[b]}));return new h({array:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.tsp.PKIFreeText,p.asn1.ASN1Object),p.asn1.tsp.PKIFailureInfo=function(s){var a=Error,l=p.asn1,h=l.DERBitString,v={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};l.tsp.PKIFailureInfo.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var E=this.params,b=0;if("number"==typeof E&&0<=E&&E<=25){for(var _=(b|=1<<E).toString(2),x="",w=_.length-1;w>=0;w--)x+=_[w];return x}if("string"==typeof E&&null!=v[E])return mi([E],v);if("object"==typeof E&&null!=E.length)return mi(E,v);throw new a("wrong params")},this.tohex=function(){var b=this.getBinValue();return new h({bin:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.tsp.PKIFailureInfo,p.asn1.ASN1Object),p.asn1.tsp.AbstractTSAAdapter=function(s){this.getTSTHex=function(a,u){throw"not implemented yet"}},p.asn1.tsp.SimpleTSAAdapter=function(s){var l=p.asn1.tsp,h=p.crypto.Util.hashHex;l.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(g,m){var v=h(g,m);this.params.econtent.content.messageImprint={alg:m,hash:v},this.params.econtent.content.serial={int:this.serial++};var E=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:E},new l.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==s&&(this.params=s)},Q(p.asn1.tsp.SimpleTSAAdapter,p.asn1.tsp.AbstractTSAAdapter),p.asn1.tsp.FixedTSAAdapter=function(s){var l=p.asn1.tsp,h=p.crypto.Util.hashHex;l.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(g,m){var v=h(g,m);return this.params.econtent.content.messageImprint={alg:m,hash:v},new l.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==s&&(this.params=s)},Q(p.asn1.tsp.FixedTSAAdapter,p.asn1.tsp.AbstractTSAAdapter),p.asn1.tsp.TSPUtil=new function(){},p.asn1.tsp.TSPUtil.newTimeStampToken=function(s){return new p.asn1.tsp.TimeStampToken(s)},p.asn1.tsp.TSPUtil.parseTimeStampReq=function(s){return(new p.asn1.tsp.TSPParser).getTimeStampReq(s)},p.asn1.tsp.TSPUtil.parseMessageImprint=function(s){return(new p.asn1.tsp.TSPParser).getMessageImprint(s)},p.asn1.tsp.TSPParser=function(){Error;var u=new ge,l=ne,h=l.getV,g=l.getTLV,m=l.getIdxbyList,E=l.getChildIdx,b=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],_={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(x){var w=E(x,0);if(1==w.length)return this.getPKIStatusInfo(g(x,w[0]));if(w.length>1){var y=this.getPKIStatusInfo(g(x,w[0])),I=g(x,w[1]),S=this.getToken(I);return S.statusinfo=y,S}},this.getToken=function(x){var y=(new p.asn1.cms.CMSParser).getCMSSignedData(x);return this.setTSTInfo(y),y},this.setTSTInfo=function(x){var w=x.econtent;if("tstinfo"==w.type){var I=this.getTSTInfo(w.content.hex);w.content=I}},this.getTSTInfo=function(x){var w={},y=E(x,0),I=h(x,y[1]);w.policy=wn(I);var S=g(x,y[2]);w.messageImprint=this.getMessageImprint(S);var F=h(x,y[3]);w.serial={hex:F};var C=h(x,y[4]);w.genTime={str:re(C)};var M=0;if(y.length>5&&"30"==x.substr(y[5],2)){var P=g(x,y[5]);w.accuracy=this.getAccuracy(P),M++}if(y.length>5+M&&"01"==x.substr(y[5+M],2)&&("ff"==h(x,y[5+M])&&(w.ordering=!0),M++),y.length>5+M&&"02"==x.substr(y[5+M],2)){var O=h(x,y[5+M]);w.nonce={hex:O},M++}if(y.length>5+M&&"a0"==x.substr(y[5+M],2)){var G=g(x,y[5+M]);G="30"+G.substr(2),pGeneralNames=u.getGeneralNames(G);var Y=pGeneralNames[0].dn;w.tsa=Y,M++}if(y.length>5+M&&"a1"==x.substr(y[5+M],2)){var T=g(x,y[5+M]);T="30"+T.substr(2);var R=u.getExtParamArray(T);w.ext=R,M++}return w},this.getAccuracy=function(x){for(var w={},y=E(x,0),I=0;I<y.length;I++){var S=x.substr(y[I],2),F=h(x,y[I]),C=parseInt(F,16);"02"==S?w.seconds=C:"80"==S?w.millis=C:"81"==S&&(w.micros=C)}return w},this.getMessageImprint=function(x){if("30"!=x.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var w={},I=(E(x,0),m(x,0,[0,0])),S=h(x,I),F=l.hextooidstr(S),C=p.asn1.x509.OID.oid2name(F);if(""==C)throw new Error("hashAlg name undefined: "+F);var M=C,P=m(x,0,[1]);return w.alg=M,w.hash=h(x,P),w},this.getPKIStatusInfo=function(x){var w={},y=E(x,0),I=0;try{var S=h(x,y[0]),F=parseInt(S,16);w.status=b[F]}catch{}if(y.length>1&&"30"==x.substr(y[1],2)){var C=g(x,y[1]);w.statusstr=this.getPKIFreeText(C),I++}if(y.length>I&&"03"==x.substr(y[1+I],2)){var M=g(x,y[1+I]);w.failinfo=this.getPKIFailureInfo(M)}return w},this.getPKIFreeText=function(x){for(var w=[],y=E(x,0),I=0;I<y.length;I++)w.push(l.getString(x,y[I]));return w},this.getPKIFailureInfo=function(x){var w=l.getInt(x,0);return null!=_[w]?_[w]:w},this.getTimeStampReq=function(x){var w={certreq:!1},y=E(x,0);if(y.length<2)throw new Error("TimeStampReq must have at least 2 items");var I=g(x,y[1]);w.messageImprint=p.asn1.tsp.TSPUtil.parseMessageImprint(I);for(var S=2;S<y.length;S++){var F=y[S],C=x.substr(F,2);if("06"==C){var M=h(x,F);w.policy=l.hextooidstr(M)}"02"==C&&(w.nonce=h(x,F)),"01"==C&&(w.certreq=!0)}return w}},(typeof p>"u"||!p)&&(p={}),(typeof p.asn1>"u"||!p.asn1)&&(p.asn1={}),(typeof p.asn1.cades>"u"||!p.asn1.cades)&&(p.asn1.cades={}),p.asn1.cades.SignaturePolicyIdentifier=function(s){var l=p.asn1.cades,h=l.SignaturePolicyId;l.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new h(this.params)]},this.setByParam=function(g){this.params=g},null!=s&&this.setByParam(s)},Q(p.asn1.cades.SignaturePolicyIdentifier,p.asn1.cms.Attribute),p.asn1.cades.SignaturePolicyId=function(s){var u=p.asn1,l=u.DERSequence,h=u.DERObjectIdentifier,v=u.cades,b=v.OtherHashAlgAndValue;v.SignaturePolicyId.superclass.constructor.call(this),this.params=null,this.tohex=function(){var _=this.params,x=[];return x.push(new h(_.oid)),x.push(new b(_)),new l({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(_){this.params=_},null!=s&&this.setByParam(s)},Q(p.asn1.cades.SignaturePolicyId,p.asn1.ASN1Object),p.asn1.cades.OtherHashAlgAndValue=function(s){var a=Error,l=p.asn1,h=l.DERSequence,g=l.DEROctetString,v=l.x509.AlgorithmIdentifier;l.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var _=this.params;if(null==_.alg)throw new a("property 'alg' not specified");if(null==_.hash&&null==_.cert)throw new a("property 'hash' nor 'cert' not specified");var x=null;if(null!=_.hash)x=_.hash;else if(null!=_.cert){if("string"!=typeof _.cert)throw new a("cert not string");var w=_.cert;-1!=_.cert.indexOf("-----BEGIN")&&(w=Qe(_.cert)),x=p.crypto.Util.hashHex(w,_.alg)}var y=[];return y.push(new v({name:_.alg})),y.push(new g({hex:x})),new h({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cades.OtherHashAlgAndValue,p.asn1.ASN1Object),p.asn1.cades.OtherHashValue=function(s){p.asn1.cades.OtherHashValue.superclass.constructor.call(this);var a=Error,g=p.asn1.DEROctetString;this.params=null,this.tohex=function(){var v=this.params;if(null==v.hash&&null==v.cert)throw new a("hash or cert not specified");var E=null;if(null!=v.hash)E=v.hash;else if(null!=v.cert){if("string"!=typeof v.cert)throw new a("cert not string");var b=v.cert;-1!=v.cert.indexOf("-----BEGIN")&&(b=Qe(v.cert)),E=p.crypto.Util.hashHex(b,"sha1")}return new g({hex:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cades.OtherHashValue,p.asn1.ASN1Object),p.asn1.cades.SignatureTimeStamp=function(s){var a=Error,l=p.lang.String.isHex,h=p.asn1,g=h.ASN1Object;h.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var E=this.params;if(null!=E.tst){if(l(E.tst))return(b=new g).hTLV=E.tst,[b];if(E.tst instanceof g)return[E.tst];throw new a("params.tst has wrong value")}if(null!=E.res){var b,_=E.res;if(_ instanceof g&&(_=_.tohex()),"string"!=typeof _||!l(_))throw new a("params.res has wrong value");return ne.getTLVbyList(_,0,[1]),(b=new g).hTLV=E.tst,[b]}},null!=s&&this.setByParam(s)},Q(p.asn1.cades.SignatureTimeStamp,p.asn1.cms.Attribute),p.asn1.cades.CompleteCertificateRefs=function(s){var a=Error,l=p.asn1,h=l.DERSequence,g=l.cades,m=g.OtherCertID,v=p.lang.String.isHex;g.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var E=this.params,b=[],_=0;_<E.array.length;_++){var x=E.array[_];if("string"==typeof x)if(-1!=x.indexOf("-----BEGIN"))x={cert:x};else{if(!v(x))throw new a("unsupported value: "+x);x={hash:x}}null!=E.alg&&null==x.alg&&(x.alg=E.alg),null!=E.hasis&&null==x.hasis&&(x.hasis=E.hasis);var w=new m(x);b.push(w)}return[new h({array:b})]},null!=s&&this.setByParam(s)},Q(p.asn1.cades.CompleteCertificateRefs,p.asn1.cms.Attribute),p.asn1.cades.OtherCertID=function(s){var u=p.asn1,l=u.DERSequence,g=u.cms.IssuerSerial,m=u.cades,v=m.OtherHashValue,E=m.OtherHashAlgAndValue;m.OtherCertID.superclass.constructor.call(this),this.params=s,this.tohex=function(){var b=this.params;"string"==typeof b&&(-1!=b.indexOf("-----BEGIN")?b={cert:b}:_isHex(b)&&(b={hash:b}));var x,_=[];if(x=null!=b.alg?new E(b):new v(b),_.push(x),null!=b.cert&&1==b.hasis||null!=b.issuer&&null!=b.serial){var w=new g(b);_.push(w)}return new l({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cades.OtherCertID,p.asn1.ASN1Object),p.asn1.cades.OtherHash=function(s){Error;var g=p.asn1.cades,m=g.OtherHashAlgAndValue,v=g.OtherHashValue,b=p.lang.String.isHex;g.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var _=this.params;return"string"==typeof _&&(-1!=_.indexOf("-----BEGIN")?_={cert:_}:b(_)&&(_={hash:_})),(null!=_.alg?new m(_):new v(_)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.cades.OtherHash,p.asn1.ASN1Object),p.asn1.cades.CAdESUtil=new function(){},p.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(s){return(new p.asn1.cms.CMSParser).getCMSSignedData(s)},p.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(s,a,u){var g=ne.getTLV,m=ne.getV,E=p.asn1,b=E.ASN1Object,_=E.cms,x=_.AttributeList,w=_.SignerInfo,y={},I=(0,ne.getChildIdx)(s,a);if(6!=I.length)throw"not supported items for SignerInfo (!=6)";var S=I.shift();y.version=g(s,S);var F=I.shift();y.si=g(s,F);var C=I.shift();y.digalg=g(s,C);var M=I.shift();y.sattrs=g(s,M);var P=I.shift();y.sigalg=g(s,P);var k=I.shift();y.sig=g(s,k),y.sigval=m(s,k);var O=null;return y.obj=new w,(O=new b).hTLV=y.version,y.obj.dCMSVersion=O,(O=new b).hTLV=y.si,y.obj.dSignerIdentifier=O,(O=new b).hTLV=y.digalg,y.obj.dDigestAlgorithm=O,(O=new b).hTLV=y.sattrs,y.obj.dSignedAttrs=O,(O=new b).hTLV=y.sigalg,y.obj.dSigAlg=O,(O=new b).hTLV=y.sig,y.obj.dSig=O,y.obj.dUnsignedAttrs=new x,y},(typeof p.asn1.csr>"u"||!p.asn1.csr)&&(p.asn1.csr={}),p.asn1.csr.CertificationRequest=function(s){var u=p.asn1,l=u.DERBitString,h=u.DERSequence,g=u.csr,v=g.CertificationRequestInfo;g.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(E){this.params=E},this.sign=function(){var E=new v(this.params).tohex(),b=new p.crypto.Signature({alg:this.params.sigalg});b.init(this.params.sbjprvkey),b.updateHex(E);var _=b.sign();this.params.sighex=_},this.getPEM=function(){return rt(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var E=this.params,b=new p.asn1.csr.CertificationRequestInfo(this.params),_=new p.asn1.x509.AlgorithmIdentifier({name:E.sigalg});if(null==E.sighex&&null!=E.sbjprvkey&&this.sign(),null==E.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var x=new l({hex:"00"+E.sighex});return new h({array:[b,_,x]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.csr.CertificationRequest,p.asn1.ASN1Object),p.asn1.csr.CertificationRequestInfo=function(s){var u=p.asn1,h=u.DERSequence,g=u.DERInteger,m=u.DERUTF8String,v=u.DERTaggedObject,E=u.ASN1Util.newObject,_=u.x509,x=_.X500Name,w=_.Extensions,y=_.SubjectPublicKeyInfo;u.csr.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(F){null!=F&&(this.params=F)},this.tohex=function(){var F=this.params,C=[];if(C.push(new g({int:0})),C.push(new x(F.subject)),C.push(new y(le.getKey(F.sbjpubkey))),null!=F.attrs){var M=function S(F){for(var C=Error,M=p.asn1.x509.Extensions,P=[],k=0;k<F.length;k++){var O=F[k],G=O.attr;if("extensionRequest"==G){var Y=new M(O.ext);P.push({seq:[{oid:"1.2.840.113549.1.9.14"},{set:[Y]}]})}else if("unstructuredName"==G)P.push({seq:[{oid:"1.2.840.113549.1.9.2"},{set:O.names}]});else{if("challengePassword"!=G)throw new C("unknown CSR attribute");P.push({seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:O.password}]}]})}}return{set:P}}(F.attrs),P=E({tag:{tage:"a0",obj:M}});C.push(P)}else if(null!=F.extreq){var k=new w(F.extreq);P=E({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[k]}]}}}),C.push(P)}else C.push(new v({tag:"a0",explicit:!1,obj:new m({str:""})}));return new h({array:C}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},Q(p.asn1.csr.CertificationRequestInfo,p.asn1.ASN1Object),p.asn1.csr.AttributeList=function(s){},Q(p.asn1.csr.AttributeList,p.asn1.ASN1Object),p.asn1.csr.CSRUtil=new function(){},p.asn1.csr.CSRUtil.newCSRPEM=function(s){return new p.asn1.csr.CertificationRequest(s).getPEM()},p.asn1.csr.CSRUtil.getParam=function(s,a){var l=ne.getV,h=ne.getIdxbyList,g=ne.getTLVbyList,m=ne.getTLVbyListEx,v=ne.getVbyListEx,b={};if(-1==s.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var _=Qe(s,"CERTIFICATE REQUEST");a&&(b.tbs=g(_,0,[0]));try{var x=m(_,0,[0,1]);if("3000"==x)b.subject={};else{var S=new ge;b.subject=S.getX500Name(x)}}catch{}var w=m(_,0,[0,2]),y=le.getKey(w,null,"pkcs8pub");b.sbjpubkey=le.getPEM(y,"PKCS8PUB");var M,P,I=(P=h(M=_,0,[0,3,0,0],"06"),"2a864886f70d01090e"!=l(M,P)?null:g(M,0,[0,3,0,1,0],"30"));S=new ge,null!=I&&(b.extreq=S.getExtParamArray(I));try{var F=m(_,0,[1],"30");S=new ge,b.sigalg=S.getAlgorithmIdentifierName(F)}catch{}try{var C=v(_,0,[2]);b.sighex=C}catch{}return b},p.asn1.csr.CSRUtil.verifySignature=function(s){try{var a=null;if("string"==typeof s&&-1!=s.indexOf("-----BEGIN CERTIFICATE REQUEST")?a=p.asn1.csr.CSRUtil.getParam(s,!0):"object"==typeof s&&null!=s.sbjpubkey&&null!=s.sigalg&&null!=s.sighex&&null!=s.tbs&&(a=s),null==a)return!1;var u=new p.crypto.Signature({alg:a.sigalg});return u.init(a.sbjpubkey),u.updateHex(a.tbs),u.verify(a.sighex)}catch(l){return alert(l),!1}},(typeof p>"u"||!p)&&(p={}),(typeof p.asn1>"u"||!p.asn1)&&(p.asn1={}),(typeof p.asn1.ocsp>"u"||!p.asn1.ocsp)&&(p.asn1.ocsp={}),p.asn1.ocsp.DEFAULT_HASH="sha1",p.asn1.ocsp.OCSPResponse=function(s){p.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var u=p.asn1.ASN1Util.newObject,l=p.asn1.ocsp.ResponseBytes,h=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var g=this.params.resstatus;return"number"==typeof g?g:"string"!=typeof g?-1:h.indexOf(g)},this.setByParam=function(g){this.params=g},this.tohex=function(){var g=this.params,m=this._getStatusCode();if(-1==m)throw new Error("responseStatus not supported: "+g.resstatus);if(0!=m)return u({seq:[{enum:{int:m}}]}).tohex();var v=new l(g);return u({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:v}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.OCSPResponse,p.asn1.ASN1Object),p.asn1.ocsp.ResponseBytes=function(s){p.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var a=p.asn1,u=a.DERSequence,l=a.DERObjectIdentifier,h=a.DEROctetString,g=a.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(m){this.params=m},this.tohex=function(){var m=this.params;if("ocspBasic"!=m.restype)throw new Error("not supported responseType: "+m.restype);var v=new g(m),E=[];return E.push(new l({name:"ocspBasic"})),E.push(new h({hex:v.tohex()})),new u({array:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.ResponseBytes,p.asn1.ASN1Object),p.asn1.ocsp.BasicOCSPResponse=function(s){p.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var a=Error,u=p.asn1,l=u.ASN1Object,h=u.DERSequence,m=u.DERTaggedObject,v=u.DERBitString,b=u.x509.AlgorithmIdentifier,_=u.ocsp;_SingleResponseList=_.SingleResponseList,_ResponseData=_.ResponseData,this.params=null,this.setByParam=function(w){this.params=w},this.sign=function(){var w=this.params,y=w.tbsresp.tohex(),I=new p.crypto.Signature({alg:w.sigalg});I.init(w.reskey),I.updateHex(y),w.sighex=I.sign()},this.tohex=function(){var w=this.params;null==w.tbsresp&&(w.tbsresp=new _ResponseData(w)),null==w.sighex&&null!=w.reskey&&this.sign();var y=[];if(y.push(w.tbsresp),y.push(new b({name:w.sigalg})),y.push(new v({hex:"00"+w.sighex})),null!=w.certs&&null!=w.certs.length){for(var I=[],S=0;S<w.certs.length;S++){var F=w.certs[S],C=null;if(ne.isASN1HEX(F))C=F;else{if(!F.match(/-----BEGIN/))throw new a("certs["+S+"] not hex or PEM");C=Qe(F)}I.push(new l({tlv:C}))}var M=new h({array:I});y.push(new m({tag:"a0",explicit:!0,obj:M}))}return new h({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.BasicOCSPResponse,p.asn1.ASN1Object),p.asn1.ocsp.ResponseData=function(s){p.asn1.ocsp.ResponseData.superclass.constructor.call(this);var a=Error,u=p.asn1,l=u.DERSequence,h=u.DERGeneralizedTime,g=u.DERTaggedObject,m=u.x509.Extensions,v=u.ocsp,E=v.ResponderID;_SingleResponseList=v.SingleResponseList,this.params=null,this.tohex=function(){var b=this.params;null!=b.respid&&new a("respid not specified"),null!=b.prodat&&new a("prodat not specified"),null!=b.array&&new a("array not specified");var _=[];if(_.push(new E(b.respid)),_.push(new h(b.prodat)),_.push(new _SingleResponseList(b.array)),null!=b.ext){var x=new m(b.ext);_.push(new g({tag:"a1",explicit:!0,obj:x}))}return new l({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(b){this.params=b},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.ResponseData,p.asn1.ASN1Object),p.asn1.ocsp.ResponderID=function(s){p.asn1.ocsp.ResponderID.superclass.constructor.call(this);var u=p.asn1,l=u.ASN1Util.newObject,h=u.x509.X500Name,g=p.lang.String.isHex,m=Error;this.params=null,this.tohex=function(){var v=this.params;if(null!=v.key){var E=null;if("string"==typeof v.key)g(v.key)&&(E=v.key),v.key.match(/-----BEGIN CERTIFICATE/)&&null!=(_=new ge(v.key).getExtSubjectKeyIdentifier())&&(E=_.kid.hex);else if(v.key instanceof ge){var _;null!=(_=v.key.getExtSubjectKeyIdentifier())&&(E=_.kid.hex)}if(null==E)throw new m("wrong key member value");return l({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:E}}}}).tohex()}if(null!=v.name){var w=null;if("string"==typeof v.name&&v.name.match(/-----BEGIN CERTIFICATE/)?w=new ge(v.name).getSubject():v.name instanceof ge?w=v.name.getSubject():"object"==typeof v.name&&(null!=v.name.array||null!=v.name.str)&&(w=v.name),null==w)throw new m("wrong name member value");return l({tag:{tag:"a1",explicit:!0,obj:new h(w)}}).tohex()}throw new m("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.ResponderID,p.asn1.ASN1Object),p.asn1.ocsp.SingleResponseList=function(s){p.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var a=p.asn1,u=a.DERSequence,l=a.ocsp.SingleResponse;this.params=null,this.tohex=function(){var h=this.params;if("object"!=typeof h||null==h.length)throw new Error("params not specified properly");for(var g=[],m=0;m<h.length;m++)g.push(new l(h[m]));return new u({array:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(h){this.params=h},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.SingleResponseList,p.asn1.ASN1Object),p.asn1.ocsp.SingleResponse=function(s){var a=Error,l=p.asn1,h=l.DERSequence,g=l.DERGeneralizedTime,m=l.DERTaggedObject,v=l.ocsp,E=v.CertID,b=v.CertStatus,x=l.x509.Extensions;v.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var w=this.params,y=[];if(null==w.certid)throw new a("certid unspecified");if(null==w.status)throw new a("status unspecified");if(null==w.thisupdate)throw new a("thisupdate unspecified");if(y.push(new E(w.certid)),y.push(new b(w.status)),y.push(new g(w.thisupdate)),null!=w.nextupdate){var I=new g(w.nextupdate);y.push(new m({tag:"a0",explicit:!0,obj:I}))}if(null!=w.ext){var S=new x(w.ext);y.push(new m({tag:"a1",explicit:!0,obj:S}))}return new h({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(w){this.params=w},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.SingleResponse,p.asn1.ASN1Object),p.asn1.ocsp.CertID=function(s){var u=p.asn1,l=u.DEROctetString,h=u.DERInteger,g=u.DERSequence,v=u.x509.AlgorithmIdentifier,x=p.crypto.Util.hashHex,w=ge,I=ne.getVbyList;u.ocsp.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(S,F,C,M){null==M&&(M=this.DEFAULT_HASH),this.params={alg:M,issname:S,isskey:F,sbjsn:C}},this.setByCert=function(S,F,C){null==C&&(C=this.DEFAULT_HASH),this.params={alg:C,issuerCert:S,subjectCert:F}},this.getParamByCerts=function(S,F,C){null==C&&(C=this.DEFAULT_HASH);var M=new w(S),P=new w(F),k=x(M.getSubjectHex(),C),O=M.getPublicKeyHex();return{alg:C,issname:k,isskey:x(I(O,0,[1],"03",!0),C),sbjsn:P.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var F,C,M,P,S=this.params;if(P=null==S.alg?this.DEFAULT_HASH:S.alg,null!=S.issuerCert&&null!=S.subjectCert){var k=this.getParamByCerts(S.issuerCert,S.subjectCert,P);F=k.issname,C=k.isskey,M=k.sbjsn}else{if(null==S.issname||null==S.isskey||null==S.sbjsn)throw new Error("required param members not defined");F=S.issname,C=S.isskey,M=S.sbjsn}var O=new v({name:P}),G=new l({hex:F}),Y=new l({hex:C}),T=new h({hex:M}),R=new g({array:[O,G,Y,T]});return this.hTLV=R.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.CertID,p.asn1.ASN1Object),p.asn1.ocsp.CertStatus=function(s){p.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params;if("good"==a.status)return"8000";if("unknown"==a.status)return"8200";if("revoked"==a.status){var u=[{gentime:{str:a.time}}];return null!=a.reason&&u.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:a.reason}}}}),p.asn1.ASN1Util.newObject({tag:{tag:"a1",explicit:!1,obj:{seq:u}}}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(a){this.params=a},void 0!==s&&this.setByParam(s)},Q(p.asn1.ocsp.CertStatus,p.asn1.ASN1Object),p.asn1.ocsp.Request=function(s){var u=p.asn1,l=u.DERSequence,h=u.ocsp;if(h.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var m=[];if(null===this.dReqCert)throw"reqCert not set";m.push(this.dReqCert);var v=new l({array:m});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof s<"u"){var g=new h.CertID(s);this.dReqCert=g}},Q(p.asn1.ocsp.Request,p.asn1.ASN1Object),p.asn1.ocsp.TBSRequest=function(s){var u=p.asn1,l=u.DERSequence,h=u.ocsp;h.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(g){for(var m=[],v=0;v<g.length;v++){var E=new h.Request(g[0]);m.push(E)}this.dRequestList=m},this.tohex=function(){var g=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var m=new l({array:this.dRequestList});if(g.push(m),null!==this.dRequestExt)throw"requestExtensions not supported";var v=new l({array:g});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&void 0!==s.reqList&&this.setRequestListByParam(s.reqList)},Q(p.asn1.ocsp.TBSRequest,p.asn1.ASN1Object),p.asn1.ocsp.OCSPRequest=function(s){var u=p.asn1,l=u.DERSequence,h=u.ocsp;if(h.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var m=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(m.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var v=new l({array:m});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&void 0!==s.reqList){var g=new h.TBSRequest(s);this.dTbsRequest=g}},Q(p.asn1.ocsp.OCSPRequest,p.asn1.ASN1Object),p.asn1.ocsp.OCSPUtil={},p.asn1.ocsp.OCSPUtil.getRequestHex=function(s,a,u){var g=p.asn1.ocsp;return void 0===u&&(u=g.DEFAULT_HASH),new g.OCSPRequest({reqList:[{alg:u,issuerCert:s,subjectCert:a}]}).tohex()},p.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(s){var u=ne.getVbyList,l=ne.getVbyListEx,h=ne.getIdxbyList,m=ne.getV,v={};try{var E=l(s,0,[0],"0a");v.responseStatus=parseInt(E,16)}catch{}if(0!==v.responseStatus)return v;try{var b=h(s,0,[1,0,1,0,0,2,0,1]);"80"===s.substr(b,2)?v.certStatus="good":"a1"===s.substr(b,2)?(v.certStatus="revoked",v.revocationTime=re(u(s,b,[0]))):"82"===s.substr(b,2)&&(v.certStatus="unknown")}catch{}try{var _=h(s,0,[1,0,1,0,0,2,0,2]);v.thisUpdate=re(m(s,_))}catch{}try{var x=h(s,0,[1,0,1,0,0,2,0,3]);"a0"===s.substr(x,2)&&(v.nextUpdate=re(u(s,x,[0])))}catch{}return v},p.asn1.ocsp.OCSPParser=function(){var s=Error,a=ge,u=new a,h=ne.getV,g=ne.getTLV,m=ne.getIdxbyList,v=ne.getVbyList,E=ne.getTLVbyList,b=ne.getVbyListEx,_=ne.getTLVbyListEx,x=ne.getChildIdx;this.getOCSPRequest=function(w){var y=x(w,0);if(1!=y.length&&2!=y.length)throw new s("wrong number elements: "+y.length);return this.getTBSRequest(g(w,y[0]))},this.getTBSRequest=function(w){var y={},I=_(w,0,[0],"30");y.array=this.getRequestList(I);var S=_(w,0,["[2]",0],"30");return null!=S&&(y.ext=u.getExtParamArray(S)),y},this.getRequestList=function(w){for(var y=[],I=x(w,0),S=0;S<I.length;S++)w=g(w,I[S]),y.push(this.getRequest(w));return y},this.getRequest=function(w){var y=x(w,0);if(1!=y.length&&2!=y.length)throw new s("wrong number elements: "+y.length);var I=this.getCertID(g(w,y[0]));if(2==y.length){var S=m(w,0,[1,0]);I.ext=u.getExtParamArray(g(w,S))}return I},this.getCertID=function(w){var y=x(w,0);if(4!=y.length)throw new s("wrong number elements: "+y.length);var I=new a,S={};return S.alg=I.getAlgorithmIdentifierName(g(w,y[0])),S.issname=h(w,y[1]),S.isskey=h(w,y[2]),S.sbjsn=h(w,y[3]),S},this.getOCSPResponse=function(w){var I,y=x(w,0),S=h(w,y[0]),F=parseInt(S);if(1==y.length)return{resstatus:F};var C=E(w,0,[1,0]);return(I=this.getResponseBytes(C)).resstatus=F,I},this.getResponseBytes=function(w){var I,y=x(w,0),S=E(w,0,[1,0]);I=this.getBasicOCSPResponse(S);var F=h(w,y[0]);return I.restype=p.asn1.x509.OID.oid2name(wn(F)),I},this.getBasicOCSPResponse=function(w){var I,y=x(w,0);I=this.getResponseData(g(w,y[0]));var S=new ge;I.alg=S.getAlgorithmIdentifierName(g(w,y[1]));var F=h(w,y[2]);I.sighex=F.substr(2);var C=b(w,0,["[0]"]);if(null!=C){for(var M=x(C,0),P=[],k=0;k<M.length;k++){var O=g(C,M[k]);P.push(O)}I.certs=P}return I},this.getResponseData=function(w){var y=x(w,0),I=y.length,S={},F=0;"a0"==w.substr(y[0],2)&&F++,S.respid=this.getResponderID(g(w,y[F++]));var C=h(w,y[F++]);if(S.prodat=re(C),S.array=this.getSingleResponseList(g(w,y[F++])),"a1"==w.substr(y[I-1],2)){var M=E(w,y[I-1],[0]),P=new ge;S.ext=P.getExtParamArray(M)}return S},this.getResponderID=function(w){var y={};if("a2"==w.substr(0,2)){var I=v(w,0,[0]);y.key=I}if("a1"==w.substr(0,2)){var S=E(w,0,[0]),F=new ge;y.name=F.getX500Name(S)}return y},this.getSingleResponseList=function(w){for(var y=x(w,0),I=[],S=0;S<y.length;S++){var F=this.getSingleResponse(g(w,y[S]));I.push(F)}return I},this.getSingleResponse=function(w){var y=x(w,0),I={},S=this.getCertID(g(w,y[0]));I.certid=S;var F=this.getCertStatus(g(w,y[1]));if(I.status=F,"18"==w.substr(y[2],2)){var C=h(w,y[2]);I.thisupdate=re(C)}for(var M=3;M<y.length;M++){if("a0"==w.substr(y[M],2)){var P=v(w,y[M],[0],"18");I.nextupdate=re(P)}if("a1"==w.substr(y[M],2)){var k=new ge,O=E(w,0,[M,0]);I.ext=k.getExtParamArray(O)}}return I},this.getCertStatus=function(w){var y={};if("8000"==w)return{status:"good"};if("8200"==w)return{status:"unknown"};if("a1"==w.substr(0,2)){y.status="revoked";var S=re(v(w,0,[0]));y.time=S}return y}},(typeof p>"u"||!p)&&(p={}),(typeof p.lang>"u"||!p.lang)&&(p.lang={}),p.lang.String=function(){},"function"==typeof Buffer?(fi=function(s){return Vr(Buffer.from(s,"utf8").toString("base64"))},wt=function(s){return Buffer.from(li(s),"base64").toString("utf8")}):(fi=function(s){return ot(rr(gi(s)))},wt=function(s){return decodeURIComponent(hi(He(s)))}),p.lang.String.isInteger=function(s){return!!s.match(/^[0-9]+$/)||!!s.match(/^-[0-9]+$/)},p.lang.String.isHex=function(s){return xu(s)},p.lang.String.isBase64=function(s){return!(!(s=s.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||s.length%4!=0)},p.lang.String.isBase64URL=function(s){return!s.match(/[+/=]/)&&(s=li(s),p.lang.String.isBase64(s))},p.lang.String.isIntegerArray=function(s){return!!(s=s.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},p.lang.String.isPrintable=function(s){return null!==s.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},p.lang.String.isIA5=function(s){return null!==s.match(/^[\x20-\x21\x23-\x7f]*$/)},p.lang.String.isMail=function(s){return null!==s.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Zi=function(s,a,u){return null==u&&(u="0"),s.length>=a?s:new Array(a-s.length+1).join(u)+s};function mi(s,a){for(var u=0,l=0;l<s.length;l++)u|=1<<a[s[l]];var h=u.toString(2),g="";for(l=h.length-1;l>=0;l--)g+=h[l];return g}function it(s,l,u){if("object"==typeof s){l=String(l).split(".");for(var h=0;h<l.length&&s;h++){var g=l[h];g.match(/^[0-9]+$/)&&(g=parseInt(g)),s=s[g]}return s||!1===s?s:u}}function Q(s,a){var u=function(){};u.prototype=a.prototype,s.prototype=new u,s.prototype.constructor=s,s.superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a)}(typeof p>"u"||!p)&&(p={}),(typeof p.crypto>"u"||!p.crypto)&&(p.crypto={}),p.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:ae.algo.MD5,sha1:ae.algo.SHA1,sha224:ae.algo.SHA224,sha256:ae.algo.SHA256,sha384:ae.algo.SHA384,sha512:ae.algo.SHA512,ripemd160:ae.algo.RIPEMD160},this.getDigestInfoHex=function(s,a){if(typeof this.DIGESTINFOHEAD[a]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+a;return this.DIGESTINFOHEAD[a]+s},this.getPaddedDigestInfoHex=function(s,a,u){var l=this.getDigestInfoHex(s,a),h=u/4;if(l.length+22>h)throw"key is too short for SigAlg: keylen="+u+","+a;for(var m="00"+l,v="",E=h-4-m.length,b=0;b<E;b+=2)v+="ff";return"0001"+v+m},this.hashString=function(s,a){return new p.crypto.MessageDigest({alg:a}).digestString(s)},this.hashHex=function(s,a){return new p.crypto.MessageDigest({alg:a}).digestHex(s)},this.sha1=function(s){return this.hashString(s,"sha1")},this.sha256=function(s){return this.hashString(s,"sha256")},this.sha256Hex=function(s){return this.hashHex(s,"sha256")},this.sha512=function(s){return this.hashString(s,"sha512")},this.sha512Hex=function(s){return this.hashHex(s,"sha512")},this.isKey=function(s){return s instanceof pe||s instanceof p.crypto.DSA||s instanceof p.crypto.ECDSA}},p.crypto.Util.md5=function(s){return new p.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(s)},p.crypto.Util.ripemd160=function(s){return new p.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(s)},p.crypto.Util.SECURERANDOMGEN=new tr,p.crypto.Util.getRandomHexOfNbytes=function(s){var a=new Array(s);return p.crypto.Util.SECURERANDOMGEN.nextBytes(a),Co(a)},p.crypto.Util.getRandomBigIntegerOfNbytes=function(s){return new K(p.crypto.Util.getRandomHexOfNbytes(s),16)},p.crypto.Util.getRandomHexOfNbits=function(s){var a=s%8,l=new Array((s-a)/8+1);return p.crypto.Util.SECURERANDOMGEN.nextBytes(l),l[0]=(255<<a&255^255)&l[0],Co(l)},p.crypto.Util.getRandomBigIntegerOfNbits=function(s){return new K(p.crypto.Util.getRandomHexOfNbits(s),16)},p.crypto.Util.getRandomBigIntegerZeroToMax=function(s){for(var a=s.bitLength();;){var u=p.crypto.Util.getRandomBigIntegerOfNbits(a);if(-1!=s.compareTo(u))return u}},p.crypto.Util.getRandomBigIntegerMinToMax=function(s,a){var u=s.compareTo(a);if(1==u)throw"biMin is greater than biMax";if(0==u)return s;var l=a.subtract(s);return p.crypto.Util.getRandomBigIntegerZeroToMax(l).add(s)},p.crypto.MessageDigest=function(s){this.setAlgAndProvider=function(h,g){if(null!==(h=p.crypto.MessageDigest.getCanonicalAlgName(h))&&void 0===g&&(g=p.crypto.Util.DEFAULTPROVIDER[h]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(h)&&"cryptojs"==g){try{this.md=p.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[h].create()}catch(m){throw"setAlgAndProvider hash alg set fail alg="+h+"/"+m}this.updateString=function(m){this.md.update(m)},this.updateHex=function(m){var v=ae.enc.Hex.parse(m);this.md.update(v)},this.digest=function(){return this.md.finalize().toString(ae.enc.Hex)},this.digestString=function(m){return this.updateString(m),this.digest()},this.digestHex=function(m){return this.updateHex(m),this.digest()}}if(-1!=":sha256:".indexOf(h)&&"sjcl"==g){try{this.md=new sjcl.hash.sha256}catch(m){throw"setAlgAndProvider hash alg set fail alg="+h+"/"+m}this.updateString=function(m){this.md.update(m)},this.updateHex=function(m){var v=sjcl.codec.hex.toBits(m);this.md.update(v)},this.digest=function(){var m=this.md.finalize();return sjcl.codec.hex.fromBits(m)},this.digestString=function(m){return this.updateString(m),this.digest()},this.digestHex=function(m){return this.updateHex(m),this.digest()}}},this.updateString=function(h){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(h){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(h){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(h){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==s&&void 0!==s.alg&&(this.algName=s.alg,void 0===s.prov&&(this.provName=p.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},p.crypto.MessageDigest.getCanonicalAlgName=function(s){return"string"==typeof s&&(s=(s=s.toLowerCase()).replace(/-/,"")),s},p.crypto.MessageDigest.getHashLength=function(s){var a=p.crypto.MessageDigest,u=a.getCanonicalAlgName(s);if(void 0===a.HASHLENGTH[u])throw"not supported algorithm: "+s;return a.HASHLENGTH[u]},p.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},p.crypto.Mac=function(s){this.setAlgAndProvider=function(m,v){if(null==(m=m.toLowerCase())&&(m="hmacsha1"),"hmac"!=(m=m.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+m;void 0===v&&(v=p.crypto.Util.DEFAULTPROVIDER[m]),this.algProv=m+"/"+v;var E=m.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(E)&&"cryptojs"==v){try{this.mac=ae.algo.HMAC.create(p.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[E],this.pass)}catch(_){throw"setAlgAndProvider hash alg set fail hashAlg="+E+"/"+_}this.updateString=function(_){this.mac.update(_)},this.updateHex=function(_){var x=ae.enc.Hex.parse(_);this.mac.update(x)},this.doFinal=function(){return this.mac.finalize().toString(ae.enc.Hex)},this.doFinalString=function(_){return this.updateString(_),this.doFinal()},this.doFinalHex=function(_){return this.updateHex(_),this.doFinal()}}},this.updateString=function(m){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(m){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(m){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(m){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(m){if("string"==typeof m){var v=m;return(m.length%2==1||!m.match(/^[0-9A-Fa-f]+$/))&&(v=un(m)),void(this.pass=ae.enc.Hex.parse(v))}if("object"!=typeof m)throw"KJUR.crypto.Mac unsupported password type: "+m;if(v=null,void 0!==m.hex){if(m.hex.length%2!=0||!m.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+m.hex;v=m.hex}if(void 0!==m.utf8&&(v=Ur(m.utf8)),void 0!==m.rstr&&(v=un(m.rstr)),void 0!==m.b64&&(v=nn(m.b64)),void 0!==m.b64u&&(v=He(m.b64u)),null==v)throw"KJUR.crypto.Mac unsupported password type: "+m;this.pass=ae.enc.Hex.parse(v)},void 0!==s&&(void 0!==s.pass&&this.setPassword(s.pass),void 0!==s.alg&&(this.algName=s.alg,void 0===s.prov&&(this.provName=p.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},p.crypto.Signature=function(s){var a=null;if(this._setAlgNames=function(){var C=this.algName.match(/^(.+)with(.+)$/);C&&(this.mdAlgName=C[1].toLowerCase(),this.pubkeyAlgName=C[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(C,M){for(var P="",k=M/4-C.length,O=0;O<k;O++)P+="0";return P+C},this.setAlgAndProvider=function(C,M){if(this._setAlgNames(),"cryptojs/jsrsa"!=M)throw new Error("provider not supported: "+M);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new p.crypto.MessageDigest({alg:this.mdAlgName})}catch(P){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+P)}this.init=function(P,k){var O=null;try{O=void 0===k?le.getKey(P):le.getKey(P,k)}catch(G){throw"init failed:"+G}if(!0===O.isPrivate)this.prvKey=O,this.state="SIGN";else{if(!0!==O.isPublic)throw"init failed.:"+O;this.pubKey=O,this.state="VERIFY"}},this.updateString=function(P){this.md.updateString(P)},this.updateHex=function(P){this.md.updateHex(P)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==p.crypto.ECDSA&&(this.prvKey=new p.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof pe&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof pe&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof p.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof p.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(P){return this.updateString(P),this.sign()},this.signHex=function(P){return this.updateHex(P),this.sign()},this.verify=function(P){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==p.crypto.ECDSA&&(this.pubKey=new p.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof pe&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,P,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof pe&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,P);if(void 0!==p.crypto.ECDSA&&this.pubKey instanceof p.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,P);if(void 0!==p.crypto.DSA&&this.pubKey instanceof p.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,P);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(C,M){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(C){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(C){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(C){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(C){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=s,void 0!==s&&(void 0!==s.alg&&(this.algName=s.alg,this.provName=void 0===s.prov?p.crypto.Util.DEFAULTPROVIDER[this.algName]:s.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==s.psssaltlen&&(this.pssSaltLen=s.psssaltlen),void 0!==s.prvkeypem)){if(void 0!==s.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{a=le.getKey(s.prvkeypem),this.init(a)}catch(C){throw"fatal error to load pem private key: "+C}}},p.crypto.Cipher=function(s){},p.crypto.Cipher.encrypt=function(s,a,u){if(a instanceof pe&&a.isPublic){var l=p.crypto.Cipher.getAlgByKeyAndName(a,u);if("RSA"===l)return a.encrypt(s);if("RSAOAEP"===l)return a.encryptOAEP(s,"sha1");var h=l.match(/^RSAOAEP(\d+)$/);if(null!==h)return a.encryptOAEP(s,"sha"+h[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+u}throw"Cipher.encrypt: unsupported key or algorithm"},p.crypto.Cipher.decrypt=function(s,a,u){if(a instanceof pe&&a.isPrivate){var l=p.crypto.Cipher.getAlgByKeyAndName(a,u);if("RSA"===l)return a.decrypt(s);if("RSAOAEP"===l)return a.decryptOAEP(s,"sha1");var h=l.match(/^RSAOAEP(\d+)$/);if(null!==h)return a.decryptOAEP(s,"sha"+h[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+u}throw"Cipher.decrypt: unsupported key or algorithm"},p.crypto.Cipher.getAlgByKeyAndName=function(s,a){if(s instanceof pe){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(a))return a;if(null==a)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+a}throw"getAlgByKeyAndName: not supported algorithm name: "+a},p.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},(typeof p>"u"||!p)&&(p={}),(typeof p.crypto>"u"||!p.crypto)&&(p.crypto={}),p.crypto.ECDSA=function(s){var g=Error,m=K,v=Me,E=p.crypto.ECDSA,b=p.crypto.ECParameterDB,_=E.getName,w=ne.getVbyListEx,y=ne.isASN1HEX,I=new tr;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(C){return new m(C.bitLength(),I).mod(C.subtract(m.ONE)).add(m.ONE)},this.setNamedCurve=function(C){this.ecparams=b.getByName(C),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=C},this.setPrivateKeyHex=function(C){this.isPrivate=!0,this.prvKeyHex=C},this.setPublicKeyHex=function(C){this.isPublic=!0,this.pubKeyHex=C},this.getPublicKeyXYHex=function(){var C=this.pubKeyHex;if("04"!==C.substr(0,2))throw"this method supports uncompressed format(04) only";var M=this.ecparams.keycharlen;if(C.length!==2+2*M)throw"malformed public key hex length";var P={};return P.x=C.substr(2,M),P.y=C.substr(2+M),P},this.getShortNISTPCurveName=function(){var C=this.curveName;return"secp256r1"===C||"NIST P-256"===C||"P-256"===C||"prime256v1"===C?"P-256":"secp384r1"===C||"NIST P-384"===C||"P-384"===C?"P-384":"secp521r1"===C||"NIST P-521"===C||"P-521"===C?"P-521":null},this.generateKeyPairHex=function(){var M=this.getBigRandom(this.ecparams.n),P=this.ecparams.keycharlen,k=("0000000000"+M.toString(16)).slice(-P);return this.setPrivateKeyHex(k),{ecprvhex:k,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var C=new m(this.prvKeyHex,16),M=this.ecparams.G.multiply(C),P=M.getX().toBigInteger(),k=M.getY().toBigInteger(),O=this.ecparams.keycharlen,T="04"+("0000000000"+P.toString(16)).slice(-O)+("0000000000"+k.toString(16)).slice(-O);return this.setPublicKeyHex(T),T},this.signWithMessageHash=function(C){return this.signHex(C,this.prvKeyHex)},this.signHex=function(C,M){var P=new m(M,16),k=this.ecparams.n,O=new m(C.substring(0,this.ecparams.keycharlen),16);do{var G=this.getBigRandom(k),R=this.ecparams.G.multiply(G).getX().toBigInteger().mod(k)}while(R.compareTo(m.ZERO)<=0);var L=G.modInverse(k).multiply(O.add(P.multiply(R))).mod(k);return E.biRSSigToASN1Sig(R,L)},this.sign=function(C,M){var P=M,k=this.ecparams.n,O=m.fromByteArrayUnsigned(C);do{var G=this.getBigRandom(k),R=this.ecparams.G.multiply(G).getX().toBigInteger().mod(k)}while(R.compareTo(K.ZERO)<=0);var L=G.modInverse(k).multiply(O.add(P.multiply(R))).mod(k);return this.serializeSig(R,L)},this.verifyWithMessageHash=function(C,M){return this.verifyHex(C,M,this.pubKeyHex)},this.verifyHex=function(C,M,P){try{var k,O,G=E.parseSigHex(M);k=G.r,O=G.s;var Y=v.decodeFromHex(this.ecparams.curve,P),T=new m(C.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(T,k,O,Y)}catch{return!1}},this.verify=function(C,M,P){var k,O,Y;if(Bitcoin.Util.isArray(M)){var G=this.parseSig(M);k=G.r,O=G.s}else{if("object"!=typeof M||!M.r||!M.s)throw"Invalid value for signature";k=M.r,O=M.s}if(P instanceof Me)Y=P;else{if(!Bitcoin.Util.isArray(P))throw"Invalid format for pubkey value, must be byte array or ECPointFp";Y=v.decodeFrom(this.ecparams.curve,P)}var T=m.fromByteArrayUnsigned(C);return this.verifyRaw(T,k,O,Y)},this.verifyRaw=function(C,M,P,k){var O=this.ecparams.n,G=this.ecparams.G;if(M.compareTo(m.ONE)<0||M.compareTo(O)>=0||P.compareTo(m.ONE)<0||P.compareTo(O)>=0)return!1;var Y=P.modInverse(O),T=C.multiply(Y).mod(O),R=M.multiply(Y).mod(O);return G.multiply(T).add(k.multiply(R)).getX().toBigInteger().mod(O).equals(M)},this.serializeSig=function(C,M){var P=C.toByteArraySigned(),k=M.toByteArraySigned(),O=[];return O.push(2),O.push(P.length),(O=O.concat(P)).push(2),O.push(k.length),(O=O.concat(k)).unshift(O.length),O.unshift(48),O},this.parseSig=function(C){var M;if(48!=C[0])throw new Error("Signature not a valid DERSequence");if(2!=C[M=2])throw new Error("First element in signature must be a DERInteger");var P=C.slice(M+2,M+2+C[M+1]);if(2!=C[M+=2+C[M+1]])throw new Error("Second element in signature must be a DERInteger");var k=C.slice(M+2,M+2+C[M+1]);return M+=2+C[M+1],{r:m.fromByteArrayUnsigned(P),s:m.fromByteArrayUnsigned(k)}},this.parseSigCompact=function(C){if(65!==C.length)throw"Signature has the wrong length";var M=C[0]-27;if(M<0||M>7)throw"Invalid signature type";var P=this.ecparams.n;return{r:m.fromByteArrayUnsigned(C.slice(1,33)).mod(P),s:m.fromByteArrayUnsigned(C.slice(33,65)).mod(P),i:M}},this.readPKCS5PrvKeyHex=function(C){if(!1===y(C))throw new Error("not ASN.1 hex string");var M,P,k;try{M=w(C,0,["[0]",0],"06"),P=w(C,0,[1],"04");try{k=w(C,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=_(M),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(k),this.setPrivateKeyHex(P),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(C){if(!1===y(C))throw new g("not ASN.1 hex string");var P,k,O;try{w(C,0,[1,0],"06"),P=w(C,0,[1,1],"06"),k=w(C,0,[2,0,1],"04");try{O=w(C,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new g("malformed PKCS#8 plain ECC private key")}if(this.curveName=_(P),void 0===this.curveName)throw new g("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(O),this.setPrivateKeyHex(k),this.isPublic=!1},this.readPKCS8PubKeyHex=function(C){if(!1===y(C))throw new g("not ASN.1 hex string");var P,k;try{w(C,0,[0,0],"06"),P=w(C,0,[0,1],"06"),k=w(C,0,[1],"03")}catch{throw new g("malformed PKCS#8 ECC public key")}if(this.curveName=_(P),null===this.curveName)throw new g("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(k)},this.readCertPubKeyHex=function(C,M){if(!1===y(C))throw new g("not ASN.1 hex string");var P,k;try{P=w(C,0,[0,5,0,1],"06"),k=w(C,0,[0,5,1],"03")}catch{throw new g("malformed X.509 certificate ECC public key")}if(this.curveName=_(P),null===this.curveName)throw new g("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(k)},void 0!==s&&void 0!==s.curve&&(this.curveName=s.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==s&&(void 0!==s.prv&&this.setPrivateKeyHex(s.prv),void 0!==s.pub&&this.setPublicKeyHex(s.pub))},p.crypto.ECDSA.parseSigHex=function(s){var a=p.crypto.ECDSA.parseSigHexInHexRS(s);return{r:new K(a.r,16),s:new K(a.s,16)}},p.crypto.ECDSA.parseSigHexInHexRS=function(s){var u=ne.getChildIdx,l=ne.getV;if(ne.checkStrictDER(s,0),"30"!=s.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var h=u(s,0);if(2!=h.length)throw new Error("signature shall have two elements");var g=h[0],m=h[1];if("02"!=s.substr(g,2))throw new Error("1st item not ASN.1 integer");if("02"!=s.substr(m,2))throw new Error("2nd item not ASN.1 integer");return{r:l(s,g),s:l(s,m)}},p.crypto.ECDSA.asn1SigToConcatSig=function(s){var a=p.crypto.ECDSA.parseSigHexInHexRS(s),u=a.r,l=a.s;if(u.length>=130&&u.length<=134){if(u.length%2!=0)throw Error("unknown ECDSA sig r length error");if(l.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==u.substr(0,2)&&(u=u.substr(2)),"00"==l.substr(0,2)&&(l=l.substr(2));var h=Math.max(u.length,l.length);return(u=("000000"+u).slice(-h))+("000000"+l).slice(-h)}if("00"==u.substr(0,2)&&u.length%32==2&&(u=u.substr(2)),"00"==l.substr(0,2)&&l.length%32==2&&(l=l.substr(2)),u.length%32==30&&(u="00"+u),l.length%32==30&&(l="00"+l),u.length%32!=0)throw Error("unknown ECDSA sig r length error");if(l.length%32!=0)throw Error("unknown ECDSA sig s length error");return u+l},p.crypto.ECDSA.concatSigToASN1Sig=function(s){if(s.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var a=s.substr(0,s.length/2),u=s.substr(s.length/2);return p.crypto.ECDSA.hexRSSigToASN1Sig(a,u)},p.crypto.ECDSA.hexRSSigToASN1Sig=function(s,a){var u=new K(s,16),l=new K(a,16);return p.crypto.ECDSA.biRSSigToASN1Sig(u,l)},p.crypto.ECDSA.biRSSigToASN1Sig=function(s,a){var u=p.asn1,l=new u.DERInteger({bigint:s}),h=new u.DERInteger({bigint:a});return new u.DERSequence({array:[l,h]}).tohex()},p.crypto.ECDSA.getName=function(s){return"2b8104001f"===s?"secp192k1":"2a8648ce3d030107"===s?"secp256r1":"2b8104000a"===s?"secp256k1":"2b81040021"===s?"secp224r1":"2b81040022"===s?"secp384r1":"2b81040023"===s?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(s)?"secp256r1":-1!=="|secp256k1|".indexOf(s)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(s)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(s)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(s)?"secp521r1":null},(typeof p>"u"||!p)&&(p={}),(typeof p.crypto>"u"||!p.crypto)&&(p.crypto={}),p.crypto.ECParameterDB=new function(){var s={},a={};function u(l){return new K(l,16)}this.getByName=function(l){var h=l;if(typeof a[h]<"u"&&(h=a[l]),typeof s[h]<"u")return s[h];throw"unregistered EC curve name: "+h},this.regist=function(l,h,g,m,v,E,b,_,x,w,y,I){s[l]={};var S=u(g),F=u(m),C=u(v),M=u(E),P=u(b),k=new Ne(S,F,C),O=k.decodePointHex("04"+_+x);s[l].name=l,s[l].keylen=h,s[l].keycharlen=2*Math.ceil(h/8),s[l].curve=k,s[l].G=O,s[l].n=M,s[l].h=P,s[l].oid=y,s[l].info=I;for(var G=0;G<w.length;G++)a[w[G]]=l}},p.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),p.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),p.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),p.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),p.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),p.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),p.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),p.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),p.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),p.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),(typeof p>"u"||!p)&&(p={}),(typeof p.crypto>"u"||!p.crypto)&&(p.crypto={}),p.crypto.DSA=function(){var u=ne.getVbyListEx,l=ne.isASN1HEX,h=K;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(g,m,v,E,b){this.isPrivate=!0,this.p=g,this.q=m,this.g=v,this.y=E,this.x=b},this.setPrivateHex=function(g,m,v,E,b){var _,x,w,y,I;_=new K(g,16),x=new K(m,16),w=new K(v,16),y="string"==typeof E&&E.length>1?new K(E,16):null,I=new K(b,16),this.setPrivate(_,x,w,y,I)},this.setPublic=function(g,m,v,E){this.isPublic=!0,this.p=g,this.q=m,this.g=v,this.y=E,this.x=null},this.setPublicHex=function(g,m,v,E){var b,_,x,w;b=new K(g,16),_=new K(m,16),x=new K(v,16),w=new K(E,16),this.setPublic(b,_,x,w)},this.signWithMessageHash=function(g){var m=this.p,v=this.q,E=this.g,_=this.x,x=p.crypto.Util.getRandomBigIntegerMinToMax(K.ONE.add(K.ONE),v.subtract(K.ONE)),y=new K(g.substr(0,v.bitLength()/4),16),I=E.modPow(x,m).mod(v),S=x.modInverse(v).multiply(y.add(_.multiply(I))).mod(v);return p.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:I}},{int:{bigint:S}}]})},this.verifyWithMessageHash=function(g,m){var v=this.p,E=this.q,b=this.g,_=this.y,x=this.parseASN1Signature(m),w=x[0],y=x[1],S=new K(g.substr(0,E.bitLength()/4),16);if(K.ZERO.compareTo(w)>0||w.compareTo(E)>0||K.ZERO.compareTo(y)>=0||y.compareTo(E)>0)throw"invalid DSA signature";var F=y.modInverse(E),C=S.multiply(F).mod(E),M=w.multiply(F).mod(E);return 0==b.modPow(C,v).multiply(_.modPow(M,v)).mod(v).mod(E).compareTo(w)},this.parseASN1Signature=function(g){try{return[new h(u(g,0,[0],"02"),16),new h(u(g,0,[1],"02"),16)]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(g){var m,v,E,b,_;if(!1===l(g))throw new Error("not ASN.1 hex string");try{m=u(g,0,[1],"02"),v=u(g,0,[2],"02"),E=u(g,0,[3],"02"),b=u(g,0,[4],"02"),_=u(g,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(m,v,E,b,_)},this.readPKCS8PrvKeyHex=function(g){var m,v,E,b;if(!1===l(g))throw new Error("not ASN.1 hex string");try{m=u(g,0,[1,1,0],"02"),v=u(g,0,[1,1,1],"02"),E=u(g,0,[1,1,2],"02"),b=u(g,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(m,v,E,null,b)},this.readPKCS8PubKeyHex=function(g){var m,v,E,b;if(!1===l(g))throw new Error("not ASN.1 hex string");try{m=u(g,0,[0,1,0],"02"),v=u(g,0,[0,1,1],"02"),E=u(g,0,[0,1,2],"02"),b=u(g,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(m,v,E,b)},this.readCertPubKeyHex=function(g,m){var v,E,b,_;if(!1===l(g))throw new Error("not ASN.1 hex string");try{v=u(g,0,[0,5,0,1,0],"02"),E=u(g,0,[0,5,0,1,1],"02"),b=u(g,0,[0,5,0,1,2],"02"),_=u(g,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(v,E,b,_)}};var le=function(){var s=function(S,F,C){return l(ae.AES,S,F,C)},l=function(S,F,C,M){var P=ae.enc.Hex.parse(F),k=ae.enc.Hex.parse(C),O=ae.enc.Hex.parse(M),G={};G.key=k,G.iv=O,G.ciphertext=P;var Y=S.decrypt(G,k,{iv:O});return ae.enc.Hex.stringify(Y)},h=function(S,F,C){return v(ae.AES,S,F,C)},v=function(S,F,C,M){var P=ae.enc.Hex.parse(F),k=ae.enc.Hex.parse(C),O=ae.enc.Hex.parse(M),G=S.encrypt(P,k,{iv:O}),Y=ae.enc.Hex.parse(G.toString());return ae.enc.Base64.stringify(Y)},E={"AES-256-CBC":{proc:s,eproc:h,keylen:32,ivlen:16},"AES-192-CBC":{proc:s,eproc:h,keylen:24,ivlen:16},"AES-128-CBC":{proc:s,eproc:h,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(S,F,C){return l(ae.TripleDES,S,F,C)},eproc:function(S,F,C){return v(ae.TripleDES,S,F,C)},keylen:24,ivlen:8},"DES-CBC":{proc:function(S,F,C){return l(ae.DES,S,F,C)},eproc:function(S,F,C){return v(ae.DES,S,F,C)},keylen:8,ivlen:8}},x=function(S){var F={},C=S.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));C&&(F.cipher=C[1],F.ivsalt=C[2]);var M=S.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));M&&(F.type=M[1]);var P=-1,k=0;-1!=S.indexOf("\r\n\r\n")&&(P=S.indexOf("\r\n\r\n"),k=2),-1!=S.indexOf("\n\n")&&(P=S.indexOf("\n\n"),k=1);var O=S.indexOf("-----END");if(-1!=P&&-1!=O){var G=S.substring(P+2*k,O-k);G=G.replace(/\s+/g,""),F.data=G}return F},w=function(S,F,C){for(var M=C.substring(0,16),P=ae.enc.Hex.parse(M),k=ae.enc.Utf8.parse(F),O=E[S].keylen+E[S].ivlen,G="",Y=null;;){var T=ae.algo.MD5.create();if(null!=Y&&T.update(Y),T.update(k),T.update(P),Y=T.finalize(),(G+=ae.enc.Hex.stringify(Y)).length>=2*O)break}var R={};return R.keyhex=G.substr(0,2*E[S].keylen),R.ivhex=G.substr(2*E[S].keylen,2*E[S].ivlen),R},y=function(S,F,C,M){var P=ae.enc.Base64.parse(S),k=ae.enc.Hex.stringify(P);return(0,E[F].proc)(k,C,M)};return{version:"1.0.0",parsePKCS5PEM:function(S){return x(S)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(S,F,C){return w(S,F,C)},decryptKeyB64:function(S,F,C,M){return y(S,F,C,M)},getDecryptedKeyHex:function(S,F){var C=x(S),P=C.cipher,k=C.ivsalt,O=C.data,G=w(P,F,k);return y(O,P,G.keyhex,k)},getEncryptedPKCS5PEMFromPrvKeyHex:function(S,F,C,M,P){var L="";if((typeof M>"u"||null==M)&&(M="AES-256-CBC"),typeof E[M]>"u")throw new Error("KEYUTIL unsupported algorithm: "+M);if(typeof P>"u"||null==P){var O=function(S){var F=ae.lib.WordArray.random(S);return ae.enc.Hex.stringify(F)}(E[M].ivlen);P=O.toUpperCase()}var T=function(S,F,C,M){return(0,E[F].eproc)(S,C,M)}(F,M,w(M,C,P).keyhex,P);return L="-----BEGIN "+S+" PRIVATE KEY-----\r\n",L+="Proc-Type: 4,ENCRYPTED\r\n",L+="DEK-Info: "+M+","+P+"\r\n",L+="\r\n",(L+=T.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+S+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(S){var C=ne.getChildIdx,M=ne.getV,P={},k=C(S,0);if(2!=k.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+k.length);P.ciphertext=M(S,k[1]);var O=C(S,k[0]);if(2!=O.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+O.length);if("2a864886f70d01050d"!=M(S,O[0]))throw new Error("this only supports pkcs5PBES2");var G=C(S,O[1]);if(2!=O.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+G.length);var Y=C(S,G[1]);if(2!=Y.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+Y.length);if("2a864886f70d0307"!=M(S,Y[0]))throw"this only supports TripleDES";P.encryptionSchemeAlg="TripleDES",P.encryptionSchemeIV=M(S,Y[1]);var T=C(S,G[0]);if(2!=T.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+T.length);if("2a864886f70d01050c"!=M(S,T[0]))throw new Error("this only supports pkcs5PBKDF2");var R=C(S,T[1]);if(R.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+R.length);P.pbkdf2Salt=M(S,R[0]);var L=M(S,R[1]);try{P.pbkdf2Iter=parseInt(L,16)}catch{throw new Error("malformed format pbkdf2Iter: "+L)}return P},getPBKDF2KeyHexFromParam:function(S,F){var C=ae.enc.Hex.parse(S.pbkdf2Salt),P=ae.PBKDF2(F,C,{keySize:6,iterations:S.pbkdf2Iter});return ae.enc.Hex.stringify(P)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(S,F){var C=Qe(S,"ENCRYPTED PRIVATE KEY"),M=this.parseHexOfEncryptedPKCS8(C),P=le.getPBKDF2KeyHexFromParam(M,F),k={};k.ciphertext=ae.enc.Hex.parse(M.ciphertext);var O=ae.enc.Hex.parse(P),G=ae.enc.Hex.parse(M.encryptionSchemeIV),Y=ae.TripleDES.decrypt(k,O,{iv:G});return ae.enc.Hex.stringify(Y)},getKeyFromEncryptedPKCS8PEM:function(S,F){var C=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(S,F);return this.getKeyFromPlainPrivatePKCS8Hex(C)},parsePlainPrivatePKCS8Hex:function(S){var F=ne,C=F.getChildIdx,M=F.getV,P={algparam:null};if("30"!=S.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var k=C(S,0);if(k.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=S.substr(k[1],2))throw new Error("malformed PKCS8 private key(code:003)");var O=C(S,k[1]);if(2!=O.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=S.substr(O[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(P.algoid=M(S,O[0]),"06"==S.substr(O[1],2)&&(P.algparam=M(S,O[1])),"04"!=S.substr(k[2],2))throw new Error("malformed PKCS8 private key(code:006)");return P.keyidx=F.getVidx(S,k[2]),P},getKeyFromPlainPrivatePKCS8PEM:function(S){var F=Qe(S,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(F)},getKeyFromPlainPrivatePKCS8Hex:function(S){var C,F=this.parsePlainPrivatePKCS8Hex(S);if("2a864886f70d010101"==F.algoid)C=new pe;else if("2a8648ce380401"==F.algoid)C=new p.crypto.DSA;else{if("2a8648ce3d0201"!=F.algoid)throw new Error("unsupported private key algorithm");C=new p.crypto.ECDSA}return C.readPKCS8PrvKeyHex(S),C},_getKeyFromPublicPKCS8Hex:function(S){var F,C=ne.getVbyList(S,0,[0,0],"06");if("2a864886f70d010101"===C)F=new pe;else if("2a8648ce380401"===C)F=new p.crypto.DSA;else{if("2a8648ce3d0201"!==C)throw new Error("unsupported PKCS#8 public key hex");F=new p.crypto.ECDSA}return F.readPKCS8PubKeyHex(S),F},parsePublicRawRSAKeyHex:function(S){var C=ne.getChildIdx,M=ne.getV,P={};if("30"!=S.substr(0,2))throw new Error("malformed RSA key(code:001)");var k=C(S,0);if(2!=k.length)throw new Error("malformed RSA key(code:002)");if("02"!=S.substr(k[0],2))throw new Error("malformed RSA key(code:003)");if(P.n=M(S,k[0]),"02"!=S.substr(k[1],2))throw new Error("malformed RSA key(code:004)");return P.e=M(S,k[1]),P},parsePublicPKCS8Hex:function(S){var F=ne,C=F.getChildIdx,M=F.getV,P={algparam:null},k=C(S,0);if(2!=k.length)throw new Error("outer DERSequence shall have 2 elements: "+k.length);var O=k[0];if("30"!=S.substr(O,2))throw new Error("malformed PKCS8 public key(code:001)");var G=C(S,O);if(2!=G.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=S.substr(G[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(P.algoid=M(S,G[0]),"06"==S.substr(G[1],2)?P.algparam=M(S,G[1]):"30"==S.substr(G[1],2)&&(P.algparam={},P.algparam.p=F.getVbyList(S,G[1],[0],"02"),P.algparam.q=F.getVbyList(S,G[1],[1],"02"),P.algparam.g=F.getVbyList(S,G[1],[2],"02")),"03"!=S.substr(k[1],2))throw new Error("malformed PKCS8 public key(code:004)");return P.key=M(S,k[1]).substr(2),P}}}();function Er(s,a){for(var u="",l=a/4-s.length,h=0;h<l;h++)u+="0";return u+s}function Bt(s,a,u){for(var l="",h=0;l.length<a;)l+=_t(u(un(s+String.fromCharCode.apply(String,[(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))),h+=1;return l}function vi(s){for(var a in p.crypto.Util.DIGESTINFOHEAD){var u=p.crypto.Util.DIGESTINFOHEAD[a],l=u.length;if(s.substring(0,l)==u)return[a,s.substring(l)]}return[]}function ge(s){var P,a=ne,u=a.getChildIdx,l=a.getV,g=a.parse,m=a.getTLV,v=a.getVbyList,E=a.getVbyListEx,b=a.getTLVbyList,_=a.getTLVbyListEx,x=a.getIdxbyList,w=a.getIdxbyListEx,y=a.getVidx,I=a.getInt,S=a.oidname,F=a.hextooidstr,M=Qe,k=Error;try{P=p.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var T=b(this.hex,0,[0,0]);if("a0"==T.substr(0,2)){var R=b(T,0,[0]),L=I(R,0);if(L<0||2<L)throw new Error("malformed version field");return this.version=L+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return E(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var T=_(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(T)},this.getAlgorithmIdentifierName=function(T){for(var R in P)if(T===P[R])return R;return S(E(T,0,[0],"06"))},this.getIssuer=function(T,R){return this.getX500Name(this.getIssuerHex(),T,R)},this.getIssuerHex=function(){return b(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(T,R){return this.getX500Name(this.getSubjectHex(),T,R)},this.getSubjectHex=function(){return b(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var T=v(this.hex,0,[0,4+this.foffset,0]);return T=T.replace(/(..)/g,"%$1"),decodeURIComponent(T)},this.getNotAfter=function(){var T=v(this.hex,0,[0,4+this.foffset,1]);return T=T.replace(/(..)/g,"%$1"),decodeURIComponent(T)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return b(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var T=this.getSPKI();return null==T?null:v(T,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return x(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var T=this.getPublicKeyIdx();return x(this.hex,T,[1,0],"30")},this.getPublicKey=function(){return le.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var T=b(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(T)},this.getSignatureValueHex=function(){return v(this.hex,0,[2],"03",!0)},this.verifySignature=function(T){var R=this.getSignatureAlgorithmField(),L=this.getSignatureValueHex(),j=b(this.hex,0,[0],"30"),V=new p.crypto.Signature({alg:R});return V.init(T),V.updateHex(j),V.verify(L)},this.parseExt=function(T){var R,L,j;if(void 0===T){if(3!==this.version)return-1;R=x(j=this.hex,0,[0,7,0],"30"),L=u(j,R)}else{j=Qe(T);var V=x(j,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=l(j,V))return void(this.aExtInfo=new Array);R=x(j,0,[0,3,0,1,0],"30"),L=u(j,R),this.hex=j}this.aExtInfo=new Array;for(var z=0;z<L.length;z++){var H={critical:!1},q=0;3===u(j,L[z]).length&&(H.critical=!0,q=1),H.oid=a.hextooidstr(v(j,L[z],[0],"06"));var W=x(j,L[z],[1+q]);H.vidx=y(j,W),this.aExtInfo.push(H)}},this.getExtInfo=function(T){var R=this.aExtInfo,L=T;if(T.match(/^[0-9.]+$/)||(L=p.asn1.x509.OID.name2oid(T)),""!==L)for(var j=0;j<R.length;j++)if(R[j].oid===L)return R[j]},this.getCriticalExtV=function(T,R,L){if(null!=R)return[R,L];var j=this.getExtInfo(T);return null==j?[null,null]:[m(this.hex,j.vidx),j.critical]},this.getExtBasicConstraints=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("basicConstraints");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"basicConstraints"};if(R&&(j.critical=!0),"3000"===T)return j;if("30030101ff"===T)return j.cA=!0,j;if("30060101ff02"===T.substr(0,12)){var V=l(T,10),z=parseInt(V,16);return j.cA=!0,j.pathLen=z,j}throw new Error("hExtV parse error: "+T)},this.getExtNameConstraints=function(T,R){var L=this.getCriticalExtV("nameConstraints",T,R);if(R=L[1],null!=(T=L[0])){var j={extname:"nameConstraints"};R&&(j.critical=!0);for(var V=u(T,0),z=0;z<V.length;z++){for(var H=[],$=u(T,V[z]),q=0;q<$.length;q++){var W=m(T,$[q]),de=this.getGeneralSubtree(W);H.push(de)}var ce=T.substr(V[z],2);"a0"==ce?j.permit=H:"a1"==ce&&(j.exclude=H)}return j}},this.getGeneralSubtree=function(T){var R=u(T,0),L=R.length;if(L<1||2<L)throw new Error("wrong num elements");for(var j=this.getGeneralName(m(T,R[0])),V=1;V<L;V++){var z=T.substr(R[V],2),H=l(T,R[V]),$=parseInt(H,16);"80"==z&&(j.min=$),"81"==z&&(j.max=$)}return j},this.getExtKeyUsage=function(T,R){var L=this.getCriticalExtV("keyUsage",T,R);if(R=L[1],null!=(T=L[0])){var j={extname:"keyUsage"};return R&&(j.critical=!0),j.names=this.getExtKeyUsageString(T).split(","),j}},this.getExtKeyUsageBin=function(T){if(void 0===T){var R=this.getExtInfo("keyUsage");if(void 0===R)return"";T=m(this.hex,R.vidx)}if(8!=T.length&&10!=T.length)throw new Error("malformed key usage value: "+T);var L="000000000000000"+parseInt(T.substr(6),16).toString(2);return 8==T.length&&(L=L.slice(-8)),10==T.length&&(L=L.slice(-16)),""==(L=L.replace(/0+$/,""))&&(L="0"),L},this.getExtKeyUsageString=function(T){for(var R=this.getExtKeyUsageBin(T),L=new Array,j=0;j<R.length;j++)"1"==R.substr(j,1)&&L.push(ge.KEYUSAGE_NAME[j]);return L.join(",")},this.getExtSubjectKeyIdentifier=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("subjectKeyIdentifier");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"subjectKeyIdentifier"};R&&(j.critical=!0);var V=l(T,0);return j.kid={hex:V},j},this.getExtAuthorityKeyIdentifier=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("authorityKeyIdentifier");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"authorityKeyIdentifier"};R&&(j.critical=!0);for(var V=u(T,0),z=0;z<V.length;z++){var H=T.substr(V[z],2);if("80"===H&&(j.kid={hex:l(T,V[z])}),"a1"===H){var $=m(T,V[z]),q=this.getGeneralNames($);j.issuer=q[0].dn}"82"===H&&(j.sn={hex:l(T,V[z])})}return j},this.getExtExtKeyUsage=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("extKeyUsage");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"extKeyUsage",array:[]};R&&(j.critical=!0);for(var V=u(T,0),z=0;z<V.length;z++)j.array.push(S(l(T,V[z])));return j},this.getExtExtKeyUsageName=function(){var T=this.getExtInfo("extKeyUsage");if(void 0===T)return T;var R=new Array,L=m(this.hex,T.vidx);if(""===L)return R;for(var j=u(L,0),V=0;V<j.length;V++)R.push(S(l(L,j[V])));return R},this.getExtSubjectAltName=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("subjectAltName");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"subjectAltName",array:[]};return R&&(j.critical=!0),j.array=this.getGeneralNames(T),j},this.getExtIssuerAltName=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("issuerAltName");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"issuerAltName",array:[]};return R&&(j.critical=!0),j.array=this.getGeneralNames(T),j},this.getGeneralNames=function(T){for(var R=u(T,0),L=[],j=0;j<R.length;j++){var V=this.getGeneralName(m(T,R[j]));void 0!==V&&L.push(V)}return L},this.getGeneralName=function(T){var R=T.substr(0,2),L=l(T,0),j=_t(L);return"81"==R?{rfc822:j}:"82"==R?{dns:j}:"86"==R?{uri:j}:"87"==R?{ip:pi(L)}:"a4"==R?{dn:this.getX500Name(L)}:"a0"==R?{other:this.getOtherName(T)}:void 0},this.getExtSubjectAltName2=function(){var T,R,L,j=this.getExtInfo("subjectAltName");if(void 0===j)return j;for(var V=new Array,z=m(this.hex,j.vidx),H=u(z,0),$=0;$<H.length;$++)L=z.substr(H[$],2),T=l(z,H[$]),"81"===L&&(R=re(T),V.push(["MAIL",R])),"82"===L&&(R=re(T),V.push(["DNS",R])),"84"===L&&(R=ge.hex2dn(T,0),V.push(["DN",R])),"86"===L&&(R=re(T),V.push(["URI",R])),"87"===L&&(R=pi(T),V.push(["IP",R]));return V},this.getExtCRLDistributionPoints=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("cRLDistributionPoints");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"cRLDistributionPoints",array:[]};R&&(j.critical=!0);for(var V=u(T,0),z=0;z<V.length;z++){var H=m(T,V[z]);j.array.push(this.getDistributionPoint(H))}return j},this.getDistributionPoint=function(T){for(var R={},L=u(T,0),j=0;j<L.length;j++){var V=T.substr(L[j],2),z=m(T,L[j]);"a0"==V&&(R.dpname=this.getDistributionPointName(z))}return R},this.getDistributionPointName=function(T){for(var R={},L=u(T,0),j=0;j<L.length;j++){var V=T.substr(L[j],2),z=m(T,L[j]);"a0"==V&&(R.full=this.getGeneralNames(z))}return R},this.getExtCRLDistributionPointsURI=function(){var T=this.getExtCRLDistributionPoints();if(null==T)return T;for(var R=T.array,L=[],j=0;j<R.length;j++)try{null!=R[j].dpname.full[0].uri&&L.push(R[j].dpname.full[0].uri)}catch{}return L},this.getExtAIAInfo=function(){var T=this.getExtInfo("authorityInfoAccess");if(void 0===T)return T;for(var R={ocsp:[],caissuer:[]},L=u(this.hex,T.vidx),j=0;j<L.length;j++){var V=v(this.hex,L[j],[0],"06"),z=v(this.hex,L[j],[1],"86");"2b06010505073001"===V&&R.ocsp.push(re(z)),"2b06010505073002"===V&&R.caissuer.push(re(z))}return R},this.getExtAuthorityInfoAccess=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("authorityInfoAccess");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"authorityInfoAccess",array:[]};R&&(j.critical=!0);for(var V=u(T,0),z=0;z<V.length;z++){var H=E(T,V[z],[0],"06"),q=re(v(T,V[z],[1],"86"));if("2b06010505073001"==H)j.array.push({ocsp:q});else{if("2b06010505073002"!=H)throw new Error("unknown method: "+H);j.array.push({caissuer:q})}}return j},this.getExtCertificatePolicies=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("certificatePolicies");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"certificatePolicies",array:[]};R&&(j.critical=!0);for(var V=u(T,0),z=0;z<V.length;z++){var H=m(T,V[z]),$=this.getPolicyInformation(H);j.array.push($)}return j},this.getPolicyInformation=function(T){var R={},L=v(T,0,[0],"06");R.policyoid=S(L);var j=w(T,0,[1],"30");if(-1!=j){R.array=[];for(var V=u(T,j),z=0;z<V.length;z++){var H=m(T,V[z]),$=this.getPolicyQualifierInfo(H);R.array.push($)}}return R},this.getOtherName=function(T){var R={},L=u(T,0),j=v(T,L[0],[],"06"),V=v(T,L[1],[]);return R.oid=S(j),R.value=g(V),R},this.getPolicyQualifierInfo=function(T){var R={},L=v(T,0,[0],"06");if("2b06010505070201"===L){var j=E(T,0,[1],"16");R.cps=_t(j)}else if("2b06010505070202"===L){var V=b(T,0,[1],"30");R.unotice=this.getUserNotice(V)}return R},this.getUserNotice=function(T){var R=null;try{return R=a.parse(T),this._asn1ToUnotice(R)}catch{return}},this._asn1ToUnotice=function(T){try{for(var R={},L=it(T,"seq"),j=0;j<L.length;j++){var V=this._asn1ToNoticeRef(L[j]);null!=V&&(R.noticeref=V);var z=this.asn1ToDisplayText(L[j]);null!=z&&(R.exptext=z)}return Object.keys(R).length>0?R:void 0}catch{return}},this._asn1ToNoticeRef=function(T){try{for(var R={},L=it(T,"seq"),j=0;j<L.length;j++){var V=this._asn1ToNoticeNum(L[j]);null!=V&&(R.noticenum=V);var z=this.asn1ToDisplayText(L[j]);null!=z&&(R.org=z)}return Object.keys(R).length>0?R:void 0}catch{return}},this._asn1ToNoticeNum=function(T){try{for(var R=it(T,"seq"),L=[],j=0;j<R.length;j++)L.push(parseInt(it(R[j],"int.hex"),16));return L}catch{return}},this.getDisplayText=function(T){var L={};return L.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[T.substr(0,2)],L.str=_t(l(T,0)),L},this.asn1ToDisplayText=function(T){return null!=T.utf8str?{type:"utf8",str:T.utf8str.str}:null!=T.ia5str?{type:"ia5",str:T.ia5str.str}:null!=T.visstr?{type:"vis",str:T.visstr.str}:null!=T.bmpstr?{type:"bmp",str:T.bmpstr.str}:null!=T.prnstr?{type:"prn",str:T.prnstr.str}:void 0},this.getExtPolicyMappings=function(T,R){var L=this.getCriticalExtV("policyMappings",T,R);if(R=L[1],null!=(T=L[0])){var j={extname:"policyMappings"};R&&(j.critical=!0);try{for(var z=g(T).seq,H=[],$=0;$<z.length;$++){var q=z[$].seq;H.push([q[0].oid,q[1].oid])}j.array=H}catch{throw new k("malformed policyMappings")}return j}},this.getExtPolicyConstraints=function(T,R){var L=this.getCriticalExtV("policyConstraints",T,R);if(R=L[1],null!=(T=L[0])){var j={extname:"policyConstraints"};R&&(j.critical=!0);var V=g(T);try{for(var z=V.seq,H=0;H<z.length;H++){var $=z[H].tag;0==$.explicit&&("80"==$.tag&&(j.reqexp=parseInt($.hex,16)),"81"==$.tag&&(j.inhibit=parseInt($.hex,16)))}}catch{return new k("malformed policyConstraints value")}return j}},this.getExtInhibitAnyPolicy=function(T,R){var L=this.getCriticalExtV("inhibitAnyPolicy",T,R);if(R=L[1],null!=(T=L[0])){var j={extname:"inhibitAnyPolicy"};R&&(j.critical=!0);var V=I(T,0);return-1==V?new k("wrong value"):(j.skip=V,j)}},this.getExtCRLNumber=function(T,R){var L={extname:"cRLNumber"};if(R&&(L.critical=!0),"02"==T.substr(0,2))return L.num={hex:l(T,0)},L;throw new k("hExtV parse error: "+T)},this.getExtCRLReason=function(T,R){var L={extname:"cRLReason"};if(R&&(L.critical=!0),"0a"==T.substr(0,2))return L.code=parseInt(l(T,0),16),L;throw new Error("hExtV parse error: "+T)},this.getExtOcspNonce=function(T,R){var L={extname:"ocspNonce"};R&&(L.critical=!0);var j=l(T,0);return L.hex=j,L},this.getExtOcspNoCheck=function(T,R){var L={extname:"ocspNoCheck"};return R&&(L.critical=!0),L},this.getExtAdobeTimeStamp=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("adobeTimeStamp");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"adobeTimeStamp"};R&&(j.critical=!0);var V=u(T,0);if(V.length>1){var z=m(T,V[1]),H=this.getGeneralName(z);null!=H.uri&&(j.uri=H.uri)}if(V.length>2){var $=m(T,V[2]);"0101ff"==$&&(j.reqauth=!0),"010100"==$&&(j.reqauth=!1)}return j},this.getExtSubjectDirectoryAttributes=function(T,R){if(void 0===T&&void 0===R){var L=this.getExtInfo("subjectDirectoryAttributes");if(void 0===L)return;T=m(this.hex,L.vidx),R=L.critical}var j={extname:"subjectDirectoryAttributes"};R&&(j.critical=!0);try{for(var V=g(T),z=[],H=0;H<V.seq.length;H++){var $=V.seq[H],q=it($,"seq.0.oid"),W=it($,"seq.1.set");if(null==q||null==W)throw"error";z.push({attr:q,array:W})}return j.array=z,j}catch{throw new Error("malformed subjectDirectoryAttributes extension value")}};var O=function(T){var R={};try{var j=p.asn1.x509.OID.name2oid(T.seq[0].oid);R.type=p.asn1.x509.OID.oid2atype(j);var V=T.seq[1];if(null!=V.utf8str)R.ds="utf8",R.value=V.utf8str.str;else if(null!=V.numstr)R.ds="num",R.value=V.numstr.str;else if(null!=V.telstr)R.ds="tel",R.value=V.telstr.str;else if(null!=V.prnstr)R.ds="prn",R.value=V.prnstr.str;else if(null!=V.ia5str)R.ds="ia5",R.value=V.ia5str.str;else if(null!=V.visstr)R.ds="vis",R.value=V.visstr.str;else{if(null==V.bmpstr)throw"error";R.ds="bmp",R.value=V.bmpstr.str}return R}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},G=function(T){try{return T.set.map(function(R){return O(R)})}catch(R){throw new Error("improper ASN.1 parsed RDN: "+R)}};this.getX500NameRule=function(T){for(var H=null,$=[],q=0;q<T.length;q++)for(var W=T[q],de=0;de<W.length;de++)$.push(W[de]);for(q=0;q<$.length;q++){var ce=$[q],ue=ce.ds,Se=ce.type;if("prn"!=ue&&"utf8"!=ue&&"ia5"!=ue)return"mixed";if("ia5"==ue){if("CN"!=Se)return"mixed";if(p.lang.String.isMail(ce.value))continue;return"mixed"}if("C"==Se){if("prn"==ue)continue;return"mixed"}if(null==H)H=ue;else if(H!==ue)return"mixed"}return H??"prn"},this.getAttrTypeAndValue=function(T){var R=g(T);return O(R)},this.getRDN=function(T){var R=g(T);return G(R)},this.getX500NameArray=function(T){return function(T){try{return T.seq.map(function(R){return G(R)})}catch(R){throw new Error("improper ASN.1 parsed X500Name: "+R)}}(g(T))},this.getX500Name=function(T,R,L){var j=this.getX500NameArray(T),z={str:this.dnarraytostr(j)};return z.array=j,1==L&&(z.hex=T),1==R&&(z.canon=this.c14nRDNArray(j)),z},this.readCertPEM=function(T){this.readCertHex(M(T))},this.readCertHex=function(T){this.hex=T,this.getVersion();try{x(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(T){var R={};return null==T&&(T={}),R.version=this.getVersion(),R.serial={hex:this.getSerialNumberHex()},R.sigalg=this.getSignatureAlgorithmField(),R.issuer=this.getIssuer(T.dncanon,T.dnhex),R.notbefore=this.getNotBefore(),R.notafter=this.getNotAfter(),R.subject=this.getSubject(T.dncanon,T.dnhex),R.sbjpubkey=rt(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(R.ext=this.getExtParamArray()),R.sighex=this.getSignatureValueHex(),1==T.tbshex&&(R.tbshex=b(this.hex,0,[0])),1==T.nodnarray&&(delete R.issuer.array,delete R.subject.array),R},this.getExtParamArray=function(T){null==T&&-1!=w(this.hex,0,[0,"[3]"])&&(T=_(this.hex,0,[0,"[3]",0],"30"));for(var L=[],j=u(T,0),V=0;V<j.length;V++){var z=m(T,j[V]),H=this.getExtParam(z);null!=H&&L.push(H)}return L},this.getExtParam=function(T){var j=u(T,0).length;if(2!=j&&3!=j)throw new Error("wrong number elements in Extension: "+j+" "+T);var V=F(v(T,0,[0],"06")),z=!1;3==j&&"0101ff"==b(T,0,[1])&&(z=!0);var H=b(T,0,[j-1,0]),$=void 0;if("2.5.29.14"==V?$=this.getExtSubjectKeyIdentifier(H,z):"2.5.29.15"==V?$=this.getExtKeyUsage(H,z):"2.5.29.17"==V?$=this.getExtSubjectAltName(H,z):"2.5.29.18"==V?$=this.getExtIssuerAltName(H,z):"2.5.29.19"==V?$=this.getExtBasicConstraints(H,z):"2.5.29.30"==V?$=this.getExtNameConstraints(H,z):"2.5.29.31"==V?$=this.getExtCRLDistributionPoints(H,z):"2.5.29.32"==V?$=this.getExtCertificatePolicies(H,z):"2.5.29.33"==V?$=this.getExtPolicyMappings(H,z):"2.5.29.35"==V?$=this.getExtAuthorityKeyIdentifier(H,z):"2.5.29.36"==V?$=this.getExtPolicyConstraints(H,z):"2.5.29.37"==V?$=this.getExtExtKeyUsage(H,z):"2.5.29.54"==V?$=this.getExtInhibitAnyPolicy(H,z):"1.3.6.1.5.5.7.1.1"==V?$=this.getExtAuthorityInfoAccess(H,z):"2.5.29.20"==V?$=this.getExtCRLNumber(H,z):"2.5.29.21"==V?$=this.getExtCRLReason(H,z):"2.5.29.9"==V?$=this.getExtSubjectDirectoryAttributes(H,z):"1.3.6.1.5.5.7.48.1.2"==V?$=this.getExtOcspNonce(H,z):"1.3.6.1.5.5.7.48.1.5"==V?$=this.getExtOcspNoCheck(H,z):"1.2.840.113583.1.1.9.1"==V?$=this.getExtAdobeTimeStamp(H,z):null!=ge.EXT_PARSER[V]&&($=ge.EXT_PARSER[V](V,z,H)),null!=$)return $;var q={extname:V,extn:H};try{q.extn=g(H)}catch{}return z&&(q.critical=!0),q},this.findExt=function(T,R){for(var L=0;L<T.length;L++)if(T[L].extname==R)return T[L];return null},this.updateExtCDPFullURI=function(T,R){var L=this.findExt(T,"cRLDistributionPoints");if(null!=L&&null!=L.array)for(var j=L.array,V=0;V<j.length;V++)if(null!=j[V].dpname&&null!=j[V].dpname.full)for(var z=j[V].dpname.full,H=0;H<z.length;H++){var $=z[V];null!=$.uri&&($.uri=R)}},this.updateExtAIAOCSP=function(T,R){var L=this.findExt(T,"authorityInfoAccess");if(null!=L&&null!=L.array)for(var j=L.array,V=0;V<j.length;V++)null!=j[V].ocsp&&(j[V].ocsp=R)},this.updateExtAIACAIssuer=function(T,R){var L=this.findExt(T,"authorityInfoAccess");if(null!=L&&null!=L.array)for(var j=L.array,V=0;V<j.length;V++)null!=j[V].caissuer&&(j[V].caissuer=R)},this.dnarraytostr=function(T){return"/"+T.map(function(j){return function R(j){return j.map(function(V){return function L(j){return j.type+"="+j.value}(V).replace(/\+/,"\\+")}).join("+")}(j).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(T){var R;if(null!=T.str&&null==T.array){var j=new p.asn1.x509.X500Name({str:T.str}).tohex();R=this.getX500NameArray(j)}else R=T.array;null==T.canon&&(T.canon=this.c14nRDNArray(R))},this.c14nRDNArray=function(T){for(var R=[],L=0;L<T.length;L++){for(var j=T[L],V=[],z=0;z<j.length;z++){var H=j[z],$=H.value;$=($=($=($=$.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),V.push(H.type.toLowerCase()+"="+$)}R.push(V.join("+"))}return"/"+R.join("/")},this.getInfo=function(){var z,H,$,T=function(Vt){for(var Ve="",gt="    ",at=Vt.array,Ut=0;Ut<at.length;Ut++){var Ke=at[Ut];null!=Ke.dn&&(Ve+=gt+"dn: "+Ke.dn.str+"\n"),null!=Ke.ip&&(Ve+=gt+"ip: "+Ke.ip+"\n"),null!=Ke.rfc822&&(Ve+=gt+"rfc822: "+Ke.rfc822+"\n"),null!=Ke.dns&&(Ve+=gt+"dns: "+Ke.dns+"\n"),null!=Ke.uri&&(Ve+=gt+"uri: "+Ke.uri+"\n"),null!=Ke.other&&(Ve+=gt+"other: "+Ke.other.oid+"="+JSON.stringify(Ke.other.value).replace(/\"/g,"")+"\n")}return Ve.replace(/\n$/,"")},R=function(Vt){for(var Ve="",gt=Vt.array,nt=0;nt<gt.length;nt++){var at=gt[nt];if(Ve+="    policy oid: "+at.policyoid+"\n",void 0!==at.array)for(var Ut=0;Ut<at.array.length;Ut++){var Ke=at.array[Ut];void 0!==Ke.cps&&(Ve+="    cps: "+Ke.cps+"\n")}}return Ve},L=function(Vt){for(var Ve="",gt=Vt.array,nt=0;nt<gt.length;nt++){var at=gt[nt];try{void 0!==at.dpname.full[0].uri&&(Ve+="    "+at.dpname.full[0].uri+"\n")}catch{}try{void 0!==at.dname.full[0].dn.hex&&(Ve+="    "+ge.hex2dn(at.dpname.full[0].dn.hex)+"\n")}catch{}}return Ve},j=function(Vt){for(var Ve="",gt=Vt.array,nt=0;nt<gt.length;nt++){var at=gt[nt];void 0!==at.caissuer&&(Ve+="    caissuer: "+at.caissuer+"\n"),void 0!==at.ocsp&&(Ve+="    ocsp: "+at.ocsp+"\n")}return Ve};if(z="Basic Fields\n",z+="  serial number: "+this.getSerialNumberHex()+"\n",z+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",z+="  issuer: "+this.getIssuerString()+"\n",z+="  notBefore: "+this.getNotBefore()+"\n",z+="  notAfter: "+this.getNotAfter()+"\n",z+="  subject: "+this.getSubjectString()+"\n",z+="  subject public key info: \n",z+="    key algorithm: "+(H=this.getPublicKey()).type+"\n","RSA"===H.type&&(z+="    n="+Wi(H.n.toString(16)).substr(0,16)+"...\n",z+="    e="+Wi(H.e.toString(16))+"\n"),null!=($=this.aExtInfo)){z+="X509v3 Extensions:\n";for(var q=0;q<$.length;q++){var W=$[q],de=p.asn1.x509.OID.oid2name(W.oid);""===de&&(de=W.oid);var ce="";if(!0===W.critical&&(ce="CRITICAL"),z+="  "+de+" "+ce+":\n","basicConstraints"===de){var ue=this.getExtBasicConstraints();void 0===ue.cA?z+="    {}\n":(z+="    cA=true",void 0!==ue.pathLen&&(z+=", pathLen="+ue.pathLen),z+="\n")}else if("policyMappings"==de)z+="    "+this.getExtPolicyMappings().array.map(function(Vt){return Vt[0]+":"+Vt[1]}).join(", ")+"\n";else if("policyConstraints"==de)z+="    ",null!=(je=this.getExtPolicyConstraints()).reqexp&&(z+=" reqexp="+je.reqexp),null!=je.inhibit&&(z+=" inhibit="+je.inhibit),z+="\n";else if("inhibitAnyPolicy"==de){var je;z+="    skip="+(je=this.getExtInhibitAnyPolicy()).skip+"\n"}else if("keyUsage"==de)z+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==de)z+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==de){var _e=this.getExtAuthorityKeyIdentifier();void 0!==_e.kid&&(z+="    kid="+_e.kid.hex+"\n")}else"extKeyUsage"==de?z+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==de?z+=T(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==de?z+=L(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==de?z+=j(this.getExtAuthorityInfoAccess()):"certificatePolicies"==de&&(z+=R(this.getExtCertificatePolicies()))}}return(z+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof s&&(-1!=s.indexOf("-----BEGIN")?this.readCertPEM(s):p.lang.String.isHex(s)&&this.readCertHex(s))}le.getKey=function(s,a,u){var T,h=(l=ne).getChildIdx,m=l.getVbyList,v=p.crypto,E=v.ECDSA,b=v.DSA,_=pe,x=Qe,w=le;if(typeof _<"u"&&s instanceof _||typeof E<"u"&&s instanceof E||typeof b<"u"&&s instanceof b)return s;if(void 0!==s.curve&&void 0!==s.xy&&void 0===s.d)return new E({pub:s.xy,curve:s.curve});if(void 0!==s.curve&&void 0!==s.d)return new E({prv:s.d,curve:s.curve});if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0===s.d)return(y=new _).setPublic(s.n,s.e),y;if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0!==s.p&&void 0!==s.q&&void 0!==s.dp&&void 0!==s.dq&&void 0!==s.co&&void 0===s.qi)return(y=new _).setPrivateEx(s.n,s.e,s.d,s.p,s.q,s.dp,s.dq,s.co),y;if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0===s.p)return(y=new _).setPrivate(s.n,s.e,s.d),y;if(void 0!==s.p&&void 0!==s.q&&void 0!==s.g&&void 0!==s.y&&void 0===s.x)return(y=new b).setPublic(s.p,s.q,s.g,s.y),y;if(void 0!==s.p&&void 0!==s.q&&void 0!==s.g&&void 0!==s.y&&void 0!==s.x)return(y=new b).setPrivate(s.p,s.q,s.g,s.y,s.x),y;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0===s.d)return(y=new _).setPublic(He(s.n),He(s.e)),y;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0!==s.p&&void 0!==s.q&&void 0!==s.dp&&void 0!==s.dq&&void 0!==s.qi)return(y=new _).setPrivateEx(He(s.n),He(s.e),He(s.d),He(s.p),He(s.q),He(s.dp),He(s.dq),He(s.qi)),y;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d)return(y=new _).setPrivate(He(s.n),He(s.e),He(s.d)),y;if("EC"===s.kty&&void 0!==s.crv&&void 0!==s.x&&void 0!==s.y&&void 0===s.d){var S=(I=new E({curve:s.crv})).ecparams.keycharlen,F=("0000000000"+He(s.x)).slice(-S),C=("0000000000"+He(s.y)).slice(-S);return I.setPublicKeyHex(M="04"+F+C),I}if("EC"===s.kty&&void 0!==s.crv&&void 0!==s.x&&void 0!==s.y&&void 0!==s.d){S=(I=new E({curve:s.crv})).ecparams.keycharlen;var M="04"+(F=("0000000000"+He(s.x)).slice(-S))+(C=("0000000000"+He(s.y)).slice(-S)),P=("0000000000"+He(s.d)).slice(-S);return I.setPublicKeyHex(M),I.setPrivateKeyHex(P),I}if("pkcs5prv"===u){var O,k=s,l=ne;if(9===(O=h(k,0)).length)(y=new _).readPKCS5PrvKeyHex(k);else if(6===O.length)(y=new b).readPKCS5PrvKeyHex(k);else{if(!(O.length>2&&"04"===k.substr(O[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(y=new E).readPKCS5PrvKeyHex(k)}return y}if("pkcs8prv"===u)return w.getKeyFromPlainPrivatePKCS8Hex(s);if("pkcs8pub"===u)return w._getKeyFromPublicPKCS8Hex(s);if("x509pub"===u)return ge.getPublicKeyFromCertHex(s);if(-1!=s.indexOf("-END CERTIFICATE-",0)||-1!=s.indexOf("-END X509 CERTIFICATE-",0)||-1!=s.indexOf("-END TRUSTED CERTIFICATE-",0))return ge.getPublicKeyFromCertPEM(s);if(-1!=s.indexOf("-END PUBLIC KEY-")){var G=Qe(s,"PUBLIC KEY");return w._getKeyFromPublicPKCS8Hex(G)}if(-1!=s.indexOf("-END RSA PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED")){var Y=x(s,"RSA PRIVATE KEY");return w.getKey(Y,null,"pkcs5prv")}if(-1!=s.indexOf("-END DSA PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED")){var R=m(T=x(s,"DSA PRIVATE KEY"),0,[1],"02"),L=m(T,0,[2],"02"),j=m(T,0,[3],"02"),V=m(T,0,[4],"02"),z=m(T,0,[5],"02");return(y=new b).setPrivate(new K(R,16),new K(L,16),new K(j,16),new K(V,16),new K(z,16)),y}if(-1!=s.indexOf("-END EC PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED"))return Y=x(s,"EC PRIVATE KEY"),w.getKey(Y,null,"pkcs5prv");if(-1!=s.indexOf("-END PRIVATE KEY-"))return w.getKeyFromPlainPrivatePKCS8PEM(s);if(-1!=s.indexOf("-END RSA PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED")){var H=w.getDecryptedKeyHex(s,a),$=new pe;return $.readPKCS5PrvKeyHex(H),$}if(-1!=s.indexOf("-END EC PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED")){var I,y=m(T=w.getDecryptedKeyHex(s,a),0,[1],"04"),q=m(T,0,[2,0],"06"),W=m(T,0,[3,0],"03").substr(2);if(void 0===p.crypto.OID.oidhex2name[q])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+q);return(I=new E({curve:p.crypto.OID.oidhex2name[q]})).setPublicKeyHex(W),I.setPrivateKeyHex(y),I.isPublic=!1,I}if(-1!=s.indexOf("-END DSA PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED"))return R=m(T=w.getDecryptedKeyHex(s,a),0,[1],"02"),L=m(T,0,[2],"02"),j=m(T,0,[3],"02"),V=m(T,0,[4],"02"),z=m(T,0,[5],"02"),(y=new b).setPrivate(new K(R,16),new K(L,16),new K(j,16),new K(V,16),new K(z,16)),y;if(-1!=s.indexOf("-END ENCRYPTED PRIVATE KEY-"))return w.getKeyFromEncryptedPKCS8PEM(s,a);throw new Error("not supported argument")},le.generateKeypair=function(s,a){if("RSA"==s){var u=a;(l=new pe).generate(u,"10001"),l.isPrivate=!0,l.isPublic=!0;var h=new pe,g=l.n.toString(16),m=l.e.toString(16);return h.setPublic(g,m),h.isPrivate=!1,h.isPublic=!0,(v={}).prvKeyObj=l,v.pubKeyObj=h,v}if("EC"==s){var l,v,E=a,_=new p.crypto.ECDSA({curve:E}).generateKeyPairHex();return(l=new p.crypto.ECDSA({curve:E})).setPublicKeyHex(_.ecpubhex),l.setPrivateKeyHex(_.ecprvhex),l.isPrivate=!0,l.isPublic=!1,(h=new p.crypto.ECDSA({curve:E})).setPublicKeyHex(_.ecpubhex),h.isPrivate=!1,h.isPublic=!0,(v={}).prvKeyObj=l,v.pubKeyObj=h,v}throw new Error("unknown algorithm: "+s)},le.getPEM=function(s,a,u,l,h,g){var v=p.asn1,E=v.DERObjectIdentifier,b=v.DERInteger,_=v.ASN1Util.newObject,y=p.crypto,I=y.DSA,S=y.ECDSA,F=pe;function C(q){return _({seq:[{int:0},{int:{bigint:q.n}},{int:q.e},{int:{bigint:q.d}},{int:{bigint:q.p}},{int:{bigint:q.q}},{int:{bigint:q.dmp1}},{int:{bigint:q.dmq1}},{int:{bigint:q.coeff}}]})}function M(q){return _({seq:[{int:1},{octstr:{hex:q.prvKeyHex}},{tag:["a0",!0,{oid:{name:q.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+q.pubKeyHex}}]}]})}function P(q){return _({seq:[{int:0},{int:{bigint:q.p}},{int:{bigint:q.q}},{int:{bigint:q.g}},{int:{bigint:q.y}},{int:{bigint:q.x}}]})}if((void 0!==F&&s instanceof F||void 0!==I&&s instanceof I||void 0!==S&&s instanceof S)&&1==s.isPublic&&(void 0===a||"PKCS8PUB"==a))return rt(O=new(0,v.x509.SubjectPublicKeyInfo)(s).tohex(),"PUBLIC KEY");if("PKCS1PRV"==a&&void 0!==F&&s instanceof F&&(void 0===u||null==u)&&1==s.isPrivate)return rt(O=C(s).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==a&&void 0!==S&&s instanceof S&&(void 0===u||null==u)&&1==s.isPrivate){var Y=new E({name:s.curveName}).tohex(),R=M(s).tohex(),L="";return(L+=rt(Y,"EC PARAMETERS"))+rt(R,"EC PRIVATE KEY")}if("PKCS1PRV"==a&&void 0!==I&&s instanceof I&&(void 0===u||null==u)&&1==s.isPrivate)return rt(O=P(s).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==a&&void 0!==F&&s instanceof F&&void 0!==u&&null!=u&&1==s.isPrivate){var O=C(s).tohex();return void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",O,u,l,g)}if("PKCS5PRV"==a&&void 0!==S&&s instanceof S&&void 0!==u&&null!=u&&1==s.isPrivate)return O=M(s).tohex(),void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",O,u,l,g);if("PKCS5PRV"==a&&void 0!==I&&s instanceof I&&void 0!==u&&null!=u&&1==s.isPrivate)return O=P(s).tohex(),void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",O,u,l,g);var j=function(q,W){var de=V(q,W);return new _({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:de.pbkdf2Salt}},{int:de.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:de.encryptionSchemeIV}}]}]}]},{octstr:{hex:de.ciphertext}}]}).tohex()},V=function(q,W){var ce=ae.lib.WordArray.random(8),Ae=ae.lib.WordArray.random(8),Se=ae.PBKDF2(W,ce,{keySize:6,iterations:100}),je=ae.enc.Hex.parse(q),_e=ae.TripleDES.encrypt(je,Se,{iv:Ae})+"",Dt={};return Dt.ciphertext=_e,Dt.pbkdf2Salt=ae.enc.Hex.stringify(ce),Dt.pbkdf2Iter=100,Dt.encryptionSchemeAlg="DES-EDE3-CBC",Dt.encryptionSchemeIV=ae.enc.Hex.stringify(Ae),Dt};if("PKCS8PRV"==a&&null!=F&&s instanceof F&&1==s.isPrivate){var H=C(s).tohex();return O=_({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:H}}]}).tohex(),void 0===u||null==u?rt(O,"PRIVATE KEY"):rt(R=j(O,u),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==a&&void 0!==S&&s instanceof S&&1==s.isPrivate){var $={seq:[{int:1},{octstr:{hex:s.prvKeyHex}}]};return"string"==typeof s.pubKeyHex&&$.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+s.pubKeyHex}}]}),H=new _($).tohex(),O=_({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:s.curveName}}]},{octstr:{hex:H}}]}).tohex(),void 0===u||null==u?rt(O,"PRIVATE KEY"):rt(R=j(O,u),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==a&&void 0!==I&&s instanceof I&&1==s.isPrivate)return H=new b({bigint:s.x}).tohex(),O=_({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:s.p}},{int:{bigint:s.q}},{int:{bigint:s.g}}]}]},{octstr:{hex:H}}]}).tohex(),void 0===u||null==u?rt(O,"PRIVATE KEY"):rt(R=j(O,u),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},le.getKeyFromCSRPEM=function(s){var a=Qe(s,"CERTIFICATE REQUEST");return le.getKeyFromCSRHex(a)},le.getKeyFromCSRHex=function(s){var a=le.parseCSRHex(s);return le.getKey(a.p8pubkeyhex,null,"pkcs8pub")},le.parseCSRHex=function(s){var u=ne.getChildIdx,l=ne.getTLV,h={},g=s;if("30"!=g.substr(0,2))throw new Error("malformed CSR(code:001)");var m=u(g,0);if(m.length<1)throw new Error("malformed CSR(code:002)");if("30"!=g.substr(m[0],2))throw new Error("malformed CSR(code:003)");var v=u(g,m[0]);if(v.length<3)throw new Error("malformed CSR(code:004)");return h.p8pubkeyhex=l(g,v[2]),h},le.getKeyID=function(s){var a=le,u=ne;"string"==typeof s&&-1!=s.indexOf("BEGIN ")&&(s=a.getKey(s));var l=Qe(a.getPEM(s)),h=u.getIdxbyList(l,0,[1]),g=u.getV(l,h).substring(2);return p.crypto.Util.hashHex(g,"sha1")},le.getJWK=function(s,a,u,l,h){var g,v,m={},E=p.crypto.Util.hashHex;if("string"==typeof s)g=le.getKey(s),-1!=s.indexOf("CERTIFICATE")&&(v=Qe(s));else{if("object"!=typeof s)throw new Error("unsupported keyinfo type");s instanceof ge?(g=s.getPublicKey(),v=s.hex):g=s}if(g instanceof pe&&g.isPrivate)m.kty="RSA",m.n=ot(g.n.toString(16)),m.e=ot(g.e.toString(16)),m.d=ot(g.d.toString(16)),m.p=ot(g.p.toString(16)),m.q=ot(g.q.toString(16)),m.dp=ot(g.dmp1.toString(16)),m.dq=ot(g.dmq1.toString(16)),m.qi=ot(g.coeff.toString(16));else if(g instanceof pe&&g.isPublic)m.kty="RSA",m.n=ot(g.n.toString(16)),m.e=ot(g.e.toString(16));else if(g instanceof p.crypto.ECDSA&&g.isPrivate){if("P-256"!==(b=g.getShortNISTPCurveName())&&"P-384"!==b&&"P-521"!==b)throw new Error("unsupported curve name for JWT: "+b);var _=g.getPublicKeyXYHex();m.kty="EC",m.crv=b,m.x=ot(_.x),m.y=ot(_.y),m.d=ot(g.prvKeyHex)}else if(g instanceof p.crypto.ECDSA&&g.isPublic){var b;if("P-256"!==(b=g.getShortNISTPCurveName())&&"P-384"!==b&&"P-521"!==b)throw new Error("unsupported curve name for JWT: "+b);_=g.getPublicKeyXYHex(),m.kty="EC",m.crv=b,m.x=ot(_.x),m.y=ot(_.y)}if(null==m.kty)throw new Error("unsupported keyinfo");return!g.isPrivate&&1!=a&&(m.kid=p.jws.JWS.getJWKthumbprint(m)),null!=v&&1!=u&&(m.x5c=[In(v)]),null!=v&&1!=l&&(m.x5t=Vr(In(E(v,"sha1")))),null!=v&&1!=h&&(m["x5t#S256"]=Vr(In(E(v,"sha256")))),m},le.getJWKFromKey=function(s){return le.getJWK(s,!0,!0,!0,!0)},pe.getPosArrayOfChildrenFromHex=function(s){return ne.getChildIdx(s,0)},pe.getHexValueArrayOfChildrenFromHex=function(s){var w,u=ne.getV,l=u(s,(w=pe.getPosArrayOfChildrenFromHex(s))[0]),h=u(s,w[1]),g=u(s,w[2]),m=u(s,w[3]),v=u(s,w[4]),E=u(s,w[5]),b=u(s,w[6]),_=u(s,w[7]),x=u(s,w[8]);return(w=new Array).push(l,h,g,m,v,E,b,_,x),w},pe.prototype.readPrivateKeyFromPEMString=function(s){var a=Qe(s),u=pe.getHexValueArrayOfChildrenFromHex(a);this.setPrivateEx(u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8])},pe.prototype.readPKCS5PrvKeyHex=function(s){var a=pe.getHexValueArrayOfChildrenFromHex(s);this.setPrivateEx(a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},pe.prototype.readPKCS8PrvKeyHex=function(s){var a,u,l,h,g,m,v,E,_=ne.getVbyListEx;if(!1===ne.isASN1HEX(s))throw new Error("not ASN.1 hex string");try{a=_(s,0,[2,0,1],"02"),u=_(s,0,[2,0,2],"02"),l=_(s,0,[2,0,3],"02"),h=_(s,0,[2,0,4],"02"),g=_(s,0,[2,0,5],"02"),m=_(s,0,[2,0,6],"02"),v=_(s,0,[2,0,7],"02"),E=_(s,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(a,u,l,h,g,m,v,E)},pe.prototype.readPKCS5PubKeyHex=function(s){var a=ne,u=a.getV;if(!1===a.isASN1HEX(s))throw new Error("keyHex is not ASN.1 hex string");var l=a.getChildIdx(s,0);if(2!==l.length||"02"!==s.substr(l[0],2)||"02"!==s.substr(l[1],2))throw new Error("wrong hex for PKCS#5 public key");var h=u(s,l[0]),g=u(s,l[1]);this.setPublic(h,g)},pe.prototype.readPKCS8PubKeyHex=function(s){var a=ne;if(!1===a.isASN1HEX(s))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==a.getTLVbyListEx(s,0,[0,0]))throw new Error("not PKCS8 RSA public key");var u=a.getTLVbyListEx(s,0,[1,0]);this.readPKCS5PubKeyHex(u)},pe.prototype.readCertPubKeyHex=function(s,a){var u,l;(u=new ge).readCertHex(s),l=u.getPublicKeyHex(),this.readPKCS8PubKeyHex(l)},pe.prototype.sign=function(s,a){var l=function(h){return p.crypto.Util.hashString(h,a)}(s);return this.signWithMessageHash(l,a)},pe.prototype.signWithMessageHash=function(s,a){var l=Mt(p.crypto.Util.getPaddedDigestInfoHex(s,a,this.n.bitLength()),16);return Er(this.doPrivate(l).toString(16),this.n.bitLength())},pe.prototype.signPSS=function(s,a,u){var h=function(g){return p.crypto.Util.hashHex(g,a)}(un(s));return void 0===u&&(u=-1),this.signWithMessageHashPSS(h,a,u)},pe.prototype.signWithMessageHashPSS=function(s,a,u){var v,l=_t(s),h=l.length,g=this.n.bitLength()-1,m=Math.ceil(g/8),E=function(F){return p.crypto.Util.hashHex(F,a)};if(-1===u||void 0===u)u=h;else if(-2===u)u=m-h-2;else if(u<-2)throw new Error("invalid salt length");if(m<h+u+2)throw new Error("data too long");var b="";u>0&&(b=new Array(u),(new tr).nextBytes(b),b=String.fromCharCode.apply(String,b));var _=_t(E(un("\0\0\0\0\0\0\0\0"+l+b))),x=[];for(v=0;v<m-u-h-2;v+=1)x[v]=0;var w=String.fromCharCode.apply(String,x)+"\x01"+b,y=Bt(_,w.length,E),I=[];for(v=0;v<w.length;v+=1)I[v]=w.charCodeAt(v)^y.charCodeAt(v);for(I[0]&=~(65280>>8*m-g&255),v=0;v<h;v++)I.push(_.charCodeAt(v));return I.push(188),Er(this.doPrivate(new K(I)).toString(16),this.n.bitLength())},pe.prototype.verify=function(s,a){if(null==(a=a.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var u=Mt(a,16),l=this.n.bitLength();if(u.bitLength()>l)return!1;var g=this.doPublic(u).toString(16);if(g.length+3!=l/4)return!1;var v=vi(g.replace(/^1f+00/,""));if(0==v.length)return!1;var E=v[0],b=v[1],x=function(w){return p.crypto.Util.hashString(w,E)}(s);return b==x},pe.prototype.verifyWithMessageHash=function(s,a){if(a.length!=Math.ceil(this.n.bitLength()/4))return!1;var u=Mt(a,16);if(u.bitLength()>this.n.bitLength())return 0;var g=vi(this.doPublic(u).toString(16).replace(/^1f+00/,""));return 0!=g.length&&g[1]==s},pe.prototype.verifyPSS=function(s,a,u,l){var g=function(m){return p.crypto.Util.hashHex(m,u)}(un(s));return void 0===l&&(l=-1),this.verifyWithMessageHashPSS(g,a,u,l)},pe.prototype.verifyWithMessageHashPSS=function(s,a,u,l){if(a.length!=Math.ceil(this.n.bitLength()/4))return!1;var _,h=new K(a,16),g=function(M){return p.crypto.Util.hashHex(M,u)},m=_t(s),v=m.length,E=this.n.bitLength()-1,b=Math.ceil(E/8);if(-1===l||void 0===l)l=v;else if(-2===l)l=b-v-2;else if(l<-2)throw new Error("invalid salt length");if(b<v+l+2)throw new Error("data too long");var x=this.doPublic(h).toByteArray();for(_=0;_<x.length;_+=1)x[_]&=255;for(;x.length<b;)x.unshift(0);if(188!==x[b-1])throw new Error("encoded message does not end in 0xbc");var w=(x=String.fromCharCode.apply(String,x)).substr(0,b-v-1),y=x.substr(w.length,v),I=65280>>8*b-E&255;if(w.charCodeAt(0)&I)throw new Error("bits beyond keysize not zero");var S=Bt(y,w.length,g),F=[];for(_=0;_<w.length;_+=1)F[_]=w.charCodeAt(_)^S.charCodeAt(_);F[0]&=~I;var C=b-v-l-2;for(_=0;_<C;_+=1)if(0!==F[_])throw new Error("leftmost octets not zero");if(1!==F[C])throw new Error("0x01 marker not found");return y===_t(g(un("\0\0\0\0\0\0\0\0"+m+String.fromCharCode.apply(String,F.slice(-l)))))},pe.SALT_LEN_HLEN=-1,pe.SALT_LEN_MAX=-2,pe.SALT_LEN_RECOVER=-2,ge.EXT_PARSER={},ge.registExtParser=function(s,a){ge.EXT_PARSER[s]=a},ge.hex2dn=function(s,a){void 0===a&&(a=0);var u=new ge;return ne.getTLV(s,a),u.getX500Name(s).str},ge.hex2rdn=function(s,a){if(void 0===a&&(a=0),"31"!==s.substr(a,2))throw new Error("malformed RDN");for(var u=new Array,l=ne.getChildIdx(s,a),h=0;h<l.length;h++)u.push(ge.hex2attrTypeValue(s,l[h]));return u=u.map(function(g){return g.replace("+","\\+")}),u.join("+")},ge.hex2attrTypeValue=function(s,a){var u=ne,l=u.getV;if(void 0===a&&(a=0),"30"!==s.substr(a,2))throw new Error("malformed attribute type and value");var h=u.getChildIdx(s,a);2!==h.length||s.substr(h[0],2);var g=l(s,h[0]),m=p.asn1.ASN1Util.oidHexToInt(g);return p.asn1.x509.OID.oid2atype(m)+"="+_t(l(s,h[1]))},ge.getPublicKeyFromCertHex=function(s){var a=new ge;return a.readCertHex(s),a.getPublicKey()},ge.getPublicKeyFromCertPEM=function(s){var a=new ge;return a.readCertPEM(s),a.getPublicKey()},ge.getPublicKeyInfoPropOfCertPEM=function(s){var h,g,u=ne.getVbyList,l={algparam:null};return(h=new ge).readCertPEM(s),g=h.getPublicKeyHex(),l.keyhex=u(g,0,[1],"03").substr(2),l.algoid=u(g,0,[0,0],"06"),"2a8648ce3d0201"===l.algoid&&(l.algparam=u(g,0,[0,1],"06")),l},ge.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],(typeof p>"u"||!p)&&(p={}),(typeof p.jws>"u"||!p.jws)&&(p.jws={}),p.jws.JWS=function(){var u=p.jws.JWS.isSafeJSONString;this.parseJWS=function(l,h){if(void 0===this.parsedJWS||!h&&void 0===this.parsedJWS.sigvalH){var g=l.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==g)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var m=g[1],v=g[2],E=g[3],b=m+"."+v;if(this.parsedJWS={},this.parsedJWS.headB64U=m,this.parsedJWS.payloadB64U=v,this.parsedJWS.sigvalB64U=E,this.parsedJWS.si=b,!h){var _=He(E),x=Mt(_,16);this.parsedJWS.sigvalH=_,this.parsedJWS.sigvalBI=x}var w=wt(m),y=wt(v);if(this.parsedJWS.headS=w,this.parsedJWS.payloadS=y,!u(w,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+w}}},p.jws.JWS.sign=function(s,a,u,l,h){var S,F,C,v=p.jws.JWS,E=v.readSafeJSONString,b=v.isSafeJSONString,_=p.crypto,w=_.Mac,y=_.Signature,I=JSON;if("string"!=typeof a&&"object"!=typeof a)throw"spHeader must be JSON string or object: "+a;if("object"==typeof a&&(S=I.stringify(F=a)),"string"==typeof a){if(!b(S=a))throw"JWS Head is not safe JSON string: "+S;F=E(S)}if(C=u,"object"==typeof u&&(C=I.stringify(u)),(""==s||null==s)&&void 0!==F.alg&&(s=F.alg),""!=s&&null!=s&&void 0===F.alg&&(F.alg=s,S=I.stringify(F)),s!==F.alg)throw"alg and sHeader.alg doesn't match: "+s+"!="+F.alg;var M=null;if(void 0===v.jwsalg2sigalg[s])throw"unsupported alg name: "+s;M=v.jwsalg2sigalg[s];var O=fi(S)+"."+fi(C),G="";if("Hmac"==M.substr(0,4)){if(void 0===l)throw"mac key shall be specified for HS* alg";var Y=new w({alg:M,prov:"cryptojs",pass:l});Y.updateString(O),G=Y.doFinal()}else if(-1!=M.indexOf("withECDSA")){(T=new y({alg:M})).init(l,h),T.updateString(O);var R=T.sign();G=p.crypto.ECDSA.asn1SigToConcatSig(R)}else if("none"!=M){var T;(T=new y({alg:M})).init(l,h),T.updateString(O),G=T.sign()}return O+"."+ot(G)},p.jws.JWS.verify=function(s,a,u){var x,g=p.jws.JWS,m=g.readSafeJSONString,v=p.crypto,E=v.ECDSA,b=v.Mac,_=v.Signature;if(x=pe,!No(s))return!1;var w=s.split(".");if(3!==w.length)return!1;var P,S=w[0]+"."+w[1],F=He(w[2]),C=m(wt(w[0])),M=null;if(void 0===C.alg)throw"algorithm not specified in header";if(P=(M=C.alg).substr(0,2),null!=u&&"[object Array]"===Object.prototype.toString.call(u)&&u.length>0&&-1==(":"+u.join(":")+":").indexOf(":"+M+":"))throw"algorithm '"+M+"' not accepted in the list";if("none"!=M&&null===a)throw"key shall be specified to verify.";if("string"==typeof a&&-1!=a.indexOf("-----BEGIN ")&&(a=le.getKey(a)),!("RS"!=P&&"PS"!=P||a instanceof x))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==P&&!(a instanceof E))throw"key shall be a ECDSA obj for ES* algs";var O=null;if(void 0===g.jwsalg2sigalg[C.alg])throw"unsupported alg name: "+M;if("none"==(O=g.jwsalg2sigalg[M]))throw"not supported";if("Hmac"==O.substr(0,4)){if(void 0===a)throw"hexadecimal key shall be specified for HMAC";var Y=new b({alg:O,pass:a});return Y.updateString(S),F==Y.doFinal()}if(-1!=O.indexOf("withECDSA")){var R,T=null;try{T=E.concatSigToASN1Sig(F)}catch{return!1}return(R=new _({alg:O})).init(a),R.updateString(S),R.verify(T)}return(R=new _({alg:O})).init(a),R.updateString(S),R.verify(F)},p.jws.JWS.parse=function(s){var h,g,a=s.split("."),u={};if(2!=a.length&&3!=a.length)throw"malformed sJWS: wrong number of '.' splitted elements";return h=a[1],3==a.length&&(g=a[2]),u.headerObj=p.jws.JWS.readSafeJSONString(wt(a[0])),u.payloadObj=p.jws.JWS.readSafeJSONString(wt(h)),u.headerPP=JSON.stringify(u.headerObj,null,"  "),u.payloadPP=null==u.payloadObj?wt(h):JSON.stringify(u.payloadObj,null,"  "),void 0!==g&&(u.sigHex=He(g)),u},p.jws.JWS.verifyJWT=function(s,a,u){var h=p.jws,g=h.JWS,m=g.readSafeJSONString,v=g.inArray,E=g.includedArray;if(!No(s))return!1;var b=s.split(".");if(3!=b.length)return!1;var _=b[0],x=b[1],I=(He(b[2]),m(wt(_))),S=m(wt(x));if(void 0===I.alg)return!1;if(void 0===u.alg)throw"acceptField.alg shall be specified";if(!v(I.alg,u.alg)||void 0!==S.iss&&"object"==typeof u.iss&&!v(S.iss,u.iss)||void 0!==S.sub&&"object"==typeof u.sub&&!v(S.sub,u.sub))return!1;if(void 0!==S.aud&&"object"==typeof u.aud)if("string"==typeof S.aud){if(!v(S.aud,u.aud))return!1}else if("object"==typeof S.aud&&!E(S.aud,u.aud))return!1;var F=h.IntDate.getNow();return void 0!==u.verifyAt&&"number"==typeof u.verifyAt&&(F=u.verifyAt),(void 0===u.gracePeriod||"number"!=typeof u.gracePeriod)&&(u.gracePeriod=0),!(void 0!==S.exp&&"number"==typeof S.exp&&S.exp+u.gracePeriod<F||void 0!==S.nbf&&"number"==typeof S.nbf&&F<S.nbf-u.gracePeriod||void 0!==S.iat&&"number"==typeof S.iat&&F<S.iat-u.gracePeriod||void 0!==S.jti&&void 0!==u.jti&&S.jti!==u.jti||!g.verify(s,a,u.alg))},p.jws.JWS.includedArray=function(s,a){var u=p.jws.JWS.inArray;if(null===s||"object"!=typeof s||"number"!=typeof s.length)return!1;for(var l=0;l<s.length;l++)if(!u(s[l],a))return!1;return!0},p.jws.JWS.inArray=function(s,a){if(null===a||"object"!=typeof a||"number"!=typeof a.length)return!1;for(var u=0;u<a.length;u++)if(a[u]==s)return!0;return!1},p.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},p.jws.JWS.isSafeJSONString=function(s,a,u){var l=null;try{return"object"!=typeof(l=wu(s))||l.constructor===Array?0:(a&&(a[u]=l),1)}catch{return 0}},p.jws.JWS.readSafeJSONString=function(s){var a=null;try{return"object"!=typeof(a=wu(s))||a.constructor===Array?null:a}catch{return null}},p.jws.JWS.getEncodedSignatureValueFromJWS=function(s){var a=s.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==a)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return a[1]},p.jws.JWS.getJWKthumbprint=function(s){if("RSA"!==s.kty&&"EC"!==s.kty&&"oct"!==s.kty)throw"unsupported algorithm for JWK Thumprint";var a="{";if("RSA"===s.kty){if("string"!=typeof s.n||"string"!=typeof s.e)throw"wrong n and e value for RSA key";a+='"e":"'+s.e+'",',a+='"kty":"'+s.kty+'",',a+='"n":"'+s.n+'"}'}else if("EC"===s.kty){if("string"!=typeof s.crv||"string"!=typeof s.x||"string"!=typeof s.y)throw"wrong crv, x and y value for EC key";a+='"crv":"'+s.crv+'",',a+='"kty":"'+s.kty+'",',a+='"x":"'+s.x+'",',a+='"y":"'+s.y+'"}'}else if("oct"===s.kty){if("string"!=typeof s.k)throw"wrong k value for oct(symmetric) key";a+='"kty":"'+s.kty+'",',a+='"k":"'+s.k+'"}'}var u=un(a);return ot(p.crypto.Util.hashHex(u,"sha256"))},p.jws.IntDate={},p.jws.IntDate.get=function(s){var a=p.jws.IntDate,u=a.getNow,l=a.getZulu;if("now"==s)return u();if("now + 1hour"==s)return u()+3600;if("now + 1day"==s)return u()+86400;if("now + 1month"==s)return u()+2592e3;if("now + 1year"==s)return u()+31536e3;if(s.match(/Z$/))return l(s);if(s.match(/^[0-9]+$/))return parseInt(s);throw"unsupported format: "+s},p.jws.IntDate.getZulu=function(s){return Ao(s)},p.jws.IntDate.getNow=function(){return~~(new Date/1e3)},p.jws.IntDate.intDate2UTCString=function(s){return new Date(1e3*s).toUTCString()},p.jws.IntDate.intDate2Zulu=function(s){var a=new Date(1e3*s);return("0000"+a.getUTCFullYear()).slice(-4)+("00"+(a.getUTCMonth()+1)).slice(-2)+("00"+a.getUTCDate()).slice(-2)+("00"+a.getUTCHours()).slice(-2)+("00"+a.getUTCMinutes()).slice(-2)+("00"+a.getUTCSeconds()).slice(-2)+"Z"},(typeof p>"u"||!p)&&(p={}),(typeof p.jws>"u"||!p.jws)&&(p.jws={}),p.jws.JWSJS=function(){var u=p.jws.JWS,l=u.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(h){this.init();var g=h.split(".");if(3!=g.length)throw"malformed input JWS";this.aHeader.push(g[0]),this.sPayload=g[1],this.aSignature.push(g[2])},this.addSignature=function(h,g,m,v){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var E=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var _=p.jws.JWS.sign(h,g,this.sPayload,m,v).split(".");this.aHeader.push(_[0]),this.aSignature.push(_[2])}catch(y){throw this.aHeader.length>E&&this.aHeader.pop(),this.aSignature.length>E&&this.aSignature.pop(),"addSignature failed: "+y}},this.verifyAll=function(h){if(this.aHeader.length!==h.length||this.aSignature.length!==h.length)return!1;for(var g=0;g<h.length;g++){var m=h[g];if(2!==m.length)return!1;if(!1===this.verifyNth(g,m[0],m[1]))return!1}return!0},this.verifyNth=function(h,g,m){if(this.aHeader.length<=h||this.aSignature.length<=h)return!1;var b=this.aHeader[h]+"."+this.sPayload+"."+this.aSignature[h],_=!1;try{_=u.verify(b,g,m)}catch{return!1}return _},this.readJWSJS=function(h){if("string"==typeof h){var g=l(h);if(null==g)throw"argument is not safe JSON object string";this.aHeader=g.headers,this.sPayload=g.payload,this.aSignature=g.signatures}else try{if(!(h.headers.length>0))throw"malformed header";if(this.aHeader=h.headers,"string"!=typeof h.payload)throw"malformed signatures";if(this.sPayload=h.payload,!(h.signatures.length>0))throw"malformed signatures";this.aSignature=h.signatures}catch(m){throw"malformed JWS-JS JSON object: "+m}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},qa.fs=p}},$a=>{$a($a.s=325)}]);